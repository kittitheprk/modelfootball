var __IntegralASDiagnosticCall=function(){try{var e={};return function(t,n,r){try{if(!__IASScope.isDomless)try{__IASScope.postMessage({code:t,name:"jsdiag",origin:"ias"},"*")}catch(e){}!e[t]&&Math.random()<.01&&(e[t]=!0,i=function(e,t,n){var r="//diag.adsafeprotected.com/js?";try{var i=t&&t.message?encodeURIComponent(t.message.replace(/ /g,"-")).substring(0,200):"";r+="code:fwjs-diag-"+e,r+="&err:"+i,r+="&codeanderr:"+e+"_"+i,n&&(r+="&version:"+n.version||"",r+="&server:"+n.mn||"",r+="&region:"+n.region||"",r+="&mode:"+n.mode||"",r+="&forceAppend:"+n.forceAppend||"",r+="&asid:"+n.asid||"",r+="&anId:"+n.anId||"",r+="&advEntityId:"+n.advEntityId||"",r+="&pubEntityId:"+n.pubEntityId||"",r+="&mobOrTab:"+n.mobOrTab||"",r+="&app:"+n.app||"",r+="&mobAppWebview:"+n.mobAppWebview||""),r+="&domless:"+__IASScope.isDomless}catch(e){r+="&diagx:"+(e&&e.message?e.message.toString().replace(/ /g,"-"):"")}return r}(t,n,r),__IASScope.isDomless&&__IASOmidVerificationClient&&__IASOmidVerificationClient.sendUrl?__IASOmidVerificationClient.sendUrl(i):(new Image).src=i)}catch(e){}var i}}catch(e){return function(){}}}();try{var __IntegralASConfig={};try{__IASScope="undefined"!=typeof window?window:this,__IntegralASConfig.isResolved=!!__IntegralASConfig.jsFeatures,__IntegralASConfig.staticMode=!__IntegralASConfig.isResolved,__IntegralASConfig.birthdate=(new Date).getTime(),__IntegralASConfig.perfBirth=void 0!==__IASScope.performance&&"function"==typeof __IASScope.performance.now?__IASScope.performance.now():null,function(e,t,n){if("object"==typeof n&&"string"!=typeof n.nodeName)t(e,n);else{n={};var r=["1.5.3-iab4563"];function i(e){for(var t in e)e.hasOwnProperty(t)&&(e[t]=i(e[t]));return Object.freeze(e)}for(var o in t(e,n),n)n.hasOwnProperty(o)&&(null==Object.getOwnPropertyDescriptor(e,o)&&Object.defineProperty(e,o,{value:{}}),r.forEach((function(t){if(null==Object.getOwnPropertyDescriptor(e[o],t)){var r=i(n[o]);Object.defineProperty(e[o],t,{get:function(){return r},enumerable:!0})}})))}}("undefined"==typeof global?this:global,(function(omidGlobal,omidExports){var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.createTemplateTagFirstArg=function(e){return e.raw=e},$jscomp.createTemplateTagFirstArgWithRaw=function(e,t){return e.raw=t,e},$jscomp.arrayIteratorImpl=function(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}},$jscomp.arrayIterator=function(e){return{next:$jscomp.arrayIteratorImpl(e)}},$jscomp.makeIterator=function(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];if(t)return t.call(e);if("number"==typeof e.length)return $jscomp.arrayIterator(e);throw Error(String(e)+" is not an iterable or ArrayLike")},$jscomp.arrayFromIterator=function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n},$jscomp.arrayFromIterable=function(e){return e instanceof Array?e:$jscomp.arrayFromIterator($jscomp.makeIterator(e))},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.ISOLATE_POLYFILLS=!1,$jscomp.FORCE_POLYFILL_PROMISE=!1,$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1,$jscomp.objectCreate=$jscomp.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(e){var t=function(){};return t.prototype=e,new t},$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e},$jscomp.getGlobal=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")},$jscomp.global=$jscomp.getGlobal(this),$jscomp.IS_SYMBOL_NATIVE="function"==typeof Symbol&&"symbol"==typeof Symbol("x"),$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE,$jscomp.polyfills={},$jscomp.propertyToPolyfillSymbol={},$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(e,t,n){if(!n||null!=e)return null==(n=$jscomp.propertyToPolyfillSymbol[t])?e[t]:void 0!==(n=e[n])?n:e[t]};$jscomp.polyfill=function(e,t,n,r){t&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(e,t,n,r):$jscomp.polyfillUnisolated(e,t,n,r))},$jscomp.polyfillUnisolated=function(e,t,n,r){for(n=$jscomp.global,e=e.split("."),r=0;r<e.length-1;r++){var i=e[r];if(!(i in n))return;n=n[i]}(t=t(r=n[e=e[e.length-1]]))!=r&&null!=t&&$jscomp.defineProperty(n,e,{configurable:!0,writable:!0,value:t})},$jscomp.polyfillIsolated=function(e,t,n,r){var i=e.split(".");e=1===i.length,r=i[0],r=!e&&r in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var o=0;o<i.length-1;o++){var s=i[o];if(!(s in r))return;r=r[s]}i=i[i.length-1],null!=(t=t(n=$jscomp.IS_SYMBOL_NATIVE&&"es6"===n?r[i]:null))&&(e?$jscomp.defineProperty($jscomp.polyfills,i,{configurable:!0,writable:!0,value:t}):t!==n&&(void 0===$jscomp.propertyToPolyfillSymbol[i]&&(n=1e9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[i]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(i):$jscomp.POLYFILL_PREFIX+n+"$"+i),$jscomp.defineProperty(r,$jscomp.propertyToPolyfillSymbol[i],{configurable:!0,writable:!0,value:t})))},$jscomp.getConstructImplementation=function(){if($jscomp.TRUST_ES6_POLYFILLS&&"undefined"!=typeof Reflect&&Reflect.construct){if(function(){function e(){}return new e,Reflect.construct(e,[],(function(){})),new e instanceof e}())return Reflect.construct;var e=Reflect.construct;return function(t,n,r){return t=e(t,n),r&&Reflect.setPrototypeOf(t,r.prototype),t}}return function(e,t,n){return void 0===n&&(n=e),n=$jscomp.objectCreate(n.prototype||Object.prototype),Function.prototype.apply.call(e,n,t)||n}},$jscomp.construct=$jscomp.getConstructImplementation(),$jscomp.underscoreProtoCanBeSet=function(){var e={};try{return e.__proto__={a:!0},e.a}catch(e){}return!1},$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null,$jscomp.inherits=function(e,t){if(e.prototype=$jscomp.objectCreate(t.prototype),e.prototype.constructor=e,$jscomp.setPrototypeOf){var n=$jscomp.setPrototypeOf;n(e,t)}else for(n in t)if("prototype"!=n)if(Object.defineProperties){var r=Object.getOwnPropertyDescriptor(t,n);r&&Object.defineProperty(e,n,r)}else e[n]=t[n];e.superClass_=t.prototype},$jscomp.getRestArguments=function(){for(var e=Number(this),t=[],n=e;n<arguments.length;n++)t[n-e]=arguments[n];return t},$jscomp.polyfill("Reflect",(function(e){return e||{}}),"es6","es3"),$jscomp.polyfill("Reflect.construct",(function(e){return $jscomp.construct}),"es6","es3"),$jscomp.polyfill("Reflect.setPrototypeOf",(function(e){if(e)return e;if($jscomp.setPrototypeOf){var t=$jscomp.setPrototypeOf;return function(e,n){try{return t(e,n),!0}catch(e){return!1}}}return null}),"es6","es5"),$jscomp.owns=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},$jscomp.polyfill("Object.values",(function(e){return e||function(e){var t,n=[];for(t in e)$jscomp.owns(e,t)&&n.push(e[t]);return n}}),"es8","es3");var module$exports$omid$common$constants={AdEventType:{IMPRESSION:"impression",LOADED:"loaded",GEOMETRY_CHANGE:"geometryChange",SESSION_START:"sessionStart",SESSION_ERROR:"sessionError",SESSION_FINISH:"sessionFinish",MEDIA:"media",VIDEO:"video",START:"start",FIRST_QUARTILE:"firstQuartile",MIDPOINT:"midpoint",THIRD_QUARTILE:"thirdQuartile",COMPLETE:"complete",PAUSE:"pause",RESUME:"resume",BUFFER_START:"bufferStart",BUFFER_FINISH:"bufferFinish",SKIPPED:"skipped",VOLUME_CHANGE:"volumeChange",PLAYER_STATE_CHANGE:"playerStateChange",AD_USER_INTERACTION:"adUserInteraction",STATE_CHANGE:"stateChange"},MediaEventType:{LOADED:"loaded",START:"start",FIRST_QUARTILE:"firstQuartile",MIDPOINT:"midpoint",THIRD_QUARTILE:"thirdQuartile",COMPLETE:"complete",PAUSE:"pause",RESUME:"resume",BUFFER_START:"bufferStart",BUFFER_FINISH:"bufferFinish",SKIPPED:"skipped",VOLUME_CHANGE:"volumeChange",PLAYER_STATE_CHANGE:"playerStateChange",AD_USER_INTERACTION:"adUserInteraction"},ImpressionType:{DEFINED_BY_JAVASCRIPT:"definedByJavaScript",UNSPECIFIED:"unspecified",LOADED:"loaded",BEGIN_TO_RENDER:"beginToRender",ONE_PIXEL:"onePixel",VIEWABLE:"viewable",AUDIBLE:"audible",OTHER:"other"},ErrorType:{GENERIC:"generic",VIDEO:"video",MEDIA:"media"},AdSessionType:{NATIVE:"native",HTML:"html",JAVASCRIPT:"javascript"},EventOwner:{NATIVE:"native",JAVASCRIPT:"javascript",NONE:"none"},SessionOwner:{JAVASCRIPT:"javascript",NATIVE:"native"},AccessMode:{FULL:"full",DOMAIN:"domain",LIMITED:"limited"},AppState:{BACKGROUNDED:"backgrounded",FOREGROUNDED:"foregrounded"},DeviceLockState:{LOCKED:"locked",UNLOCKED:"unlocked"},Environment:{APP:"app",WEB:"web"},DeviceCategory:{CTV:"ctv",DESKTOP:"desktop",MOBILE:"mobile",OTHER:"other"},InteractionType:{CLICK:"click",INVITATION_ACCEPT:"invitationAccept"},CreativeType:{DEFINED_BY_JAVASCRIPT:"definedByJavaScript",HTML_DISPLAY:"htmlDisplay",NATIVE_DISPLAY:"nativeDisplay",VIDEO:"video",AUDIO:"audio"},MediaType:{DISPLAY:"display",VIDEO:"video"},Reason:{NOT_FOUND:"notFound",HIDDEN:"hidden",BACKGROUNDED:"backgrounded",PICTURE_IN_PICTURE:"pictureInPicture",DEVICE_LOCKED:"deviceLocked",VIEWPORT:"viewport",OBSTRUCTED:"obstructed",CLIPPED:"clipped",UNMEASURABLE:"unmeasurable",NO_WINDOW_FOCUS:"noWindowFocus",NO_OUTPUT_DEVICE:"noOutputDevice"},SupportedFeatures:{CONTAINER:"clid",VIDEO:"vlid"},VideoPosition:{PREROLL:"preroll",MIDROLL:"midroll",POSTROLL:"postroll",STANDALONE:"standalone"},VideoPlayerState:{MINIMIZED:"minimized",COLLAPSED:"collapsed",NORMAL:"normal",EXPANDED:"expanded",FULLSCREEN:"fullscreen"},NativeViewKeys:{X:"x",LEFT:"left",Y:"y",TOP:"top",WIDTH:"width",HEIGHT:"height",AD_SESSION_ID:"adSessionId",IS_FRIENDLY_OBSTRUCTION_FOR:"isFriendlyObstructionFor",CLIPS_TO_BOUNDS:"clipsToBounds",CHILD_VIEWS:"childViews",END_X:"endX",END_Y:"endY",OBSTRUCTIONS:"obstructions",OBSTRUCTION_CLASS:"obstructionClass",OBSTRUCTION_PURPOSE:"obstructionPurpose",OBSTRUCTION_REASON:"obstructionReason",PIXELS:"pixels",HAS_WINDOW_FOCUS:"hasWindowFocus"},MeasurementStateChangeSource:{CONTAINER:"container",CREATIVE:"creative"},ElementMarkup:{OMID_ELEMENT_CLASS_NAME:"omid-element"},CommunicationType:{NONE:"NONE",DIRECT:"DIRECT",POST_MESSAGE:"POST_MESSAGE"},OmidImplementer:{OMSDK:"omsdk"},MessageMethod:{IDENTIFY_SERVICE_WINDOW:"identifyServiceWindow"}},module$contents$omid$common$InternalMessage_GUID_KEY="omid_message_guid",module$contents$omid$common$InternalMessage_METHOD_KEY="omid_message_method",module$contents$omid$common$InternalMessage_VERSION_KEY="omid_message_version",module$contents$omid$common$InternalMessage_ARGS_KEY="omid_message_args",module$exports$omid$common$InternalMessage=function(e,t,n,r){this.guid=e,this.method=t,this.version=n,this.args=r};module$exports$omid$common$InternalMessage.isValidSerializedMessage=function(e){return!!e&&void 0!==e[module$contents$omid$common$InternalMessage_GUID_KEY]&&void 0!==e[module$contents$omid$common$InternalMessage_METHOD_KEY]&&void 0!==e[module$contents$omid$common$InternalMessage_VERSION_KEY]&&"string"==typeof e[module$contents$omid$common$InternalMessage_GUID_KEY]&&"string"==typeof e[module$contents$omid$common$InternalMessage_METHOD_KEY]&&"string"==typeof e[module$contents$omid$common$InternalMessage_VERSION_KEY]&&(void 0===e[module$contents$omid$common$InternalMessage_ARGS_KEY]||void 0!==e[module$contents$omid$common$InternalMessage_ARGS_KEY])},module$exports$omid$common$InternalMessage.deserialize=function(e){return new module$exports$omid$common$InternalMessage(e[module$contents$omid$common$InternalMessage_GUID_KEY],e[module$contents$omid$common$InternalMessage_METHOD_KEY],e[module$contents$omid$common$InternalMessage_VERSION_KEY],e[module$contents$omid$common$InternalMessage_ARGS_KEY])},module$exports$omid$common$InternalMessage.prototype.serialize=function(){var e={};return e[module$contents$omid$common$InternalMessage_GUID_KEY]=this.guid,e[module$contents$omid$common$InternalMessage_METHOD_KEY]=this.method,e[module$contents$omid$common$InternalMessage_VERSION_KEY]=this.version,e=e,void 0!==this.args&&(e[module$contents$omid$common$InternalMessage_ARGS_KEY]=this.args),e};var module$exports$omid$common$Communication=function(e){this.to=e,this.communicationType_=module$exports$omid$common$constants.CommunicationType.NONE};module$exports$omid$common$Communication.prototype.sendMessage=function(e,t){},module$exports$omid$common$Communication.prototype.handleMessage=function(e,t){this.onMessage&&this.onMessage(e,t)},module$exports$omid$common$Communication.prototype.serialize=function(e){return JSON.stringify(e)},module$exports$omid$common$Communication.prototype.deserialize=function(e){return JSON.parse(e)},module$exports$omid$common$Communication.prototype.isDirectCommunication=function(){return this.communicationType_===module$exports$omid$common$constants.CommunicationType.DIRECT},module$exports$omid$common$Communication.prototype.isCrossOrigin=function(){};var module$exports$omid$common$logger={};function module$contents$omid$common$logger_error(){var e=$jscomp.getRestArguments.apply(0,arguments);module$contents$omid$common$logger_executeLog((function(){throw new(Function.prototype.bind.apply(Error,[null,"Could not complete the test successfully - "].concat($jscomp.arrayFromIterable(e))))}),(function(){return console.error.apply(console,$jscomp.arrayFromIterable(e))}))}function module$contents$omid$common$logger_debug(){var e=$jscomp.getRestArguments.apply(0,arguments);module$contents$omid$common$logger_executeLog((function(){}),(function(){return console.error.apply(console,$jscomp.arrayFromIterable(e))}))}function module$contents$omid$common$logger_executeLog(e,t){"undefined"!=typeof jasmine&&jasmine?e():"undefined"!=typeof console&&console&&console.error&&t()}module$exports$omid$common$logger.error=module$contents$omid$common$logger_error,module$exports$omid$common$logger.debug=module$contents$omid$common$logger_debug;var module$exports$omid$common$eventTypedefs={},module$exports$omid$common$version={ApiVersion:"1.0",Version:"1.5.3-iab4563"},module$exports$omid$common$argsChecker={};function module$contents$omid$common$argsChecker_assertTruthyString(e,t){if(!t)throw Error("Value for "+e+" is undefined, null or blank.");if("string"!=typeof t&&!(t instanceof String))throw Error("Value for "+e+" is not a string.");if(""===t.trim())throw Error("Value for "+e+" is empty string.")}function module$contents$omid$common$argsChecker_assertNotNullObject(e,t){if(null==t)throw Error("Value for "+e+" is undefined or null")}function module$contents$omid$common$argsChecker_assertNumber(e,t){if(null==t)throw Error(e+" must not be null or undefined.");if("number"!=typeof t||isNaN(t))throw Error("Value for "+e+" is not a number")}function module$contents$omid$common$argsChecker_assertNumberBetween(e,t,n,r){if(module$contents$omid$common$argsChecker_assertNumber(e,t),t<n||t>r)throw Error("Value for "+e+" is outside the range ["+n+","+r+"]")}function module$contents$omid$common$argsChecker_assertFunction(e,t){if(!t)throw Error(e+" must not be truthy.")}function module$contents$omid$common$argsChecker_assertPositiveNumber(e,t){if(module$contents$omid$common$argsChecker_assertNumber(e,t),0>t)throw Error(e+" must be a positive number.")}module$exports$omid$common$argsChecker.assertTruthyString=module$contents$omid$common$argsChecker_assertTruthyString,module$exports$omid$common$argsChecker.assertNotNullObject=module$contents$omid$common$argsChecker_assertNotNullObject,module$exports$omid$common$argsChecker.assertNumber=module$contents$omid$common$argsChecker_assertNumber,module$exports$omid$common$argsChecker.assertNumberBetween=module$contents$omid$common$argsChecker_assertNumberBetween,module$exports$omid$common$argsChecker.assertFunction=module$contents$omid$common$argsChecker_assertFunction,module$exports$omid$common$argsChecker.assertPositiveNumber=module$contents$omid$common$argsChecker_assertPositiveNumber;var module$exports$omid$common$VersionUtils={},module$contents$omid$common$VersionUtils_SEMVER_DIGITS_NUMBER=3;function module$contents$omid$common$VersionUtils_isValidVersion(e){return/\d+\.\d+\.\d+(-.*)?/.test(e)}function module$contents$omid$common$VersionUtils_versionGreaterOrEqual(e,t){e=e.split("-")[0].split("."),t=t.split("-")[0].split(".");for(var n=0;n<module$contents$omid$common$VersionUtils_SEMVER_DIGITS_NUMBER;n++){var r=parseInt(e[n],10),i=parseInt(t[n],10);if(r>i)break;if(r<i)return!1}return!0}module$exports$omid$common$VersionUtils.isValidVersion=module$contents$omid$common$VersionUtils_isValidVersion,module$exports$omid$common$VersionUtils.versionGreaterOrEqual=module$contents$omid$common$VersionUtils_versionGreaterOrEqual;var module$exports$omid$common$ArgsSerDe={},module$contents$omid$common$ArgsSerDe_ARGS_NOT_SERIALIZED_VERSION="1.0.3";function module$contents$omid$common$ArgsSerDe_serializeMessageArgs(e,t){return module$contents$omid$common$VersionUtils_isValidVersion(e)&&module$contents$omid$common$VersionUtils_versionGreaterOrEqual(e,module$contents$omid$common$ArgsSerDe_ARGS_NOT_SERIALIZED_VERSION)?t:JSON.stringify(t)}function module$contents$omid$common$ArgsSerDe_deserializeMessageArgs(e,t){return module$contents$omid$common$VersionUtils_isValidVersion(e)&&module$contents$omid$common$VersionUtils_versionGreaterOrEqual(e,module$contents$omid$common$ArgsSerDe_ARGS_NOT_SERIALIZED_VERSION)?t||[]:t&&"string"==typeof t?JSON.parse(t):[]}module$exports$omid$common$ArgsSerDe.serializeMessageArgs=module$contents$omid$common$ArgsSerDe_serializeMessageArgs,module$exports$omid$common$ArgsSerDe.deserializeMessageArgs=module$contents$omid$common$ArgsSerDe_deserializeMessageArgs;var module$exports$omid$common$guid={};function module$contents$omid$common$guid_generateGuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return e="y"===e?(3&t|8).toString(16):t.toString(16)}))}module$exports$omid$common$guid.generateGuid=module$contents$omid$common$guid_generateGuid;var module$exports$omid$common$DetectOmid={OMID_PRESENT_FRAME_NAME:"omid_v1_present",OMID_PRESENT_FRAME_NAME_WEB:"omid_v1_present_web",OMID_PRESENT_FRAME_NAME_APP:"omid_v1_present_app",getEnvironmentIframeName:function(e){var t={};return(t[module$exports$omid$common$constants.Environment.APP]=module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME_APP,t[module$exports$omid$common$constants.Environment.WEB]=module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME_WEB,t)[e]}};function module$contents$omid$common$DetectOmid_isIframePresent(e,t){try{return e.frames&&!!e.frames[t]}catch(e){return!1}}function module$contents$omid$common$DetectOmid_writePresenceIframe_(e,t){e.document.write('<iframe style="display:none" id="'+t+'" name="'+t+'" sandbox></iframe>')}module$exports$omid$common$DetectOmid.isOmidPresent=function(e){return[module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME,module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME_WEB,module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME_APP].some((function(t){return module$contents$omid$common$DetectOmid_isIframePresent(e,t)}))},module$exports$omid$common$DetectOmid.getOmidEnvironment=function(e){for(var t=$jscomp.makeIterator(Object.values(module$exports$omid$common$constants.Environment)),n=t.next();!n.done;n=t.next()){if(n=n.value,module$contents$omid$common$DetectOmid_isIframePresent(e,module$exports$omid$common$DetectOmid.getEnvironmentIframeName(n)))return n}return null},module$exports$omid$common$DetectOmid.declareOmidPresence=function(e,t){e.frames&&e.document&&![module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME,module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME_WEB,module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME_APP].some((function(t){return!!e.frames[t]}))&&(null==e.document.body&&module$exports$omid$common$DetectOmid.isMutationObserverAvailable_(e)?module$exports$omid$common$DetectOmid.registerMutationObserver_(e,t):(t=module$exports$omid$common$DetectOmid.getEnvironmentIframeName(t),e.document.body?(module$exports$omid$common$DetectOmid.appendPresenceIframe_(e,module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME),module$exports$omid$common$DetectOmid.appendPresenceIframe_(e,t)):(module$contents$omid$common$DetectOmid_writePresenceIframe_(e,module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME),module$contents$omid$common$DetectOmid_writePresenceIframe_(e,t))))},module$exports$omid$common$DetectOmid.appendPresenceIframe_=function(e,t){var n=e.document.createElement("iframe");n.id=t,n.name=t,n.style.display="none",n.sandbox="",e.document.body.appendChild(n)},module$exports$omid$common$DetectOmid.isMutationObserverAvailable_=function(e){return"MutationObserver"in e},module$exports$omid$common$DetectOmid.registerMutationObserver_=function(e,t){var n=new MutationObserver((function(r){r.forEach((function(r){"BODY"===r.addedNodes[0].nodeName&&(r=module$exports$omid$common$DetectOmid.getEnvironmentIframeName(t),module$exports$omid$common$DetectOmid.appendPresenceIframe_(e,module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME),module$exports$omid$common$DetectOmid.appendPresenceIframe_(e,r),n.disconnect())}))}));n.observe(e.document.documentElement,{childList:!0})};var module$exports$omid$common$serviceMethodUtils={},module$contents$omid$common$serviceMethodUtils_ServiceMethodPrefix={SESSION_SERVICE:"SessionService.",VERIFICATION_SERVICE:"VerificationService."};function module$contents$omid$common$serviceMethodUtils_getPrefixedSessionServiceMethod(e){return module$contents$omid$common$serviceMethodUtils_getPrefixedMethod(e,module$contents$omid$common$serviceMethodUtils_ServiceMethodPrefix.SESSION_SERVICE)}function module$contents$omid$common$serviceMethodUtils_getUnprefixedSessionServiceMethod(e){return module$contents$omid$common$serviceMethodUtils_getUnprefixedMethod(e,module$contents$omid$common$serviceMethodUtils_ServiceMethodPrefix.SESSION_SERVICE)}function module$contents$omid$common$serviceMethodUtils_isPrefixedSessionServiceMethod(e){return null!=module$contents$omid$common$serviceMethodUtils_getUnprefixedSessionServiceMethod(e)}function module$contents$omid$common$serviceMethodUtils_getPrefixedVerificationServiceMethod(e){return module$contents$omid$common$serviceMethodUtils_getPrefixedMethod(e,module$contents$omid$common$serviceMethodUtils_ServiceMethodPrefix.VERIFICATION_SERVICE)}function module$contents$omid$common$serviceMethodUtils_getUnprefixedVerificationServiceMethod(e){return module$contents$omid$common$serviceMethodUtils_getUnprefixedMethod(e,module$contents$omid$common$serviceMethodUtils_ServiceMethodPrefix.VERIFICATION_SERVICE)}function module$contents$omid$common$serviceMethodUtils_isPrefixedVerificationServiceMethod(e){return null!=module$contents$omid$common$serviceMethodUtils_getUnprefixedVerificationServiceMethod(e)}function module$contents$omid$common$serviceMethodUtils_getPrefixedMethod(e,t){return t+e}function module$contents$omid$common$serviceMethodUtils_getUnprefixedMethod(e,t){return(e=e.match(new RegExp("^"+t+"(.*)")))&&e[1]}module$exports$omid$common$serviceMethodUtils.getPrefixedSessionServiceMethod=module$contents$omid$common$serviceMethodUtils_getPrefixedSessionServiceMethod,module$exports$omid$common$serviceMethodUtils.getPrefixedVerificationServiceMethod=module$contents$omid$common$serviceMethodUtils_getPrefixedVerificationServiceMethod,module$exports$omid$common$serviceMethodUtils.getUnprefixedSessionServiceMethod=module$contents$omid$common$serviceMethodUtils_getUnprefixedSessionServiceMethod,module$exports$omid$common$serviceMethodUtils.getUnprefixedVerificationServiceMethod=module$contents$omid$common$serviceMethodUtils_getUnprefixedVerificationServiceMethod,module$exports$omid$common$serviceMethodUtils.isPrefixedSessionServiceMethod=module$contents$omid$common$serviceMethodUtils_isPrefixedSessionServiceMethod,module$exports$omid$common$serviceMethodUtils.isPrefixedVerificationServiceMethod=module$contents$omid$common$serviceMethodUtils_isPrefixedVerificationServiceMethod;var module$exports$omid$common$OmidGlobalProvider={};function module$contents$omid$common$OmidGlobalProvider_getOmidGlobal(){if(void 0!==omidGlobal&&omidGlobal)return omidGlobal;if("undefined"!=typeof global&&global)return global;if("undefined"!=typeof window&&window)return window;if("undefined"!=typeof globalThis&&globalThis)return globalThis;var e=Function("return this")();if(e)return e;throw Error("Could not determine global object context.")}module$exports$omid$common$OmidGlobalProvider.omidGlobal=module$contents$omid$common$OmidGlobalProvider_getOmidGlobal();var module$exports$omid$common$exporter={};function module$contents$omid$common$exporter_getOmidExports(){return void 0===omidExports?null:omidExports}function module$contents$omid$common$exporter_getOrCreateName(e,t){return e&&(e[t]||(e[t]={}))}function module$contents$omid$common$exporter_packageExport(e,t,n){(n=void 0===n?module$contents$omid$common$exporter_getOmidExports():n)&&((e=e.split(".")).slice(0,e.length-1).reduce(module$contents$omid$common$exporter_getOrCreateName,n)[e[e.length-1]]=t)}module$exports$omid$common$exporter.packageExport=module$contents$omid$common$exporter_packageExport;var module$exports$omid$common$windowUtils={};function module$contents$omid$common$windowUtils_isValidWindow(e){return null!=e&&void 0!==e.top&&null!=e.top}function module$contents$omid$common$windowUtils_isCrossOrigin(e){if(e===module$exports$omid$common$OmidGlobalProvider.omidGlobal)return!1;try{if(void 0===e.location.hostname)return!0;module$contents$omid$common$windowUtils_isSameOriginForIE(e)}catch(e){return!0}return!1}function module$contents$omid$common$windowUtils_isSameOriginForIE(e){return""===e.x||""!==e.x}function module$contents$omid$common$windowUtils_resolveGlobalContext(e){return void 0===e&&"undefined"!=typeof window&&window&&(e=window),module$contents$omid$common$windowUtils_isValidWindow(e)?e:module$exports$omid$common$OmidGlobalProvider.omidGlobal}function module$contents$omid$common$windowUtils_resolveTopWindowContext(e){return module$contents$omid$common$windowUtils_isValidWindow(e)?e.top:module$exports$omid$common$OmidGlobalProvider.omidGlobal}function module$contents$omid$common$windowUtils_isTopWindowAccessible(e){try{return!!e.top.location.href}catch(e){return!1}}function module$contents$omid$common$windowUtils_removeDomElements(e){return e.type===module$exports$omid$common$constants.AdEventType.SESSION_START&&(void 0!==e.data.context.videoElement&&(e.data.context.videoElement="Video Element ("+e.data.context.videoElement.id+")"),void 0!==e.data.context.slotElement&&(e.data.context.slotElement="Slot Element ("+e.data.context.slotElement.id+")")),e}function module$contents$omid$common$windowUtils_evaluatePageUrl(e){if(!module$contents$omid$common$windowUtils_isValidWindow(e))return null;try{var t=e.top;return module$contents$omid$common$windowUtils_isCrossOrigin(t)?null:t.location.href}catch(e){return null}}module$exports$omid$common$windowUtils.evaluatePageUrl=module$contents$omid$common$windowUtils_evaluatePageUrl,module$exports$omid$common$windowUtils.isCrossOrigin=module$contents$omid$common$windowUtils_isCrossOrigin,module$exports$omid$common$windowUtils.removeDomElements=module$contents$omid$common$windowUtils_removeDomElements,module$exports$omid$common$windowUtils.resolveGlobalContext=module$contents$omid$common$windowUtils_resolveGlobalContext,module$exports$omid$common$windowUtils.resolveTopWindowContext=module$contents$omid$common$windowUtils_resolveTopWindowContext,module$exports$omid$common$windowUtils.isTopWindowAccessible=module$contents$omid$common$windowUtils_isTopWindowAccessible;var module$exports$omid$common$DirectCommunication=function(e){module$exports$omid$common$Communication.call(this,e),this.communicationType_=module$exports$omid$common$constants.CommunicationType.DIRECT,this.handleExportedMessage=module$exports$omid$common$DirectCommunication.prototype.handleExportedMessage.bind(this)};$jscomp.inherits(module$exports$omid$common$DirectCommunication,module$exports$omid$common$Communication),module$exports$omid$common$DirectCommunication.prototype.sendMessage=function(e,t){if(!(t=void 0===t?this.to:t))throw Error("Message destination must be defined at construction time or when sending the message.");t.handleExportedMessage(e.serialize(),this)},module$exports$omid$common$DirectCommunication.prototype.handleExportedMessage=function(e,t){module$exports$omid$common$InternalMessage.isValidSerializedMessage(e)&&this.handleMessage(module$exports$omid$common$InternalMessage.deserialize(e),t)},module$exports$omid$common$DirectCommunication.prototype.isCrossOrigin=function(){return!1};var module$exports$omid$common$PostMessageCommunication=function(e,t){t=void 0===t?module$exports$omid$common$OmidGlobalProvider.omidGlobal:t,module$exports$omid$common$Communication.call(this,t);var n=this;this.communicationType_=module$exports$omid$common$constants.CommunicationType.POST_MESSAGE,e.addEventListener("message",(function(e){if("object"==typeof e.data){var t=e.data;module$exports$omid$common$InternalMessage.isValidSerializedMessage(t)&&(t=module$exports$omid$common$InternalMessage.deserialize(t),e.source&&n.handleMessage(t,e.source))}}))};$jscomp.inherits(module$exports$omid$common$PostMessageCommunication,module$exports$omid$common$Communication),module$exports$omid$common$PostMessageCommunication.isCompatibleContext=function(e){return!!(e&&e.addEventListener&&e.postMessage)},module$exports$omid$common$PostMessageCommunication.prototype.sendMessage=function(e,t){if(!(t=void 0===t?this.to:t))throw Error("Message destination must be defined at construction time or when sending the message.");t.postMessage(e.serialize(),"*")},module$exports$omid$common$PostMessageCommunication.prototype.isCrossOrigin=function(){return!this.to||module$contents$omid$common$windowUtils_isCrossOrigin(this.to)};var module$exports$omid$common$serviceCommunication={},module$contents$omid$common$serviceCommunication_EXPORTED_SESSION_COMMUNICATION_NAME=["omid","v1_SessionServiceCommunication"],module$contents$omid$common$serviceCommunication_EXPORTED_VERIFICATION_COMMUNICATION_NAME=["omid","v1_VerificationServiceCommunication"],module$contents$omid$common$serviceCommunication_EXPORTED_SERVICE_WINDOW_NAME=["omidVerificationProperties","serviceWindow"];function module$contents$omid$common$serviceCommunication_getValueForKeypath(e,t){return t.reduce((function(e,t){return e&&e[t]}),e)}function module$contents$omid$common$serviceCommunication_startServiceCommunication(e,t,n,r){if(!module$contents$omid$common$windowUtils_isCrossOrigin(t))try{var i=module$contents$omid$common$serviceCommunication_getValueForKeypath(t,n);if(i)return new module$exports$omid$common$DirectCommunication(i)}catch(e){}return r(t)?new module$exports$omid$common$PostMessageCommunication(e,t):null}function module$contents$omid$common$serviceCommunication_startServiceCommunicationFromCandidates(e,t,n,r){for(var i=(t=$jscomp.makeIterator(t)).next();!i.done;i=t.next())if(i=module$contents$omid$common$serviceCommunication_startServiceCommunication(e,i.value,n,r))return i;return null}function module$contents$omid$common$serviceCommunication_startSessionServiceCommunication(e,t,n){n=void 0===n?module$exports$omid$common$DetectOmid.isOmidPresent:n;var r=[e,module$contents$omid$common$windowUtils_resolveTopWindowContext(e)];return t&&r.unshift(t),module$contents$omid$common$serviceCommunication_startServiceCommunicationFromCandidates(e,r,module$contents$omid$common$serviceCommunication_EXPORTED_SESSION_COMMUNICATION_NAME,n)}function module$contents$omid$common$serviceCommunication_startVerificationServiceCommunication(e,t){t=void 0===t?module$exports$omid$common$DetectOmid.isOmidPresent:t;var n=[],r=module$contents$omid$common$serviceCommunication_getValueForKeypath(e,module$contents$omid$common$serviceCommunication_EXPORTED_SERVICE_WINDOW_NAME);return r&&n.push(r),n.push(module$contents$omid$common$windowUtils_resolveTopWindowContext(e)),module$contents$omid$common$serviceCommunication_startServiceCommunicationFromCandidates(e,n,module$contents$omid$common$serviceCommunication_EXPORTED_VERIFICATION_COMMUNICATION_NAME,t)}module$exports$omid$common$serviceCommunication.startSessionServiceCommunication=module$contents$omid$common$serviceCommunication_startSessionServiceCommunication,module$exports$omid$common$serviceCommunication.startVerificationServiceCommunication=module$contents$omid$common$serviceCommunication_startVerificationServiceCommunication;var module$contents$omid$verificationClient$VerificationClient_VERIFICATION_CLIENT_VERSION=module$exports$omid$common$version.Version,module$contents$omid$verificationClient$VerificationClient_EventCallback;function module$contents$omid$verificationClient$VerificationClient_getThirdPartyOmid(){var e=module$exports$omid$common$OmidGlobalProvider.omidGlobal.omid3p;return e&&"function"==typeof e.registerSessionObserver&&"function"==typeof e.addEventListener?e:null}var module$exports$omid$verificationClient$VerificationClient=function(e){(this.communication=e||module$contents$omid$common$serviceCommunication_startVerificationServiceCommunication(module$contents$omid$common$windowUtils_resolveGlobalContext()))?this.communication.onMessage=this.handleMessage_.bind(this):(e=module$contents$omid$verificationClient$VerificationClient_getThirdPartyOmid())&&(this.omid3p=e),this.callbackMap_={},this.imgCache_=[],this.injectionId_=(e=module$exports$omid$common$OmidGlobalProvider.omidGlobal.omidVerificationProperties)?e.injectionId:void 0};module$exports$omid$verificationClient$VerificationClient.prototype.isSupported=function(){return!(this.getEnvironment()===module$exports$omid$common$constants.Environment.WEB&&!this.injectionId_)&&!(!this.communication&&!this.omid3p)},module$exports$omid$verificationClient$VerificationClient.prototype.getEnvironment=function(){var e=module$contents$omid$common$windowUtils_resolveGlobalContext();return this.injectionSource()||(0,module$exports$omid$common$DetectOmid.getOmidEnvironment)(e)||(0,module$exports$omid$common$DetectOmid.getOmidEnvironment)(module$contents$omid$common$windowUtils_resolveTopWindowContext(e))},module$exports$omid$verificationClient$VerificationClient.prototype.injectionSource=function(){var e=module$exports$omid$common$OmidGlobalProvider.omidGlobal.omidVerificationProperties;if(e&&e.injectionSource)return e.injectionSource},module$exports$omid$verificationClient$VerificationClient.prototype.registerSessionObserver=function(e,t){module$contents$omid$common$argsChecker_assertFunction("functionToExecute",e),this.omid3p?this.omid3p.registerSessionObserver(e,t,this.injectionId_):this.sendMessage_("addSessionListener",e,t,this.injectionId_)},module$exports$omid$verificationClient$VerificationClient.prototype.addEventListener=function(e,t){module$contents$omid$common$argsChecker_assertTruthyString("eventType",e),module$contents$omid$common$argsChecker_assertFunction("functionToExecute",t),this.omid3p?this.omid3p.addEventListener(e,t,this.injectionId_):this.sendMessage_("addEventListener",t,e,this.injectionId_)},module$exports$omid$verificationClient$VerificationClient.prototype.sendUrl=function(e,t,n){module$contents$omid$common$argsChecker_assertTruthyString("url",e),module$exports$omid$common$OmidGlobalProvider.omidGlobal.document&&module$exports$omid$common$OmidGlobalProvider.omidGlobal.document.createElement?this.sendUrlWithImg_(e,t,n):this.sendMessage_("sendUrl",(function(e){e&&t?t():!e&&n&&n()}),e)},module$exports$omid$verificationClient$VerificationClient.prototype.sendUrlWithImg_=function(e,t,n){var r=this,i=module$exports$omid$common$OmidGlobalProvider.omidGlobal.document.createElement("img");this.imgCache_.push(i);var o=function(e){var t=r.imgCache_.indexOf(i);0<=t&&r.imgCache_.splice(t,1),e&&e()};i.addEventListener("load",o.bind(this,t)),i.addEventListener("error",o.bind(this,n)),i.src=e},module$exports$omid$verificationClient$VerificationClient.prototype.injectJavaScriptResource=function(e,t,n){var r=this;module$contents$omid$common$argsChecker_assertTruthyString("url",e),module$exports$omid$common$OmidGlobalProvider.omidGlobal.document?this.injectJavascriptResourceUrlInDom_(e,t,n):this.sendMessage_("injectJavaScriptResource",(function(i,o){i?(r.evaluateJavaScript_(o,e),t()):(module$contents$omid$common$logger_error("Service failed to load JavaScript resource."),n())}),e)},module$exports$omid$verificationClient$VerificationClient.prototype.injectJavascriptResourceUrlInDom_=function(e,t,n){var r=module$exports$omid$common$OmidGlobalProvider.omidGlobal.document,i=r.body;(r=r.createElement("script")).onload=t,r.onerror=n,r.src=e,r.type="application/javascript",i.appendChild(r)},module$exports$omid$verificationClient$VerificationClient.prototype.evaluateJavaScript_=function(a,b){try{eval(a)}catch(e){module$contents$omid$common$logger_error('Error evaluating the JavaScript resource from "'+b+'".')}},module$exports$omid$verificationClient$VerificationClient.prototype.setTimeout=function(e,t){if(module$contents$omid$common$argsChecker_assertFunction("functionToExecute",e),module$contents$omid$common$argsChecker_assertPositiveNumber("timeInMillis",t),this.hasTimeoutMethods_())return module$exports$omid$common$OmidGlobalProvider.omidGlobal.setTimeout(e,t);var n=1e6*(new Date).getTime()+Math.floor(1e6*Math.random());return this.sendMessage_("setTimeout",e,n,t),n},module$exports$omid$verificationClient$VerificationClient.prototype.clearTimeout=function(e){module$contents$omid$common$argsChecker_assertPositiveNumber("timeoutId",e),this.hasTimeoutMethods_()?module$exports$omid$common$OmidGlobalProvider.omidGlobal.clearTimeout(e):this.sendOneWayMessage_("clearTimeout",e)},module$exports$omid$verificationClient$VerificationClient.prototype.setInterval=function(e,t){if(module$contents$omid$common$argsChecker_assertFunction("functionToExecute",e),module$contents$omid$common$argsChecker_assertPositiveNumber("timeInMillis",t),this.hasIntervalMethods_())return module$exports$omid$common$OmidGlobalProvider.omidGlobal.setInterval(e,t);var n=1e6*(new Date).getTime()+Math.floor(1e6*Math.random());return this.sendMessage_("setInterval",e,n,t),n},module$exports$omid$verificationClient$VerificationClient.prototype.clearInterval=function(e){module$contents$omid$common$argsChecker_assertPositiveNumber("intervalId",e),this.hasIntervalMethods_()?module$exports$omid$common$OmidGlobalProvider.omidGlobal.clearInterval(e):this.sendOneWayMessage_("clearInterval",e)},module$exports$omid$verificationClient$VerificationClient.prototype.hasTimeoutMethods_=function(){return"function"==typeof module$exports$omid$common$OmidGlobalProvider.omidGlobal.setTimeout&&"function"==typeof module$exports$omid$common$OmidGlobalProvider.omidGlobal.clearTimeout},module$exports$omid$verificationClient$VerificationClient.prototype.hasIntervalMethods_=function(){return"function"==typeof module$exports$omid$common$OmidGlobalProvider.omidGlobal.setInterval&&"function"==typeof module$exports$omid$common$OmidGlobalProvider.omidGlobal.clearInterval},module$exports$omid$verificationClient$VerificationClient.prototype.handleMessage_=function(e,t){t=e.method;var n=e.guid;if(e=e.args,"response"===t&&this.callbackMap_[n]){var r=module$contents$omid$common$ArgsSerDe_deserializeMessageArgs(module$exports$omid$common$version.Version,e);this.callbackMap_[n].apply(this,r)}"error"===t&&window.console&&module$contents$omid$common$logger_error(e)},module$exports$omid$verificationClient$VerificationClient.prototype.sendOneWayMessage_=function(e){var t=$jscomp.getRestArguments.apply(1,arguments);this.sendMessage_.apply(this,[e,null].concat($jscomp.arrayFromIterable(t)))},module$exports$omid$verificationClient$VerificationClient.prototype.sendMessage_=function(e,t){var n=$jscomp.getRestArguments.apply(2,arguments);if(this.communication){var r=module$contents$omid$common$guid_generateGuid();t&&(this.callbackMap_[r]=t),n=new module$exports$omid$common$InternalMessage(r,module$contents$omid$common$serviceMethodUtils_getPrefixedVerificationServiceMethod(e),module$exports$omid$common$version.Version,module$contents$omid$common$ArgsSerDe_serializeMessageArgs(module$exports$omid$common$version.Version,n)),this.communication.sendMessage(n)}},module$contents$omid$common$exporter_packageExport("OmidVerificationClient",module$exports$omid$verificationClient$VerificationClient)}),"undefined"==typeof exports?void 0:exports)}catch(e){__IntegralASDiagnosticCall("thirdparty",e)}if(__IASScope.isDomless="undefined"==typeof window,__IASOmidVerificationClient={isSupported:function(){return!1}},void 0!==__IASScope.OmidVerificationClient)try{__IASOmidVerificationClient=new __IASScope.OmidVerificationClient["1.5.3-iab4563"]}catch(e){try{__IASOmidVerificationClient=new __IASScope.OmidVerificationClient}catch(e){}}var isRedirectedStaticCMTag=!1;function IASBaseTrustedTypesPolicy(e){if(this.policy=null,e&&!e.isDomless&&e.trustedTypes&&e.trustedTypes.createPolicy)try{this.policy=e.trustedTypes.createPolicy("IASBaseTrustedTypesPolicy",{createHTML:function(e){return e},createScriptURL:function(e){return e},createScript:function(e){return e}})}catch(e){}this.createHTML=function(e){return this.policy&&this.policy.createHTML?this.policy.createHTML(e):e},this.createScriptURL=function(e){return this.policy&&this.policy.createScriptURL?this.policy.createScriptURL(e):e},this.createScript=function(e){return this.policy&&this.policy.createScript?this.policy.createScript(e):e}}!__IASScope.isDomless&&document.currentScript&&document.currentScript.src&&document.currentScript.src.includes("/jload")&&(isRedirectedStaticCMTag=!0),__IASScope&&!__IASScope.iasBaseTrustedTypesPolicy&&(__IASScope.iasBaseTrustedTypesPolicy=new IASBaseTrustedTypesPolicy(__IASScope)),__IntegralASConfig.useFIF=__IASScope&&!!__IASScope.__IntegralASUseFIF&&("jload"===__IntegralASConfig.mode||isRedirectedStaticCMTag),__IntegralASConfig.adRefreshThreshold=__IASScope&&__IASScope.__IntegralASAdRefreshThreshold,__IntegralASConfig.getContextNode=function(e,t){"use strict";if(!__IASScope.isDomless){if(e.location&&e.location.href&&(e.location.href.includes("fw.html")||e.location.href.includes("/rjsi/")))return{dataset:{},parentNode:e.document.body,src:e.location.href};if(__IntegralASConfig.useFIF)return __IASScope.frameElement;if(document.currentScript)return document.currentScript;var n,r=__IntegralASConfig.scriptUrl,i=function(e){var t=[];if(e){function e(n){"SCRIPT"===n.tagName&&t.push(n),n.shadowRoot&&e(n.shadowRoot);for(var r=n.children,i=0;i<r.length;i++)e(r[i])}e(document.body)}else t=[...document.getElementsByTagName("script")];return t}(r&&r.includes("ias_searchshadowdom=true")),o=i[i.length-1],s=i.length;try{for(;--s>=0;)if((n=i[s]).src&&0===n.src.indexOf(r)&&null===n.getAttribute("data-ias-script-tag")){o=n,n.setAttribute("data-ias-script-tag","found");break}}catch(e){}return o}},__IntegralASConfig.getCurrentScript=function(){if(document.currentScript)return document.currentScript},__IntegralASConfig.contextNode=__IASScope.isDomless?void 0:__IntegralASConfig.getContextNode(window,top),__IntegralASConfig.currentScript=__IASScope.isDomless?void 0:__IntegralASConfig.getCurrentScript(),__IntegralASConfig.perfFactory=function(){"use strict";var e={},t="A";function n(t,n){e[t]=n}function r(e){n(e,Math.round(__IASScope.performance.now()))}function i(e){r(e+t)}function o(e){r(e+"Z")}function s(e,r){var i,o;(o=__IASScope.performance.getEntriesByName(r))&&o.length&&(i=o[o.length-1]).startTime>0&&i.responseEnd>0&&(n(e+t,Math.round(i.startTime)),n(e+"Z",Math.round(i.responseEnd)))}function a(){}function c(){n=a,r=a,i=a,o=a,s=a}function d(e){return"function"==typeof e}return function(){try{__IASScope.performance&&d(__IASScope.performance.getEntriesByName)&&d(__IASScope.performance.now)&&null!==__IntegralASConfig.perfBirth?(s(__IntegralASConfig.jsDoSplit?"bd":"md",__IntegralASConfig.scriptUrl),n("beA",Math.round(__IntegralASConfig.perfBirth)),o("be")):c()}catch(e){c(),d(__IASScope.__IntegralASDiagnosticCall)&&__IASScope.__IntegralASDiagnosticCall("perf",e,__IntegralASConfig)}}(),{mark:r,markStart:i,markEnd:o,markResource:s,getData:function(){return e},getStart:function(n){return e[n+t]},getEnd:function(t){return e[t+"Z"]}}},__IntegralASConfig.perf=__IntegralASConfig.perfFactory()}catch(e){__IntegralASConfig={},__IntegralASDiagnosticCall("bootstrapper",e)}__IntegralASConfig.initialize=function(e,t,n){var r={};if(Object.assign)e=Object.assign({},e);else{for(var i in e)r[i]=e[i];e=r}const o=({stringOrObject:e})=>{let t=null;if("object"==typeof e)t=e;else if("string"==typeof e)try{t=JSON.parse(e)}catch(e){}return t};class s{constructor(){this.logs=[]}add({storeModelName:e,key:t,value:n,timeStamp:r}){this.logs.push({storeModelName:e,key:t,value:n,timeStamp:r})}getHistory(){return this.logs}logHistory(){}}class a{constructor({storeModelName:e}){this.storeModelName=e,this.storeModelHistory=new s}set(e,t,n={locked:!0}){try{Object.defineProperty(this,e,{value:t,writable:!n.locked,configurable:!1}),this.storeModelHistory.add({storeModelName:this.storeModelName,key:e,value:t,timeStamp:Date.now()})}catch(e){}}get(e){return this[e]}getHistory(){return this.storeModelHistory.getHistory()}logHistory(){this.storeModelHistory.logHistory()}}class c extends a{constructor({currentWindow:e}){super({storeModelName:"trustedTypesPolicy"}),this.baseTrustedTypesPolicy=null==e?void 0:e.iasBaseTrustedTypesPolicy}createHTML(e){var t,n;return null!==(n=null===(t=this.baseTrustedTypesPolicy)||void 0===t?void 0:t.createHTML(e))&&void 0!==n?n:e}createScriptURL(e){var t,n;return null!==(n=null===(t=this.baseTrustedTypesPolicy)||void 0===t?void 0:t.createScriptURL(e))&&void 0!==n?n:e}createScript(e){var t,n;return null!==(n=null===(t=this.baseTrustedTypesPolicy)||void 0===t?void 0:t.createScript(e))&&void 0!==n?n:e}}const d={useSingleEvent:0};class u extends a{constructor(){super({storeModelName:"staticFeatures"}),this.useSingleEvent=function({percentage:e}){return e>100*Sn.random()}({percentage:d.useSingleEvent})}}const l=()=>{let e=!1;try{e=!!t.fence}catch(e){}return e};class m extends a{constructor(){super({storeModelName:"privacySandbox"}),this.isProtectedAudienceAuction=!1,this.isReportEventApiAvailable=!1;const e=l(),n=(()=>{var e;let n=!1;try{n=l()&&ce.isFunction(null===(e=t.fence)||void 0===e?void 0:e.reportEvent)}catch(e){}return n})();this.set("isProtectedAudienceAuction",e),this.set("isReportEventApiAvailable",n)}reportEvent({destinationURL:e}){let n=!1;try{e&&this.isReportEventApiAvailable&&(t.fence.reportEvent({destinationURL:e}),n=!0)}catch(e){}return n}}const g=()=>{let e=null;try{e="string"==typeof __IASTagUrl&&__IASTagUrl.length>0?__IASTagUrl:null}catch(t){e=null}return e},p=e=>{let t;try{t=decodeURIComponent(e)}catch(n){t=e}return t},f=({url:e})=>{const t=e.match(/^(https?):\/\/([^/:?#]+)(:\d+)?(\/[^?#]*)?(\?[^#]*)?(#.*)?$/);if(!t)return;const n=t[1],r=t[2],i=t[3]?t[3].slice(1):"",o=t[4]||"/",s=t[5]||"",a=t[6]||"",c=i?r+":"+i:r,d=n+"://"+c,u=d+o+(s||"")+(a||""),l=(({search:e})=>{const t={};return e.startsWith("?")&&e.slice(1).split("&").forEach((e=>{const[n,r=""]=e.split("=");n&&(t[p(n)]=p(r))})),t})({search:s}),m={get:e=>Object.prototype.hasOwnProperty.call(l,e)?l[e]:null,has:e=>Object.prototype.hasOwnProperty.call(l,e),toString(){if(s&&"?"===s.charAt(0))return s.slice(1);return Object.keys(l).map((e=>encodeURIComponent(e)+"="+encodeURIComponent(l[e]||""))).join("&")}};for(const e in l)Object.prototype.hasOwnProperty.call(l,e)&&(m[e]=l[e]);return{href:u,origin:d,protocol:n+":",host:c,hostname:r,port:i,pathname:o,search:s,hash:a,searchParams:m}};class h extends a{constructor({contextNode:e,adTag:t}){super({storeModelName:"jsConfigRequest"}),this.url="",this.contentType="",this.verificationParameters={},this.contentType="",this.contextNode=e,this.adTag=t,this.buildRequestUrlFromParameters({contextNode:e,adTag:t})}buildRequestUrlFromParameters({contextNode:e,omidParameters:t,adTag:n}){this.setParameters({contextNode:e,omidParameters:t}),this.buildRequestUrl({contextNode:e,adTag:n})}setParameters({contextNode:t,omidParameters:n}){if(n)if("string"==typeof n)try{const e=JSON.parse(n);this.set("verificationParameters",e,{locked:!1})}catch(e){}else this.set("verificationParameters",n,{locked:!1});else{const n=null==t?void 0:t.dataAttributes,r=(null==n?void 0:n.iasParameters)||e.iasParameters;if("string"==typeof r)try{this.set("verificationParameters",JSON.parse(r),{locked:!1})}catch(e){}else void 0!==r&&this.set("verificationParameters",r,{locked:!1})}this.set("contentType",this.verificationParameters.contentType||"",{locked:!1})}buildRequestUrl({contextNode:t,adTag:n}={}){const r=(({contextNode:t,verificationParameters:n}={})=>{var r;const i=null==t?void 0:t.queryParameters,o=null==i?void 0:i.get("iasConfigHost");let s=null;const a=null==n?void 0:n.config;if(a)s=/iasProxyPartnerId=([\d]+)/g.exec(a);else try{const e=(null===(r=null==t?void 0:t.srcUrl)||void 0===r?void 0:r.href)||"";s=/iasProxyPartnerId=([\d]+)/g.exec(e),s||(s=/iasProxyPartnerId%3D([\d]+)/g.exec(e))}catch(e){}const c=null==s?void 0:s[1];return e.proxyPartnerId=c,(null==n?void 0:n.host)||o||{37103:"https://vfw.amazon-adsystem.com/ias/ivt/j",2:"https://g.bing.com/p/tpv-ias"}[c]||"https://jsconfig.adsafeprotected.com"})({contextNode:t,verificationParameters:this.verificationParameters}),i=(({contextNode:e,verificationParameters:t,adTag:n}={})=>{var r,i,o,s,a,c,d,u,l;let m=null==t?void 0:t.config;const p=en.isDomless();if(!m){(null==n?void 0:n.tagType)===S.Jload&&(null==n?void 0:n.anId)&&(m=`/jload/${n.anId}`),(null==n?void 0:n.tagType)===S.Rjss&&(null==n?void 0:n.creativeDomain)&&(null==n?void 0:n.advEntityId)&&(null==n?void 0:n.pubEntityId)&&(null==n?void 0:n.creativePath)&&(m=`/rjss/${n.creativeDomain}/${n.advEntityId}/${n.pubEntityId}${n.creativePath}`),(null==n?void 0:n.tagType)===S.Amt&&(null==n?void 0:n.tagId)&&(null==n?void 0:n.contractId)&&(m=`/amtjs?ias_tId=${n.tagId}&ias_cId=${n.contractId}`);try{const t=g(),n=null==e?void 0:e.srcUrl;let h;if(t)try{h=f({url:t})}catch(e){}const v=p&&t&&h&&(null===(r=null==h?void 0:h.pathname)||void 0===r?void 0:r.includes("/jload")),E=p&&t&&h&&(null===(i=null==h?void 0:h.pathname)||void 0===i?void 0:i.includes("/amtjs")),I=p&&t&&h&&(null===(o=null==h?void 0:h.pathname)||void 0===o?void 0:o.includes("/rjss")),S=!(null===(s=null==n?void 0:n.href)||void 0===s?void 0:s.includes("/fw.js"))&&(null===(a=null==n?void 0:n.href)||void 0===a?void 0:a.includes("/jload")),A=!(null===(c=null==n?void 0:n.href)||void 0===c?void 0:c.includes("/fw.js"))&&(null===(d=null==n?void 0:n.href)||void 0===d?void 0:d.includes("/amtjs")),y=!(null===(u=null==n?void 0:n.href)||void 0===u?void 0:u.includes("/fw.js"))&&(null===(l=null==n?void 0:n.href)||void 0===l?void 0:l.includes("/rjss"));if(v){const e=null==h?void 0:h.searchParams.get("anId");e&&(m=`/jload/${e}`,(null==h?void 0:h.search)&&(m+=h.search))}else if(S){const t=null==e?void 0:e.queryParameters,n=null==t?void 0:t.get("anId");n&&(m=`/jload/${n}`,t&&(m+=`?${t.toString()}`))}else if(E)m="/amtjs",(null==h?void 0:h.search)&&(m+=h.search);else if(A){const t=null==e?void 0:e.queryParameters;m="/amtjs",t&&(m+=`?${t.toString()}`)}else if(I){const e=null==h?void 0:h.pathname;e&&(m=e,(null==h?void 0:h.search)&&(m+=h.search))}else if(y){const t=null==n?void 0:n.pathname;if(t){const n=null==e?void 0:e.queryParameters;m=t,(null==n?void 0:n.toString())&&(m+=`?${n.toString()}`)}}else if(n){const e=/iasConfig=([^&#]*)/g.exec(n.href)||/config=([^&#]*)/g.exec(n.href);e&&"string"==typeof e[1]&&(m=decodeURIComponent(e[1]))}}catch(e){}}return m})({contextNode:t,verificationParameters:this.verificationParameters,adTag:n});if(i){const n=(({host:e,path:t,queryParams:n,adSessionId:r})=>{const i=t.includes("?");let o=`${e}/jsconfig${t}`;return n&&(o+=`${i?"&":"?"}${n}`),r&&(o+=`&adSessionId=${r}`),o})({host:r,path:i,adSessionId:e.adSessionId,queryParams:null==t?void 0:t.staticFwjsMacros});this.set("url",n,{locked:!1})}}}var v,E,I,S,A;!function(e){e.SkeletonJs="skeleton.js"}(v||(v={})),function(e){e.StaticAdsafeprotected="st"}(E||(E={})),function(e){e.Firewall="Firewall",e.FirewallMonitoring="FirewallMonitoring",e.FirewallBlocking="FirewallBlocking",e.CampaignMonitoring="CampaignMonitoring",e.Amt="Amt"}(I||(I={})),function(e){e.Rjss="rjss",e.Rjsi="rjsi",e.JsVid="jsvid",e.FwjsVid="fwjsvid",e.JsApi="jsapi",e.Jload="jload",e.Jss="jss",e.Jsi="jsi",e.Amt="amtjs"}(S||(S={})),function(e){e.AnId="anId",e.TagType="tagType",e.AdvEntityId="advEntityId",e.PubEntityId="pubEntityId",e.CreativeDomain="creativeDomain",e.CreativePath="creativePath",e.CreativeUrl="creativeUrl"}(A||(A={}));const y={[I.Firewall]:[S.Jss,S.Jsi,S.Rjss,S.Rjsi,S.FwjsVid,S.JsApi],[I.CampaignMonitoring]:[S.Jload,S.JsVid],[I.Amt]:[S.Amt]},T=({contextNode:e,measurementConfig:t})=>{let n=$({contextNode:e,measurementConfig:t});return n||(n=O({contextNode:e,measurementConfig:t})),n},O=({contextNode:e,measurementConfig:t})=>{let n=null;const r=C({contextNode:e,measurementConfig:t});return r&&(n=D({tagUrl:r})),n},D=({tagUrl:e})=>{let t,n=null,r=null,i=null;try{r=e?new URL(e):null,t=null==r?void 0:r.pathname,i=H({pathname:t})}catch(e){}return r&&t&&i===I.Firewall&&(n=G({parsedUrl:r})),r&&t&&i===I.CampaignMonitoring&&(n=W({parsedUrl:r})),r&&t&&i===I.Amt&&(n=B({parsedUrl:r})),n},_=({tagUrl:e})=>{let t=null;try{let n=null,r=null,i=null;n=e?f({url:e}):null,i=null==n?void 0:n.pathname,r=H({pathname:i}),n&&i&&r===I.Firewall&&(t=G({parsedUrl:n})),n&&i&&r===I.CampaignMonitoring&&(t=W({parsedUrl:n})),n&&i&&r===I.Amt&&(t=B({parsedUrl:n}))}catch(e){}return t},C=({contextNode:e,measurementConfig:t})=>{let n=null;const{currentScript:r,isFrameInFrame:i,isLegacyTagRedirectedToStatic:o}=t;return n=i?b({currentScript:r}):w({contextNode:e}),n&&!(null==n?void 0:n.startsWith("http"))&&(n=k({url:n})),n},w=({contextNode:e})=>{let t=null;const n=null==e?void 0:e.src;return n&&(t=n),t},b=({currentScript:e})=>{let t=null;const n=null==e?void 0:e.getAttribute("src");return n&&(t=n),t},$=({contextNode:e,measurementConfig:t})=>{let n=null;const r=N({contextNode:e,measurementConfig:t});return r&&(n=P({configPath:r})),n},N=({contextNode:e,measurementConfig:t})=>{let n=null;const{isStaticMode:r,iasParameters:i,isSingleInstance:o,isStaticIframeTag:s}=t;return o?n=R({iasParameters:i}):(r||s)&&(n=M({contextNode:e})),n},R=({iasParameters:e})=>{let t=null;if(e){const n=j({jsonOrObject:e});if(n){const{config:e}=n;e&&(t=e)}}return t},M=({contextNode:e})=>{const t=x({contextNode:e});return(null==t?void 0:t.config)||null},P=({configPath:e})=>{let t=null;const n=(({configPath:e})=>{let t=null;const n=null==e?void 0:e.split("?"),r=Array.isArray(n)&&n[0],i=Array.isArray(n)&&n[1];if(r&&(t={pathname:r}),(null==t?void 0:t.pathname)&&i)try{const e=new URLSearchParams(i);t.search=`?${i}`,t.searchParams=e}catch(e){}return t})({configPath:e}),r=null==n?void 0:n.pathname,i=H({pathname:r});return r&&i===I.Firewall&&(t=G({parsedUrl:n})),r&&i===I.CampaignMonitoring&&(t=W({parsedUrl:n})),r&&i===I.Amt&&(t=B({parsedUrl:n})),t},x=({contextNode:e})=>{let t={};const n=V({contextNode:e}),r=F({contextNode:e});return t=n||r,t},V=({contextNode:e})=>{var t;let n=null;const r=null===(t=null==e?void 0:e.dataAttributes)||void 0===t?void 0:t.iasParameters;if(r){const e=j({jsonOrObject:r});n=(null==e?void 0:e.config)?e:null}return n},F=({contextNode:e})=>{let t=null;if(null==e?void 0:e.queryParameters){const n=L({queryParams:e.queryParameters});t=(null==n?void 0:n.config)?n:null}return t},L=({queryParams:e})=>({config:e.get("config")||e.get("iasConfig"),host:e.get("host")||e.get("iasConfigHost"),contentType:e.get("iasConfigContentType"),sca:e.get("iasSca"),xsca:e.get("iasXsca"),h:e.get("iasHeight"),w:e.get("iasWidth")}),U=({pathParts:e})=>{const t=Object.values(S),n=new Set(t),r=e.findIndex((e=>n.has(e)));let i=[...e];return-1!==r&&(i=e.slice(r)),i},k=({url:e})=>`https:${e}`,j=({jsonOrObject:e})=>{let t=null;if("string"==typeof e)try{t=JSON.parse(e)}catch(e){}else t=e;return t},W=({parsedUrl:e})=>{var t;let n;const r=e.pathname.split("/").splice(1),i=U({pathParts:r}),[o,s]=i;return n=s||(null===(t=e.searchParams)||void 0===t?void 0:t.get("anId")),{anId:n,tagType:o}},G=({parsedUrl:e})=>{const t=e.search,n=e.pathname.split("/").splice(1),r=U({pathParts:n}),[i,o,s,a,...c]=r,d=`/${c.join("/")}`;let u=o&&d?`//${o}${d}`:null;return t&&(u+=t),{tagType:i,advEntityId:s,pubEntityId:a,creativeDomain:o,creativePath:d,creativeUrl:u}},B=({parsedUrl:e})=>{var t,n;const r=e.pathname.split("/").splice(1),i=U({pathParts:r}),[o]=i;return{tagType:o,contractId:(null===(t=e.searchParams)||void 0===t?void 0:t.get("ias_cId"))||"",tagId:(null===(n=e.searchParams)||void 0===n?void 0:n.get("ias_tId"))||""}},H=function({pathname:e}){let t=null;const n=Object.keys(y).find((t=>y[t].some((t=>null==e?void 0:e.includes(t)))));return n&&(t=n),t},Y=({contextNode:e,measurementConfig:t})=>{let n=null;const r=null==e?void 0:e.queryParameters;if(!t.isStaticMode||!r)return n;const i=r.get("anId"),o=r.get("advEntityId"),s=r.get("pubEntityId"),a=r.get("ias_tId"),c=r.get("ias_cId");return i&&(n={anId:i,tagType:S.Jload}),o&&s&&(n={advEntityId:o,pubEntityId:s,tagType:S.Rjss,creativeDomain:E.StaticAdsafeprotected,creativePath:`/${v.SkeletonJs}`}),a&&c&&(n={tagId:a,contractId:c,tagType:S.Amt}),n};class q extends a{constructor({isDomless:t,contextNode:r,measurementConfig:i}){super({storeModelName:"adTag"}),this.anId=null,this.pubEntityId=null,this.advEntityId=null,this.tagId=null,this.contractId=null,this.tagType=null,this.creativeDomain=null,this.creativePath=null,this.creativeUrl=null,this.staticTagParams=null,this.isScriptAsync=!1;const o=(({isDomless:e,contextNode:t,measurementConfig:n})=>{let r=null;const i=g();return e&&i&&(r=_({tagUrl:i})),e||r||(r=T({contextNode:t,measurementConfig:n})),e||r||(r=Y({contextNode:t,measurementConfig:n})),r})({isDomless:t,contextNode:r,measurementConfig:i});this.isScriptAsync=!t&&(()=>{let e=!1;try{const t=n.currentScript;e=!t||t.async||t.defer}catch(e){}return e})(),this.anId=null==o?void 0:o.anId,this.pubEntityId=null==o?void 0:o.pubEntityId,this.advEntityId=null==o?void 0:o.advEntityId,this.tagId=null==o?void 0:o.tagId,this.contractId=null==o?void 0:o.contractId,this.tagType=(null==o?void 0:o.tagType)||e.mode,this.creativeDomain=null==o?void 0:o.creativeDomain,this.creativePath=null==o?void 0:o.creativePath,this.creativeUrl=null==o?void 0:o.creativeUrl}updateWithVerificationParameters({verificationParameters:e}){var t,n,r,i,o,s,a,c,d;const u=(({verificationParameters:e})=>{let t=null,n=null;const r=j({jsonOrObject:e});if(r){const{config:e}=r;e&&(t=e),t&&(n=P({configPath:t}))}return n})({verificationParameters:e});this.anId=null!==(t=this.anId)&&void 0!==t?t:null==u?void 0:u.anId,this.pubEntityId=null!==(n=this.pubEntityId)&&void 0!==n?n:null==u?void 0:u.pubEntityId,this.advEntityId=null!==(r=this.advEntityId)&&void 0!==r?r:null==u?void 0:u.advEntityId,this.tagId=null!==(i=this.tagId)&&void 0!==i?i:null==u?void 0:u.tagId,this.contractId=null!==(o=this.contractId)&&void 0!==o?o:null==u?void 0:u.contractId,this.tagType=null!==(s=this.tagType)&&void 0!==s?s:null==u?void 0:u.tagType,this.creativeDomain=null!==(a=this.creativeDomain)&&void 0!==a?a:null==u?void 0:u.creativeDomain,this.creativePath=null!==(c=this.creativePath)&&void 0!==c?c:null==u?void 0:u.creativePath,this.creativeUrl=null!==(d=this.creativeUrl)&&void 0!==d?d:null==u?void 0:u.creativeUrl}updateWithResolvedJsConfig({jsConfig:e,measurementConfig:t}){t.isStaticMode&&!this.tagType&&(this.tagType=null==e?void 0:e.mode)}}class K extends a{constructor({bootstrapper:e}){super({storeModelName:"baseUrls"}),this.dtBaseUrl=null==e?void 0:e.dtBaseURL,this.cmEventBaseUrl=null==e?void 0:e.requrl,this.fwEventBaseUrl=null==e?void 0:e.adsafeSrc,this.mobileAppEventBaseUrl=null==e?void 0:e.mobFwUrl,this.eventBaseUrl=this.fwEventBaseUrl||this.cmEventBaseUrl}updateWithVerificationParameters({verificationParameters:e}){const t=o({stringOrObject:e});if("object"==typeof t){const e=null==t?void 0:t.iasImpBaseUrl,n=null==t?void 0:t.iasDtBaseUrl,r=null==t?void 0:t.iasMobileAppImpBaseUrl;n&&(this.dtBaseUrl=n),e&&(this.cmEventBaseUrl=e,this.fwEventBaseUrl=e,this.eventBaseUrl=e),(r||e)&&(this.mobileAppEventBaseUrl=r||e)}}updateWithResolvedJsConfig({jsConfig:e}){this.dtBaseUrl||(this.dtBaseUrl=null==e?void 0:e.dtBaseURL),this.cmEventBaseUrl||(this.cmEventBaseUrl=null==e?void 0:e.requrl),this.fwEventBaseUrl||(this.fwEventBaseUrl=null==e?void 0:e.adsafeSrc),this.mobileAppEventBaseUrl||(this.mobileAppEventBaseUrl=null==e?void 0:e.mobFwUrl),this.eventBaseUrl||(this.eventBaseUrl=this.fwEventBaseUrl||this.cmEventBaseUrl)}}var J,X;!function(e){e.Iframe="i",e.Script="s"}(J||(J={}));class z extends a{constructor({isDomless:e,currentWindow:t,defaultBootstrapperConfig:n}){super({storeModelName:"measurementConfig"}),this.setDefaultProps(),this.setBaseProps({defaultBootstrapperConfig:n}),e||this.setDomOnlyProps({currentWindow:t,isStaticMode:this.isStaticMode,currentScript:this.currentScript})}setDefaultProps(){this.set("tagDeliveryType",J.Script,{locked:!1})}setBaseProps({defaultBootstrapperConfig:e}){this.set("adRefreshThreshold",e.adRefreshThreshold),this.set("birthdate",e.birthdate),this.set("isResolved",e.isResolved,{locked:!1}),this.set("perfBirth",e.perfBirth),this.set("staticMode",e.staticMode),this.set("useFIF",e.useFIF),this.set("currentScript",e.currentScript),this.set("iasParameters",e.iasParameters),this.set("jsDiag",!0),this.set("spImpJsInfoMinLength",200),this.set("spImpMaxLength",1e4),this.set("isStaticMode",e.staticMode,{locked:!1}),this.set("isFrameInFrame",e.useFIF),this.set("isStaticFrameInFrame",this.get("isStaticMode")&&this.get("isFrameInFrame")),this.setDebugProp()}setDomOnlyProps({currentWindow:e,isStaticMode:t,currentScript:n}){this.setSingleInstanceProps(),this.setTagDeliveryTypeProps({currentWindow:e}),this.setStaticRedirectProps({isStaticMode:t,currentScript:n})}setSingleInstanceProps(){try{this.set("adSlots",null===top||void 0===top?void 0:top.iasAdSlots,{locked:!1}),this.set("isSingleInstance",null===top||void 0===top?void 0:top.isSingleIASInstance,{locked:!1})}catch(e){}}setTagDeliveryTypeProps({currentWindow:e}){var t,n;const r=(null===(n=null===(t=null==e?void 0:e.location)||void 0===t?void 0:t.href)||void 0===n?void 0:n.includes("fw.html"))?J.Iframe:J.Script,i=r?r===J.Iframe:void 0,o=r?r===J.Script:void 0;this.set("tagDeliveryType",r),this.set("isStaticIframeTag",i,{locked:!1}),this.set("isStaticScriptTag",o,{locked:!1})}setStaticRedirectProps({isStaticMode:e,currentScript:t}){e&&(null==t?void 0:t.src)&&(t.src.includes("/jload")&&(this.set("isJloadRedirect",!0),this.set("isLegacyTagRedirectedToStatic",!0)),t.src.includes("/jsvid")&&(this.set("isJsvidRedirect",!0),this.set("isLegacyTagRedirectedToStatic",!0)),t.src.includes("/rjss")&&(this.set("isRjssRedirect",!0),this.set("isLegacyTagRedirectedToStatic",!0)),t.src.includes("/fwjsvid")&&(this.set("isFwjsvidRedirect",!0),this.set("isLegacyTagRedirectedToStatic",!0)),t.src.includes("/amt.js")&&(this.set("isAmtRedirect",!0),this.set("isLegacyTagRedirectedToStatic",!0)))}setDebugProp(){this.set("debug",!1)}updateWithVerificationParameters({verificationParameters:e}){const t=o({stringOrObject:e});"object"==typeof t&&((null==t?void 0:t.iasImpBaseUrl)&&(this.impressionNodeType="img"),(null==t?void 0:t.iasImpNodeType)&&(this.impressionNodeType=null==t?void 0:t.iasImpNodeType))}}!function(e){e.TestEvent="testEvent",e.MeasurementStatus="measurementStatus",e.ConsentDetection="consentDetection"}(X||(X={}));const Q=new class{constructor(){this.eventMap={}}on(e,t){this.eventMap[e]||(this.eventMap[e]=new Set),this.eventMap[e].add(t)}off(e,t){this.eventMap[e]&&this.eventMap[e].delete(t)}emit(e,...t){this.eventMap[e]&&this.eventMap[e].forEach((e=>e(...t)))}},Z=({url:e})=>{let t;const n=["config","iasConfig"];return e&&e.includes("fw.js")&&(n.forEach((t=>{e&&(e=(({url:e,queryParamName:t})=>{const n=new URL(e).search,r=new URLSearchParams(n);r.delete(t);const i=new URL(e);return i.search=r.toString(),i.toString()})({url:e,queryParamName:t}))})),e.includes("?")&&(t=e.split("?")[1])),t};class ee extends a{constructor({contextNodeElement:e}){if(super({storeModelName:"contextNode"}),e){const t=new URL(e.src);this.set("element",e),this.set("srcUrl",t),this.set("src",t.href),this.set("path",t.pathname),this.set("protocol",t.protocol),this.set("dataAttributes",e.dataset),this.set("queryParameters",t.searchParams),this.set("staticFwjsMacros",Z({url:t.href}))}}}const te=new class{addModel(e){try{Object.defineProperty(this,e.storeModelName,{value:e,writable:!1,configurable:!1,enumerable:!0})}catch(e){}return this[e.storeModelName]}getHistory(){return Object.keys(this).reduce(((e,t)=>{const n=this[t].getHistory();return e.concat(n)}),[])}logHistory(){}};function ne(){var t,n;e.executedContinueMain||(te.measurementConfig.isStaticMode&&te.baseUrls.updateWithResolvedJsConfig({jsConfig:e}),te.adTag.updateWithResolvedJsConfig({jsConfig:e,measurementConfig:te.measurementConfig}),e.executedContinueMain=!0,e.perf.markStart(ge),ye(e).verifyContextNode(),t=function(t,n,r,i,o,s,a,c,d,u,l){var m,g;try{new ss({contextNode:e.contextNode,features:d,bootstrapper:e}).start()}catch(e){o.add(le.ERROR_CODES.AD_SERVER_POST_IMPRESSION_MACRO)}e.perf.markStart(fe),e[ze.B11]="1"===e[ze.AdHeight]&&"1"===e.adWidth?"true":"false",e[ze.CNod]=e[ze.ContextNode]?"true":"false",ue.getAggregator().trigger(Ke.AddOutputItem,{output:te.measurementConfig.mainBirthdate},ze.MainFunctionStartedNow,{type:le.IMPRESSION_EVENT});var p=e.hasOwnProperty("origMobOrTab")?e.origMobOrTab:e.mobOrTab;ue.getAggregator().trigger(Ke.AddOutputItem,{output:p?"1":"0"},ze.BootstrapperMobOrTab,{type:le.IMPRESSION_EVENT}),ue.getAggregator().trigger(Ke.AddOutputItem,{output:e.app?"1":"0"},ze.BootstrapperApp,{type:le.IMPRESSION_EVENT}),ue.getAggregator().trigger(Ke.AddOutputItem,{output:e.mobAppWebview?"1":"0"},ze.BootstrapperMobAppWebview,{type:le.IMPRESSION_EVENT}),ue.getAggregator().trigger(Ke.AddOutputItem,{output:te.measurementConfig.tagDeliveryType},ze.TagDeliveryType,{type:le.IMPRESSION_EVENT});var f=_t().getUserAgent(),h=ue.getAggregator().request(Xe.MobileApp);!(h&&h.isMobileAppEnvironment&&h.isMobileAppEnvironment())&&f.indexOf("IMDb-flg")>-1&&(ue.getAggregator().trigger(Ke.AddOutputItem,{output:"1"},ze.MobileAppEnvironment,{type:le.IMPRESSION_EVENT}),ue.getAggregator().trigger(Ke.AddOutputItem,{output:"a_imdb"},ze.MatchedMobileAppDetectionRule,{type:le.IMPRESSION_EVENT}));ie(r,i,d,o);try{s.isApplicable(a,u)&&s.start(),g=c.detectTopURL(),d.on("exch")&&(new cn).createInstance(o,i).parse(g),(m=Ho()).isApplicable(d)&&m.start(d),u.usesGroupMCustomMetric()&&tt(),l.start()}catch(e){o.add(le.ERROR_CODES.IMPRESSION_LEADUP)}return e.perf.markEnd(fe),g}((n=function(){var t,n,r,i,o,s,a,c,d,u,l,m={};e.perf.markStart(pe),kn();var g=ue.getAggregator();(function(){var t,n,r;r=ue.getAggregator().request(Xe.OmidAdSessionContext),t=r.app&&r.isDisplay&&!r.isWeb,(n=e.mobFwUrl&&e.mobFwUrl.indexOf("/blocking/")>-1)&&r.isLimitedSandbox&&"1"===e.adWidth&&"1"===e[ze.AdHeight]&&(r.isLimitedSandbox=!1);t&&n&&(r.delayingViewabilityEvents=!0);"app"!==r.environment&&!0!==e.mobAppWebview||(e.origMobOrTab=e[ze.MobOrTab],e[ze.MobOrTab]=!0)})(),m.mFeatures=g.request(Xe.Features),m.mFeatures||(m.mFeatures=g.provide(Xe.Features,ln()));e.integration&&m.mFeatures.setReportedBootstrapFeatures("intblk","integration");e.autotagSizeSet&&m.mFeatures.setReportedBootstrapFeatures("ats","autotagSizeSet");e.encodeInvalidUrlChars=!en.isDomless()&&m.mFeatures.on("encodeInvalidUrlChars"),g.provide(Xe.MobileApp,(function(){return t=t||new to(m.mFeatures)})),g.provide(Xe.Context,en),m.mBrowser=g.request(Xe.Browser),m.mErrors=g.request(Xe.Errors),m.mIds=g.request(Xe.IDS),m.iOutput=ut(g),g.request(Xe.JSONP),m.mComm=g.request(Xe.Communication),m.viewabilityMeasurement=new Wr(Gr(m.mIds),m.mFeatures,m.mBrowser).create(),function(e,t){if(e&&e.queuedOutputItems)for(var n=0;n<e.queuedOutputItems.length;n++)t.trigger(Ke.AddOutputItem,{output:e.queuedOutputItems[n].value},e.queuedOutputItems[n].code,{type:le.IMPRESSION_EVENT})}(g.request(Xe.OmidAdSessionContext),g),m.mFeatures.on("swapids")&&(e.oid=e.asid,e.asid=m.mIds.unq);return m.mAdTalk=(new Zn).createInstance(m.mFeatures),n=nt(),r=Cn(g),i=g.provide(Xe.Page,(new An).createInstance()),m.mAncestorOrigins=g.request(Xe.AncestorOrigins),m.mPageUrls=g.request(Xe.PageURLS),m.mAncestorOrigins=yt(),m.mPageUrls=g.provide(Xe.PageURLS,(new On).createInstance(m.mAncestorOrigins,Sn)),o=g.provide(Xe.ScreenEvents,wn()),s=mn(m.mBrowser),l=function(t,n){var r=en.isVideo()&&!en.isOmid()&&!en.isInMobiMraidVideo();r&&(ue.getAggregator().trigger(Ke.AddOutputItem,{output:le.MEDIA_TYPE.VIDEO_CODE},le.MEDIA_TYPE_CODE,{type:le.IMPRESSION_EVENT}),ue.getAggregator().trigger(Ke.AddOutputItem,{output:"1"},"xmvv",{type:le.IMPRESSION_EVENT}));return r?To(e.videoId,t,n):{}}(m.mFeatures,o),m.mVideo=g.provide(Xe.Video,l),wo($o.build()),a=(new Qi).createInstance(m.mErrors,s,m.mFeatures),c=(new mt).createInstance(a,m.mErrors,i,en),d=g.provide(Xe.JobFactory,hn()),m.mDataTransfer=rn(a,m.mErrors,m.mFeatures,m.mIds,m.iOutput,m.mBrowser,o,n),u=Ot(m.mErrors,m.mFeatures,g,r),m.mMode=In(u,m.mFeatures,m.viewabilityMeasurement.isImmediate()),m.mViewability=g.provide(Xe.Viewability,yi(it(),m.viewabilityMeasurement,m.mBrowser,m.mDataTransfer,m.mFeatures,g,m.iOutput,c,o,m.mVideo)),function(t,n,r,i){var o=function(t){var n=new ui(t,en),r=new di,i=new mi(t,en),o=li(t,en),s=new pi(e,en,t).resolve(),a=[n],c=[];o.applies()&&a.push(o);i.applies()&&a.push(i);r.applies(t,en)&&a.push(r);ce(s).each((function(e,t){a.push(new gi(t,en)),c.push(t.id)})),c.length>0&&(ue.getAggregator().trigger(Ke.AddOutputItem,{output:c.join(".")},ze.MetricIdEventCall,{type:le.IMPRESSION_EVENT}),ue.getAggregator().trigger(Ke.AddOutputItem,{output:c},ze.MetricIdList,{type:le.DT_CODES.UNLOAD,asION:!0}));return a}(t);ue.getAggregator().provide(Xe.ViewabilityDefinitions,o),ce(o).map(function(e,t,n,r){return function(i,o){var s,a,c,d=Ai(o,t),u=ci(n,e,o.rts).getCallbacks(),l=at(r.createPingJobs(o.type,o.timeInViewThresholds,u,o.metricId));return o.sendOtherwiseInViewSignal&&(c=Ai(o,t,o.sendOtherwiseInViewSignal),a=at(r.createPingJobs(o.type,o.timeInViewThresholds,u,o.metricId,o.sendOtherwiseInViewSignal))),o.rtsCallbacks=u,o.thresholdType===le.GROUPM_MOBILE_PASS_THRU_TIME_IN_VIEW_THRESHOLD_TYPE?s=Si(d,o,l,en.isVideo()):(s=Ii(d,Et(o.minUnit),l),o.sendOtherwiseInViewSignal&&Ii(c,Et(o.minUnit),a,o.sendOtherwiseInViewSignal).start()),s.start(),s}}(t,n,r,i))}(m.mFeatures,m.mViewability,r,d),m.loopDelay=gr(),m.renderDetector=Ye(),m.mDataTransfer.setViewabilityMod(m.mViewability),e.perf.markEnd(pe),m}()).mDataTransfer,n.mViewability,n.mAdTalk,n.iOutput,n.mErrors,n.mAncestorOrigins,n.mBrowser,n.mPageUrls,n.mFeatures,en,n.renderDetector),function(t,n,r,i,o,s,a,c,d){try{xo(t,n,r,i,o,s,a).send(c),ce.isFunction(d.triggerInitializationEvents)&&d.triggerInitializationEvents()}catch(t){__IntegralASDiagnosticCall("impsend",t,e)}}(n.mErrors,n.mFeatures,n.mIds,n.mMode,n.iOutput,n.mBrowser,n.mViewability,t,n.mVideo),function(t,n,r,i,o,s,a,c,d,u,l,m,g){try{i.on("consentDetection")&&(ue.getAggregator().trigger(Ke.DtEnterQueuingMode),Q.on(X.MeasurementStatus,(({canSendMeasurementData:e})=>{e?ue.getAggregator().trigger(Ke.DtExitQueuingMode):ue.getAggregator().trigger(Ke.DtEnterQueuingMode)}))),Q.emit(X.ConsentDetection),e.perf.markStart(he),(p=Do()).start(),p.addFieldTypes([le.DT_SLOT.IM,le.DT_SLOT.FF,le.DT_SLOT.ENVIRONMENT,le.DT_SLOT.FF_EXP]),as(g),function(e,t,n,r){var i=vr(e,t,n);i.isApplicable(r)&&i.start()}(t,n,r,i),function(e,t,n,r,i,o){e.bootstrapOn("getTpl")&&e.on("usetpl")&&Tt(t,n,r,i,o).init()}(i,o,s,a,n,c),function(t,n,r,i,o,s,a,c,d){var u;"true"!==e.minimizeCalls&&(u=(new Date).getTime(),Sn.execAtEndOfThread((function(){re(t,n,r,i,u,o,s,a,c,d)})))}(c,d,u,a,i,o,s,n,m),function(e){e&&e.start&&e.start()}(l),((e,t)=>{if(!e.isDomless()){const n=Ko();let r=["sca","xsca","rsrch"];e&&e.isAMZN()&&(r=[]),n.start(r,t)}})(g,i),St(),ue.runTier(le.TIERS.VIEWABILITY),function(t){var n=_o();n.isApplicable(t)&&(n.start(),Ro.recordBlockingTime(),e.perf.mark(ve),Ro.setupOnLoadTracking(),Ro.setupBrowserDelayTracking())}(i),Bo(),e.perf.markEnd(he)}catch(e){a.add(le.ERROR_CODES.POST_IMPRESSION)}var p}(n.mBrowser,n.mIds,n.mViewability,n.mFeatures,n.mComm,n.mDataTransfer,n.mErrors,n.iOutput,n.loopDelay,n.mAdTalk,n.viewabilityMeasurement,n.mAncestorOrigins,en),te&&te.pageMetrics&&te.pageMetrics.sendPageMetricsData(),e.perf.markEnd(ge))}function re(t,n,r,i,o,s,a,c,d,u){try{if(e.perf.markStart(Ee),e.tpiLookupURL)pn(a,c).init(e.tpiLookupURL);en.isDomless()||u.isStarted()&&u.sendOriginList(),ue.runAll(),Sn.execAtEndOfThread((function(){!function(t,n,r,i,o,s){var a;try{e.perf.markStart(Ie),a={output:(new Date).getTime()-o},t.addItem(a,"sinceFw",{type:le.DT_CODES.ADTALK}),ce.isDef(n.loopStarted())&&t.addItem({output:n.loopStarted()},"readyFired",{type:le.DT_CODES.ADTALK}),e.perf.markEnd(Ie),e.isSplitMode&&(d=e.protocol+"://"+e.sp_cdnScripts.main,e.perf.markResource(Se,d)),e.impUrl&&e.perf.markResource(Ae,e.impUrl),c=e.perf.getData(),ue.getAggregator().trigger(Ke.AddThrottledProp,le.DT_SLOT.IM,ze.Performance,ce(c).toION()),r.isApplicable(en)&&r.sendAdTalkCall()}catch(e){i.add(le.ERROR_CODES.ADTALK_DELAY)}var c,d}(t,n,r,i,o)})),e.perf.markEnd(Ee)}catch(e){i.add(le.ERROR_CODES.EVENT_LOOP_ONE)}}function ie(e,t,n,r){var i;try{e.isApplicable(en)&&(e.start(),t.addItem(e.getFrameMap(),"fm"),n.on("fm2")&&t.addItem(e.getFrameMapIncludingPeerCase(),"fm2"),n.on("idMap")&&(i=e.getIdMap())&&t.addItem(i,"idMap"))}catch(e){r.add(le.ERROR_CODES.ADTALK_GENERAL)}}function oe(t){var n=t&&t.sca,r=t&&t.xsca,i=t&&t.w,o=t&&t.h;return function(t){ue.getAggregator().trigger(Ke.AddOutputItem,{output:en.getTagTime()},ze.StaticConfigResponseTime,{type:le.IMPRESSION_EVENT});var s="string"==typeof t?JSON.parse(t):t;if(s.hasOwnProperty("creativeUrl")&&s.hasOwnProperty("nodeType")&&s.hasOwnProperty("didBlock")&&!1===s.didBlock){const{creativeUrl:e,nodeType:t}=s,n="unknown"===t?"script":t,r=te.measurementConfig.tagDeliveryType===J.Iframe?"iframe":n;ue.getAggregator().trigger(Ke.AddNode,r,e)}if(s.hasOwnProperty("config")&&(s=s.config),Object.assign)Object.assign(e,s);else for(var a in s)e[a]=s[a];te.measurementConfig.set("isResolved",!0),e.sp_cdnScripts=e.sp_cdnScripts||{},n&&(e.sp_cdnScripts.sca=n),r&&(e.sp_cdnScripts.xsca=r),i&&o&&(e.adWidth=i,e.adHeight=o,e.autotagSizeSet=!0),ne()}}const se=()=>{var e,t;const n=null===(e=te.jsConfigRequest)||void 0===e?void 0:e.verificationParameters,r=null===(t=te.jsConfigRequest)||void 0===t?void 0:t.contentType,i=(()=>{var e,t,n;const r=(null===(e=te.adTag)||void 0===e?void 0:e.advEntityId)||"",i=(null===(t=te.adTag)||void 0===t?void 0:t.pubEntityId)||"",o=(null===(n=te.adTag)||void 0===n?void 0:n.creativeUrl)||"",s=ue.getAggregator().request(Xe.IDS).getCacheBustId(),a=new URL("https://fw.adsafeprotected.com/event"),c=ue.getAggregator().request(Xe.AncestorOrigins);c.isApplicable(ue.getAggregator().request(Xe.Browser),en)&&c.start();const d=ue.getAggregator().request(Xe.PageURLS).detectTopURL(),u=ko(d,2e3,a.href.length,!0);return a.searchParams.append("advEntityId",r),a.searchParams.append("pubEntityId",i),a.searchParams.append("creativeUrl",o),a.searchParams.append("format","jsonp"),a.search+=`&${u.join("&")}`,a.searchParams.append("adsafe_jsinfo",`,c:${s},st:1,em:${en.embedded.toString()},fr:${en.friendly.toString()}`),a.href})();ue.getAggregator().trigger(Ke.AddOutputItem,{output:en.getTagTime()},ze.StaticConfigRequestTime,{type:"impression"}),ue.getAggregator().trigger(Ke.AddOutputItem,{output:1},ze.StaticUsedConfigAndBlockingRequest,{type:"impression"}),"application/json"===r?ue.getAggregator().trigger(Ke.GetJSON,i,oe(n)):ue.getAggregator().trigger(Ke.JSONP,i,oe(n),!1,"cbName")};const ae=()=>{var e,t,n;(null===(e=te.measurementConfig)||void 0===e?void 0:e.isResolved)?ne():(null===(t=te.staticFeatures)||void 0===t?void 0:t.useSingleEvent)&&"rjss"===(null===(n=te.adTag)||void 0===n?void 0:n.tagType)?se():(()=>{var e,t,n;const r=null===(e=te.jsConfigRequest)||void 0===e?void 0:e.url,i=null===(t=te.jsConfigRequest)||void 0===t?void 0:t.contentType,o=null===(n=te.jsConfigRequest)||void 0===n?void 0:n.verificationParameters;if(r){ue.getAggregator().trigger(Ke.AddOutputItem,{output:en.getTagTime()},ze.StaticConfigRequestTime,{type:le.IMPRESSION_EVENT});const e="cbName";"application/json"===i?ue.getAggregator().trigger(Ke.GetJSON,r,oe(o)):ue.getAggregator().trigger(Ke.JSONP,r,oe(o),!1,e)}})()};var ce=function(e){"use strict";return new de(e)},de=function(e){"use strict";this.iterable=e};de.prototype.isObj=function(e){"use strict";var t="object"==typeof this.iterable,n=null===this.iterable,r=t&&!n,i=!this.isArray()&&r;return e?r:i},de.prototype.isArray=function(){"use strict";return this.iterable instanceof Array},de.prototype.isEmpty=function(e){"use strict";return 0===this.keys(e).length},de.prototype.each=function(e,t){"use strict";var n=this.iterable;if(n.length===+n.length)for(var r=0,i=n.length;r<i;++r)e(r,n[r]);else for(var o in n)(n.hasOwnProperty(o)||t)&&e(o,n[o])},de.prototype.map=function(e,t){"use strict";var n=[];return this.each((function(r,i){var o=e(r,i);(void 0!==o||t)&&(n[n.length]=o)})),n},de.prototype.stringify=function(e,t){"use strict";t=t||",";var n=[];return this.each((function(t,r){var i=e(t,r);ce.isDef(i)&&n.push(i)})),n.join(t)},de.prototype.toION=function(e,t){"use strict";var n,r="[",i="]";return t=t||0,e=e||{},++t>4?"object":!this.isObj(!0)||this.iterable.hasOwnProperty("toString")?""+this.iterable:(this.isArray()?n=this.map((function(n,r){return ce(r).toION(e,t)})):(r="{",i="}",n=this.map((function(n,r){var i="string"==typeof n&&-1!==n.indexOf("NULL"),o=ce(r).toION(e,t);return i?o:(e[n]||n)+":"+o}))),r+n.join(",")+i)},de.prototype.compareTo=function(e){"use strict";var t=!1;return this.each((function(n,r){e[n]!==r&&(t||(t={}),t[n]=r)})),t},de.prototype.toParams=function(e){"use strict";return this.stringify((function(e,t){return"string"==typeof e&&-1!==e.indexOf("NULL")?t:e+":"+t}),e)},de.prototype._privateMixin=function(e,t,n){"use strict";var r;for(r in t)ce.isDef(t[r])&&(n||t.hasOwnProperty(r))&&(e[r]=t[r]);return e},de.prototype.mapToObj=function(e){"use strict";var t={},n=this;return this.each((function(r,i){var o=e(r,i);ce(o).isObj()&&n._privateMixin(t,o)})),t},de.prototype.invert=function(){"use strict";return this.mapToObj((function(e,t){var n={};return n[t]=e,n}))},de.prototype.mixin=function(e,t){"use strict";return this._privateMixin(this.iterable,e,t)},de.prototype.find=function(e){"use strict";var t;return this.each((function(n,r){e(n,r)&&(t=r)})),t},de.prototype.findFirst=function(e){"use strict";var t,n;return this.each((function(r,i){!n&&e(r,i)&&(t=i,n=!0)})),t},de.prototype.keys=function(e){"use strict";var t=[];return this.each((function(e){t.push(e)}),e),t},de.prototype.asStrings=function(){"use strict";var e={};return this.each((function(t,n){e[t]=""+n})),e},de.prototype.selectProperties=function(e){"use strict";var t={},n=this;return ce(e).each((function(e,r){ce.isDef(n.iterable[r])&&(t[r]=n.iterable[r])})),t},de.prototype.filter=function(e,t){"use strict";return this.map((function(t,n){var r;return(ce.isUndef(e)||ce.resolve(e,t,n))&&(r=n),r}),t)},de.prototype.toArray=function(){"use strict";return this.map((function(e,t){return t}))},de.prototype.JSONStringify=function(){"use strict";var e,n,r=!1;return t.Prototype&&t.Prototype.Version&&-1===t.Prototype.Version.indexOf("1.7")&&(r=!0),r&&(n=Array.prototype.toJSON,delete Array.prototype.toJSON),e=JSON.stringify(this.iterable),r&&(Array.prototype.toJSON=n),e},de.prototype.contains=function(e){"use strict";var t=ce(this.iterable).findFirst((function(t,n){return e===n}));return ce.isDef(t)},ce.toBase=function(e,t){"use strict";var n,r=e<0,i="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),o=[];e=r?-e:e;do{n=e%t,o.push(i[n]),e=(e-n)/t}while(e>0);return o=o.reverse().join(""),r?"-"+o:o},ce.isDef=function(e){"use strict";return void 0!==e},ce.isUndef=function(e){"use strict";return!ce.isDef(e)},ce.isBool=function(e){"use strict";return"boolean"==typeof e},ce.noop=function(){},ce.identity=function(e){"use strict";return e},ce.isFunction=function(e){"use strict";return"function"==typeof e},ce.isStr=function(e){"use strict";return"string"==typeof e},ce.useIfDef=function(e){"use strict";return!!ce.isDef(e)&&e},ce.stringifyTriState=function(e){"use strict";return!0===e?1:!1===e?0:"na"},ce.getNum=function(e){"use strict";var t=parseInt(e);return isFinite(t)||(t=-1),t},ce.resolve=function(e,...t){return ce.isFunction(e)?e.apply({},t):e},ce.flatJSONParse=function(e){"use strict";for(var t,n,r,i=/"(\w+)":(\d+|(?:"([^"]*)"))/g,o={},s=i.exec(e);s;)t=s[1],n=s[3],r=s[2],o[t]=n||+r,s=i.exec(e);return o},ce.debounce=function(e,n,r){"use strict";var i,o=r||t;return function(...t){var r=this,s=t;o.clearTimeout(i),i=o.setTimeout((function(){i=null,e.apply(r,s)}),n)}},ce.last=function(e){"use strict";return e[e.length-1]},ce.collapseArgsIntoHash=function(e,t){"use strict";var n={};return t?n[e]=t:n=e,n},ce.fromBoolToNum=function(e){"use strict";return e?1:0},ce.isNumeric=function(e){"use strict";return ce.isDef(e)&&null!==e&&!isNaN(e)},ce.fromNodeListToArray=function(e){"use strict";return Array.prototype.slice.call(e)},ce.encodeInvalidUrlChars=function(e,t){"use strict";var n={$:"%24","[":"%5B","]":"%5D","{":"%7B","}":"%7D","|":"%7C"},r=e;return t&&"string"==typeof e&&(r=(r=e.replace(/%(?![0-9A-F][0-9A-F])/gi,"%25")).replace(/\$|\[|\]|\{|\}|\|/gi,(function(e){return n[e]}))),r};var ue=function(){"use strict";var e,t={},n=[],r=[],i=function(){var e={},t=ce(arguments).toArray();return t.unshift(e),r.push(t),e},o=function(r,i,o,s,a){var c,d,u,l=function(){if(!c){var t=[];c=!0,i=["features","browser","context"],0===n.length&&(n=ce(i).map((function(t,n){return e.request(n)}))),a.emits&&(r.events=new it),a.applies&&!a.applies.apply(a,n)||(d=!0,(t=ce(o).map((function(t,n){return e.request(n)}),!0)).push(r),ce(r).mixin(s.apply({},t)))}var i};return u=(a=a||{}).tier,ce.isDef(u)&&(t[u]=t[u]||new st,t[u].push(l)),e.provide(i,(function(){var e;return l(),d&&(e=r),e})),r};return i.runAll=function(){var e=ce(t).keys().sort((function(e,t){return e-t}));ce(e).each((function(e,t){i.runTier(t)}))},i.runTier=function(e){t[e].run(),delete t[e]},i.startSystem=function(){e=e||new rt,ce(r).each((function(e,t){o.apply({},t)}))},i.getAggregator=function(){return e},i}();const le={MRC_LARGE_AD_SIZE:242500,IN_VIEW:"inView",OUT_OF_VIEW:"outOfView",PARTIAL_VIEW_PLUS:"partialViewPlus",PARTIAL_VIEW_MINUS:"partialViewMinus",NA:"na",PIV_NA:-1,DT_CODES:{ADTALK:"a",DIAGNOSTIC:"b",PERFORMANCE:"e",THIRD_PARTY:"i",LARGE_BILLABLE:"l",VIDEO_EVENTS:"m",PING:"p",FULLY_INVIEW:"pf",QUARTILE_FULLY_INVIEW:"qf",SCA:"s",POS_INVIEW:"t",UNLOAD:"u",VIEWABILITY_READY:"v",EXTERNAL:"x",CUSTOM:"c",XSCA:"xs",ADSERVER_MACROS:"as"},DT_SLOT:{IM:"im",FF:"sca",FF_EXP:"xsca",ENVIRONMENT:"env"},DETECTION_METHODS:{AD_PLACEHOLDER:"s",AD_HUNT:"a",IFRAME:"i",VIDEO:"v",MRAID:"m",OMID:"o1",MUTATION:"c",SPECIFIED_AD:"sp",SPECIFIED_AD_COMPOUND:"spc",BUSTED_IFRAME_FLASHTALKING:"bf",BUSTED_IFRAME_YIELDMO:"by",BUSTED_IFRAME_SIZMEK:"bs",BUSTED_IFRAME_OGURY:"bo",VENDOR_CELTRA:"vc"},ENGAGEMENT:{CLICKS:"clks",HOVER:"hov"},OUT_OF_VIEW_REASONS:{GEOM:"l",OBSTRUCTION:"o",FOCUS:"f",COLLAPSED:"c",HIDDEN:"h",RENDER:"r",VIDEO:"v",WINDOW:"w",OUTPUT_DEVICE:"u",UNMEASURABLE:"m",PICTURE_IN_PICTURE:"p",DEVICE_LOCKED:"k"},PERF_TIMELINE_TRACKER_CONFIG:{VANS:{TYPE:"vans",COUNT:4},WRAPPERS:{JS:{TYPE:"jswrapper",COUNT:15},AS:{TYPE:"flwrapper",COUNT:9}},RENDER:{TYPE:"render",COUNT:2,CODE:"tdr"}},ERROR_CODES:{GET_AD_DIMENSIONS:"a",AD_SLOT_ID:"A",AD_SERVER_POST_IMPRESSION_MACRO:"A2",BAPI_CALLBACK:"b",BROWSER_NOT_HTML5_COMPATIBLE:"B",ADTALK_GENERAL:"c",COCOA_GONE:"C",CLICK_TRACK:"Q",GET_SCREEN_LOC_GET_DIMENSIONS:"d",ADTALK_DUBIOUS:"D",IMPRESSION_PERFORMANCE:"e",POST_IMPRESSION:"E",ADTALK_DELAY:"f",VIDEO_IN_IFRAME_DIMS_CALC:"F",GDPR:"g",INIT_ADS_MANAGER:"G",PHONE_HOME:"h",FEATURE_SCRIPT:"H",HIDDEN:"H1",HIDDEN2:"H2",UID_GENERATION:"i",IMPRESSION_URLS:"I",NOT_VPAID_EVENT_OBJECT:"j",JSINFO:"J",KILL_IT:"k",NO_RESPONSE_XML:"K",LOCATION_DETAILS:"l",IMPRESSION_LEADUP:"L",MESSAGE_LISTENER:"m",MOBILE_APP:"M",AT_INIT:"N",AUTOPLAY_DETECTION:"n",ANCESTOR_ORIGINS:"o",EVENT_LOOP_ONE:"O",GET_SCREEN_LOC_PIV_CALC:"p",PLUGIN_PARSING:"P",NO_ORIGINAL_VAST:"q",AD_REFRESH:"r",AD_ERROR:"R",GET_ELEM_STYLE:"s",AT_SEND:"S",ADS_MANAGER_START_AD:"t",NO_COMPANION_AD_XML:"T",NO_VIDEO_AD_INTERFACE:"u",UNRECOGNIZED_EVENT_TYPE:"U",ENVIRONMENT:"v",CHECK_SCREEN_LOC:"V",GET_WIN_DIMENSIONS:"w",AC_WATCHER:"W",EXCHANGE_PARSING:"x",SCA:"X",BUSTED_IFRAME_IN_IO:"y",FLASH_API_ACCESS:"z",XSCA:"Z"},BROWSERS:{WEBKIT:"w",OPERA:"o",GECKO:"g",CHROME:"c",MSEDGE:"e",IE:"i",DOMLESS:"d"},MEDIA_TYPE_CODE:"mtp",MEDIA_TYPE:{DISPLAY:"display",DISPLAY_CODE:"d",VIDEO:"video",VIDEO_CODE:"v"},MEASUREMENT_STRATEGY:{DISPLAY:"display",VIDEO:"video"},TIERS:{PRE_IMPRESSION_FRAUD:4,VIEWABILITY:7,ENVIRONMENT:8},IMPRESSION_EVENT:"impression",DATA_TRANSFER_EVENT:"dt",CALLBACK_IDENTIFIER:"data-ias-callback",AD_IDENTIFIER:"data-integralas-id",IAS_DETECTOR:"iasdetector",CONTAINER_GEOMETRY_MEASUREMENT_CHANGED:"containerGeometryMeasurementChanged",OMID_GEOMETRY_MEASUREMENT_CHANGED:"omidGeometryChanged",VIEWABILITY_IN_VIEW_THRESHOLDS_INTERSECTION_OBSERVER:[0,.01,.2,.25,.3,.5,.7,.75,.8,.99,1],VIEWABILITY_IN_VIEW_THRESHOLDS_MOBILE_GRID:[0,.1,.2,.25,.3,.4,.5,.6,.7,.75,.8,.9,1],GROUPM_MOBILE_PASS_THRU_TIME_IN_VIEW_THRESHOLD_TYPE:"grpmMobPassThru",REFERRER_POLICY:"no-referrer-when-downgrade",RENDER:{CREATIVE_NODE_TYPES:["CANVAS","EMBED","IMG","OBJECT","PICTURE","SVG","VIDEO"],CONTAINER_NODE_TYPES:["A","DIV","IFRAME","INS"],WIDTH_THRESHOLD:20,HEIGHT_THRESHOLD:20,STATUS:{OTHER:"0",DETECTED:"1"},DETAILS:{ENVIRONMENT:"env",OTHER:"na"},DIAGNOSTIC:{BROKEN_IMAGE:"bi",UNQUALIFIED_SIZE:"us",QUALIFIED_SIZE:"qs",STYLED_NODE:"sn",TEXT_NODE:"tn",DOCUMENT_READY:"dr",LOAD_FIRED:"lf",CONTENT_STYLED:"cs",MRAID_DEFAULT:"md",MRAID_READY:"mr",MRAID_LOADING:"ml",MRAID_UNKNOWN:"mu",OMID_RENDERED:"or",OMID_UNRENDERED:"ou"}},RTS_KEY_FOR_VQ:"qiv",UNIQUE_ID_TOKEN:"[IAS_ASID]"};var me="mf",ge="cm",pe="in",fe="pr",he="po",ve="bl",Ee="lo",Ie="lt",Se="md",Ae="id",ye=function(e){"use strict";return{verifyContextNode:function(){!(__IASScope.isDomless||e.contextNode&&null!==e.contextNode.parentNode)&&(e.contextNode=function(){var t,r=n.getElementsByTagName("script"),i=r.length,o=r[i-1],s=e.scriptUrl;try{for(;--i>=0;)if((t=r[i]).src&&0===t.src.indexOf(s)&&null===t.getAttribute("data-ias-script-tag")){o=t,t.setAttribute("data-ias-script-tag","found");break}}catch(e){}return o}())}}},Te={getMessageHandler:function(e,t){var n=Te.getCallId(),r=function(i){try{i&&i.data&&i.data[e]&&i.data[e].callId===n&&i.data[e].returnValue&&(t(i.data[e].returnValue),tn.removeEvent(Sn.getWindow(),"message",r))}catch(e){ue.getAggregator().trigger(Ke.Error,le.ERROR_CODES.GDPR)}};return r},getCallId:function(){return"ias_"+e.asid},send:function(e,t){ue.getAggregator().trigger(Ke.AddThrottledProp,le.DT_SLOT.ENVIRONMENT,e,t)}},Oe={name:"CCPAConsentDetector",dependencies:[],creator:function(){"use strict";function e(e){e&&Te.send("ccd",ce(e).toION())}!function(){const t=Ge({apiFunctionName:"__uspapi",apiFrameLocatorName:"__uspapiLocator"});Te.send("cca",!!t),t&&function(t){var n,r;ce.isFunction(t)?t("getUSPData",1,e):(n={__uspapiCall:{command:"getUSPData",version:1,callId:Te.getCallId()}},r=Te.getMessageHandler("__uspapiReturn",e),tn.addEvent(Sn.getWindow(),"message",r),t.postMessage(n,"*"))}(t)}()},settings:{tier:le.TIERS.ENVIRONMENT,applies:function(e,t,n){"use strict";return t.hasPostMessage()&&!n.isDomless()}}},De={name:"GDPRConsentDetector",dependencies:[],creator:function(){"use strict";var e=278;function t(e){var t=ce.isDef(e)&&ce.isDef(e.vendorConsents)&&ce.isDef(e.vendorConsents[278])?e.vendorConsents[278]:void 0,n={appl:ce.stringifyTriState(e.gdprApplies),cnst:ce.stringifyTriState(t),glbl:ce.stringifyTriState(e.hasGlobalScope),mtdt:encodeURIComponent(e.metadata)},r=e&&e.tcString;ue.getAggregator().provide(Xe.TCString,(function(){return r})),Te.send("gcd",ce(n).toION())}!function(){const n=Ge({apiFunctionName:"__cmp",apiFrameLocatorName:"__cmpLocator"});Te.send("gca",!!n),n&&function(n){var r,i;ce.isFunction(n)?n("getVendorConsents",[e],t):(r={__cmpCall:{command:"getVendorConsents",parameter:[e],callId:Te.getCallId()}},i=Te.getMessageHandler("__cmpReturn",t),tn.addEvent(Sn.getWindow(),"message",i),n.postMessage(r,"*"))}(n)}()},settings:{tier:le.TIERS.ENVIRONMENT,applies:function(e,t,n){"use strict";return t.hasPostMessage()&&!n.isDomless()}}};const _e={name:"GDPRV2ConsentDetector",dependencies:[],creator:()=>{const e=e=>{const t=ce.isDef(e)&&ce.isDef(e.vendor)&&ce.isDef(e.vendor.consents)&&ce.isDef(e.vendor.consents[278])?e.vendor.consents[278]:void 0,n={appl:ce.stringifyTriState(null==e?void 0:e.gdprApplies),cnst:ce.stringifyTriState(t)};Te.send("gcd2",ce(n).toION())};(()=>{const t=je.TcfApi,n=We.TcfApiLocator,r=Ge({apiFunctionName:t,apiFrameLocatorName:n});Te.send("gca2",!!r),r&&(t=>{let n,r;if(ce.isFunction(t))try{t(ke.AddEventListener,2,e)}catch(n){try{t(ke.GetTCData,2,e)}catch(e){}}else n={__tcfapiCall:{command:ke.AddEventListener,callId:Te.getCallId(),version:2}},r=Te.getMessageHandler(ke.TcfApiReturn,e),tn.addEvent(Sn.getWindow(),"message",r,!1),t.postMessage(n,"*")})(r)})()},settings:{tier:le.TIERS.ENVIRONMENT,applies:(e,t,n)=>t.hasPostMessage()&&!n.isDomless()}};class Ce extends a{constructor(){super(...arguments),this.failed=!1,this.callbacks=[]}onConsentFrameworkChange(e){this.callbacks.push(e)}emitConsentFrameworkChange(){this.callbacks.forEach((e=>{e()}))}}class we extends a{constructor(){super({storeModelName:"ConsentDetection"}),this.consentDetection=!1,this.isAbleToMeasure=!1,this.previousConsentState=!1,this.hasGottenAllUserInputs=!1,this.hasSentInitialMinDT=!1,this.consentFrameworkRecords={},this.sendMinimalDTCall=({fields:e})=>{this.consentDetection&&ue.getAggregator().trigger(Ke.SendMinDt,le.DT_CODES.PERFORMANCE,-5,{field:"tv",value:e})},this.updateMeasurementStatus=({newIsAbleToMeasure:e})=>{e!==this.isAbleToMeasure&&(this.set("isAbleToMeasure",e,{locked:!1}),Q.emit(X.MeasurementStatus,{canSendMeasurementData:this.isAbleToMeasure}))},this.consentFrameworkRecords.tcf={framework:new $e,isAbleToMeasure:!1,DTFields:{},evaluator:be},this.startOnPubSubCD()}startOnPubSubCD(){Q.on(X.ConsentDetection,(()=>{try{this.start()}catch(e){}}))}start(){Object.values(this.consentFrameworkRecords).forEach((e=>{const t=e.framework;if(t.applies()){const e=this.checkFrameworks.bind(this);t.onConsentFrameworkChange(e),t.start()}}));ue.getAggregator().request(Xe.Features).on("consentDetection")&&this.set("consentDetection",!0,{locked:!1}),this.checkFrameworks()}checkFrameworks(){try{let e=!0;const t={},n=Object.values(this.consentFrameworkRecords);n.forEach((n=>{const{DTFields:r,isAbleToMeasure:i}=n.evaluator(n.framework);e&&(e=i),Object.assign(t,r),this.sendDTFields(r)})),!this.hasGottenAllUserInputs&&n.every((e=>e.evaluator(e.framework).hasUserInput))&&(this.hasGottenAllUserInputs=!0),(this.hasGottenAllUserInputs&&!this.hasSentInitialMinDT||this.previousConsentState&&!e)&&(this.sendMinimalDTCall({fields:t}),this.hasSentInitialMinDT=!0),this.previousConsentState=e,this.updateMeasurementStatus({newIsAbleToMeasure:e})}catch(e){}}sendDTFields(e){Object.entries(e).forEach((([e,t])=>{ue.getAggregator().trigger(Ke.AddOutputItem,{output:t},e)}))}}const be=e=>{let t=!0,n=!1,r={};if(!e.failed){const i=e.consentData;n=Ue({consentData:i}),t=Re({consentData:i}),r=Ve({consentData:i,isAbleToMeasure:t})}return{isAbleToMeasure:t,DTFields:r,hasUserInput:n}};class $e extends Ce{constructor(){super({storeModelName:"TransparencyConsentFramework"}),this.consentData=null,this.listenerIDs=[],this.messageHandlers=[]}applies(){return!en.isDomless()}start(){const e=je.TcfApi,t=We.TcfApiLocator;this.apiEntrance=Ge({apiFunctionName:e,apiFrameLocatorName:t}),this.addTCFAPIEventListener(),this.onUnloadRemoveTCF()}messageHandler(e){e&&(this.set("consentData",e,{locked:!1}),this.emitConsentFrameworkChange()),Le({consentData:e,listenerIDs:this.listenerIDs,messageHandlers:this.messageHandlers})}onUnloadRemoveTCF(){ue.getAggregator().on(Ke.Unload,(()=>{this.end()}))}end(){Fe({apiEntrance:this.apiEntrance,listenerIDs:this.listenerIDs,messageHandlers:this.messageHandlers})}addTCFAPIEventListener(){this.apiEntrance?Pe({apiEntrance:this.apiEntrance,command:ke.AddEventListener,tcfv:Ne.TcfV2,action:this.messageHandler.bind(this)}):this.failed=!0}}var Ne;!function(e){e[e.TcfV2=2]="TcfV2"}(Ne||(Ne={}));const Re=({consentData:e})=>{let t=!1;try{const n=null==e?void 0:e.gdprApplies;if(n){if(n&&"useractioncomplete"===(null==e?void 0:e.eventStatus)){Me({consentData:e})&&(t=!0)}}else t=!0}catch(e){}return t},Me=({consentData:e})=>{const{vendor:t,purpose:n}=e,r=null==t?void 0:t.consents,i=(null==r?void 0:r[278])||!1,o=null==t?void 0:t.legitimateInterests,s=(null==o?void 0:o[278])||!1,a=null==n?void 0:n.legitimateInterests,c=[10,7].every((e=>(null==a?void 0:a[e])||!1));return i||s&&c},Pe=({apiEntrance:e,command:t,tcfv:n,action:r,id:i})=>{if(e)if("function"==typeof e)try{e(t,n,((e,t)=>{t&&r(e)}),i)}catch(e){}else if(e&&"function"==typeof e.postMessage){const i=e=>{var t,n;const o=e.data;if(1===(null===(t=null==o?void 0:o.__tcfapiReturn)||void 0===t?void 0:t.callId)&&(null===(n=null==o?void 0:o.__tcfapiReturn)||void 0===n?void 0:n.success)){const e=o.__tcfapiReturn.returnValue;e.messageHandler=i,r(e)}},o={__tcfapiCall:{command:t,callId:1,version:n}};tn.addEvent(Sn.getWindow(),"message",i,!1),e.postMessage(o,"*")}},xe={error:-1,useractioncomplete:1,cmpuishown:2,tcloaded:3},Ve=({consentData:e,isAbleToMeasure:t})=>{var n,r,i,o,s,a,c,d;const u={},l=[];return(null===(r=null===(n=null==e?void 0:e.purpose)||void 0===n?void 0:n.legitimateInterests)||void 0===r?void 0:r[7])&&l.push(7),(null===(o=null===(i=null==e?void 0:e.purpose)||void 0===i?void 0:i.legitimateInterests)||void 0===o?void 0:o[10])&&l.push(10),u.cpli=l,u.cgc=(null===(a=null===(s=null==e?void 0:e.vendor)||void 0===s?void 0:s.consents)||void 0===a?void 0:a[278])?1:0,u.cvli=(null===(d=null===(c=null==e?void 0:e.vendor)||void 0===c?void 0:c.legitimateInterests)||void 0===d?void 0:d[278])?1:0,(null==e?void 0:e.eventStatus)&&(u.ccmp=xe[null==e?void 0:e.eventStatus]),u.cdop=(null==e?void 0:e.gdprApplies)?1:0,u.cttd=t?1:0,u},Fe=({apiEntrance:e,listenerIDs:t,messageHandlers:n})=>{t.forEach((t=>{Pe({apiEntrance:e,command:ke.RemoveEventListener,tcfv:Ne.TcfV2,action:()=>{},id:t})})),n.forEach((e=>{tn.removeEvent(window,"message",e)}))},Le=({consentData:e,listenerIDs:t,messageHandlers:n})=>{(null==e?void 0:e.listenerId)&&t.push(e.listenerId),(null==e?void 0:e.messageHandler)&&n.push(e.messageHandler)},Ue=({consentData:e})=>!(!(null==e?void 0:e.gdprApplies)||"useractioncomplete"!==(null==e?void 0:e.eventStatus));var ke,je,We;!function(e){e.AddEventListener="addEventListener",e.RemoveEventListener="removeEventListener",e.GetTCData="getTCData",e.TcfApiReturn="__tcfapiReturn"}(ke||(ke={})),function(e){e.TcfApi="__tcfapi"}(je||(je={})),function(e){e.TcfApiLocator="__tcfapiLocator"}(We||(We={}));const Ge=({apiFunctionName:e,apiFrameLocatorName:t})=>{try{let n,r,i=Sn.getWindow();const o=Sn.getTop();try{n=null==o?void 0:o[e]}catch(e){for(;!r;){try{if(i.frames[t]){const e=i.frames[t];r=null==e?void 0:e.parent}}catch(e){}if(i===o)break;i=i.parent}}return n||r}catch(e){}};var Be=function(){"use strict";var t,n=["STYLE","SCRIPT","HEAD","META"],r=le.RENDER.CREATIVE_NODE_TYPES.concat(le.RENDER.CONTAINER_NODE_TYPES),i=0,o=te.measurementConfig.useFIF&&en.friendlyIframe||en.isSpecifiedAd(),s=0,a=[],c=function(t){var n,r,o=t,s=t,a=en.friendly?Sn.getTop().document.body:e.contextNode.ownerDocument.body;for(;i<3;){if(a&&o===a){s=o,i=3;break}sn.isWindow(o)&&(r=void 0,r="["+le.AD_IDENTIFIER+"-"+e.asid+"]",n=sn.crossQuerySelector(r),o=ce.isDef(n)?n:o),s=o=ce.isDef(o)&&o.parentNode||o,i++}return s},d=function(e){var t=function(e){var t,i,o=[],s=e&&e.getElementsByTagName&&e.getElementsByTagName("*"),a=s&&s.length;if(s)for(var c=0;c<a;c++)i=(t=s[c])&&t.nodeName&&t.nodeName.toUpperCase(),!t.children||0!==t.children.length||ce(r).contains(i)||ce(n).contains(i)||ce(o).contains(i)||o.push(i);return o}(e);return r.concat(t)},u=function(t){var n,r=o?c(t):t;return sn.isWindow(r)?n=function(t){var n;try{n=t.document}catch(t){n=e.contextNode.ownerDocument}return n}(r):"IFRAME"===sn.getNodeName(r)?(a.push(t),n=t.contentWindow.document):n=r,n},l=function(n){var r,i=sn.isNodeXDomainIframe(n)||sn.isNodeCreative(n),o=!n;if(t=o?e.contextNode.parentNode:n,i||o)(r=a.length)>0&&(s<r?s=r:(s=0,a=[])),ue.getAggregator().trigger(Ke.EvaluateCreativeFinderResult,n);else{var c=u(n),l=d(c);new He(l,a).searchDescendants(c)}};return ue.getAggregator().on(Ke.CreativeFinderBatchCompleted,l),{find:l,getClosestContainerName:function(){return sn.getNodeName(t)}}},He=function(t,n){"use strict";var r=t,i=function(e){var t=0,r=null,i=-1;function o(e){if(o=e,s=sn.getNodeName(o),a=sn.isNodeCreative(o)||"IFRAME"===s,s&&a&&!sn.isEmptyFriendlyFrame(e)){var t=sn.getNodeArea(e);t>i&&!ce(n).contains(e)&&(r=e,i=t)}var o,s,a}e.length&&ue.getAggregator().request(Xe.UseYieldSearch)?function n(){do{o(e[t]),t+=1}while(t%500!=0&&t<e.length);t<e.length?Sn.execAtEndOfThread(n,0):ue.getAggregator().trigger(Ke.CreativeFinderBatchCompleted,r)}():function(){for(;t<e.length;t++)o(e[t]);ue.getAggregator().trigger(Ke.CreativeFinderBatchCompleted,r)}()};return{searchDescendants:function(t){var n=t||e.contextNode.parentNode,o=sn.collectCandidateElements(n,r);i(o)}}},Ye=function(){"use strict";var e,t=!1,n=!1,r=!1,i={status:le.RENDER.STATUS.OTHER,details:le.RENDER.DETAILS.OTHER},o={status:le.RENDER.STATUS.DETECTED,details:le.RENDER.DETAILS.ENVIRONMENT},s="rend",a="renddet",c=ue.getAggregator().request(Xe.OmidAdSessionContext),d=function(){var e=!1;return en.isOmid()&&c&&c.useOMID13Logic&&(e=!0),e},u=function(){t=!0,r=!0},l=function(n){var r=e.build(),o=n.status||i.status,c=r||i.details;o===le.RENDER.STATUS.DETECTED&&ue.getAggregator().trigger(Ke.PerfCheckpoint,{type:le.PERF_TIMELINE_TRACKER_CONFIG.RENDER.TYPE,timestamp:Sn.now(),code:le.PERF_TIMELINE_TRACKER_CONFIG.RENDER.CODE}),t&&o===le.RENDER.STATUS.DETECTED?(ue.getAggregator().trigger(Ke.AddThrottledOutputItem,s,o),ue.getAggregator().trigger(Ke.AddThrottledOutputItem,a,c)):(ue.getAggregator().trigger(Ke.AddOutputItem,{output:o},s),ue.getAggregator().trigger(Ke.AddOutputItem,{output:c},a))},m=function(){var t=c&&!!c.isVideo,r=!d()||c&&!!c.videoStartArrived,i=!d()||c&&!!c.geometryArrived,s=!c.omidEarlyExit||c.omidImpressionArrived,a=!(c.omidEarlyExit&&d())||c.omidLoadedArrived;return!(n||!i||!s||!a||t&&!r)&&(ue.getAggregator().trigger(Ke.AddOutputItem,{output:en.getTagTime()},"oren"),ue.getAggregator().trigger(Ke.EligibleRender),e.save(le.RENDER.DETAILS.ENVIRONMENT),e.save(le.RENDER.DIAGNOSTIC.OMID_RENDERED),ue.getAggregator().trigger(Ke.AdRendered),l(o),n=!0,!0)};return{start:function(){var t=!1;ue.getAggregator().trigger(Ke.PerfCheckpoint,{type:le.PERF_TIMELINE_TRACKER_CONFIG.RENDER.TYPE,timestamp:Sn.now(),code:ze.Initial}),ue.getAggregator().on(Ke.AdRendered,(function(){t=!0})),ue.getAggregator().provide(Xe.AdRenderStatus,(function(){return t})),ue.getAggregator().provide(Xe.UseYieldSearch,(function(){return r})),e=new Qe,new Ze,ue.getAggregator().on(Ke.ImpressionSent,u),d()||c.omidEarlyExit?m()||(e.save(le.RENDER.DETAILS.ENVIRONMENT),e.save(le.RENDER.DIAGNOSTIC.OMID_UNRENDERED),l(i),ue.getAggregator().on(Ke.OmidRendGeoUpdate,(function(){m()})),ue.getAggregator().on(Ke.OmidRendVideoStart,(function(){m()})),c.omidEarlyExit&&(ue.getAggregator().on(Ke.OmidImpressionArrived,(function(){m()})),ue.getAggregator().on(Ke.OmidLoadedArrived,(function(){m()})))):en.isOmid()||en.isVideo()?(ue.getAggregator().trigger(Ke.EligibleRender),e.save(o.details),ue.getAggregator().trigger(Ke.AdRendered),l(o)):(l(i),qe(l,i,e))}}};const qe=function(e,t,n){ue.getAggregator().on(Ke.PrimaryAdFound,(function(r){let i;const o=Be();let s=!0;const a="data-ias-rend-bi",c=function(e){e&&(e.status="1"),ue.getAggregator().trigger(Ke.AdRendered)},d=function(e){let t=!0;const r=ce.isDef(e.naturalWidth)?e.naturalHeight*e.naturalWidth:0,i=getComputedStyle(e),o=0===e.src.length&&bn.contains(i.content,"url"),s=e.getAttribute&&e.getAttribute(a);return r>0&&!o&&(t=!1),"false"===s&&(n.save("cs"),t=!1),o&&!s&&function(e,t){n.save("cs");const r=/url(?:\(['"]?)(.*?)(?:['"]?\))/.exec(t.content),i=r&&r[1],o=sn.createImage(),s=e;o.onload=function(){o.naturalHeight*o.naturalWidth>0&&s.setAttribute&&s.setAttribute(a,!1)},o.src=i,s.setAttribute(a,!0)}(e,i),t},u=function(){i?Sn.clearInterval(i):s=!1};ue.getAggregator().on(Ke.EvaluateCreativeFinderResult,(function(r){let i;sn.isNodeXDomainIframe(r)?(u(),t=function(t){const r={},i="readystatechange",o="load",s=Sn.getDoc(),a="complete"===s.readyState,d=function(a){const u=a&&a.type;(u===i&&"complete"===a.target.readyState||u===o)&&(c(r),n.saveNode(t),"readystatechange"===u?n.save("dr"):"load"===u&&n.save("lf"),e(r),tn.removeEvent(t,o,d),tn.removeEvent(s,i,d))};return a?(c(r),n.saveNode(t),n.save("dr")):(tn.addEvent(t,o,d,void 0),tn.addEvent(s,i,d,void 0)),r}(r)):r?(function(e){let t=!1;const r=sn.getRect(e);return e&&"IMG"===sn.getNodeName(e)&&d(e)&&(t=!0,n.save("bi")),!t&&r.width>=20&&r.height>=20}(r)&&(c(t),u()),n.saveNode(r)):(i=o.getClosestContainerName()||n.getAdNodeName(r)||t.details,n.save(i)),e(t)}));const l=function(){const e=r&&r.getAdNode();try{o.find(e)}catch(e){ue.getAggregator().trigger(Ke.RenderDiag,e)}},m=ue.getAggregator().request(Xe.MobileApp);m&&m.isMobileAppEnvironment&&m.isMobileAppEnvironment()&&en.isMraid()?function(e,n){const r=Sn.getWindow().mraid,i=r&&r.getState&&r.getState(),o="ready",s=t,a=function(){tn.removeEvent(r,o,a),n.save("env"),n.save("mr"),ue.getAggregator().trigger(Ke.AdRendered),e({status:"1"})};n.save("env"),"default"===i?(ue.getAggregator().trigger(Ke.AdRendered),n.save("md"),s.status="1"):"loading"===i?(tn.addEvent(r,o,a,void 0),n.save("ml")):(tn.addEvent(r,o,a,void 0),n.save("mu")),e(s)}(e,n):(l(),s&&(i=Sn.setInterval(l,500))),ue.getAggregator().trigger(Ke.EligibleRender)}))};var Ke,Je,Xe,ze,Qe=function(){"use strict";var e=[],t=[],n=function(e){var t;if(sn.isWindow(e))t="WINDOW";else if(sn.isNodeXDomainIframe(e))t="XIFRAME";else try{t=sn.getNodeName(e)}catch(e){r("nen")}return t},r=function(t){e.push(t)};return{build:function(){var n=[];return ce(t).each((function(e,t){n.push(t)})),ce(e).each((function(e,t){n.push(t)})),t=[],e=[],n.join(".")},getAdNodeName:n,save:r,saveNode:function(e){try{var i=e&&n(e),o=e&&sn.getRect(e),s=e&&sn.hasBackgroundImage(e),a=e&&e.children&&0===e.children.length,c=e&&e.innerText&&e.innerText.length>0,d=a&&c,u=o&&o.width>=le.RENDER.WIDTH_THRESHOLD&&o.height>=le.RENDER.HEIGHT_THRESHOLD?le.RENDER.DIAGNOSTIC.QUALIFIED_SIZE:le.RENDER.DIAGNOSTIC.UNQUALIFIED_SIZE;t.push(i),t.push(u),s&&t.push(le.RENDER.DIAGNOSTIC.STYLED_NODE),d&&t.push(le.RENDER.DIAGNOSTIC.TEXT_NODE)}catch(e){r("sne")}}}},Ze=function(t){"use strict";var n,r=!1,i=!1,o="1",s="0",a=function(){r=!0,d()},c=function(e){n=e,d()},d=function(){ue.getAggregator().trigger(Ke.AddOutputItem,{output:!n&&r?o:s},ze.MeasurableForRender),n&&n.message&&!i&&(__IntegralASDiagnosticCall("renderloop",n,e),ue.getAggregator().trigger(Ke.AddThrottledProp,le.DT_SLOT.ENVIRONMENT,"rle",1),i=!0)};ue.getAggregator().on(Ke.EligibleRender,a),ue.getAggregator().on(Ke.RenderDiag,c),d()},et=function(){"use strict";return{applies:function(e,t){var n=ue.getAggregator().request(Xe.MobileApp);return(e.browserIs(le.BROWSERS.CHROME)||e.isAndroidWebViewBrowser()||e.browserIs(le.BROWSERS.WEBKIT)||e.browserIs(le.BROWSERS.MSEDGE))&&!n.isMobileAppEnvironment()&&e.hasIntersectionObserver()}}},tt=function(){"use strict";var e,t,n=!1,r=ue.getAggregator().request(Xe.Page),i=function(){!n&&t&&e&&!r.isHidden()&&(n=!0,ue.getAggregator().trigger(Ke.SendDt,le.DT_CODES.LARGE_BILLABLE))};ue.getAggregator().on(Ke.PrimaryAdFound,(function(t){e=t.getDims().area()>=le.MRC_LARGE_AD_SIZE,i()})),ue.getAggregator().on(Ke.ImpressionSent,(function(){t=!0,i()})),r.onHiddenChange(i)},nt=function(){"use strict";var e=[],t={},n={percentInView:"piv",sl:"vs",reason:"r",width:"w",height:"h",omidObstructions:"oobs"},r={omidObstructions:["sl","percentInView","reason"]};ue.getAggregator().on(Ke.NewScreenEvent,(function(r){var o=ce(r).selectProperties(ce(n).keys()),s=ce(o).asStrings(),a=ce(s).compareTo(t);(a=i(a))&&JSON.stringify(a)!==JSON.stringify({})&&(a.t=en.getTagTime(),e.push(a)),ce(t).mixin(s)}));var i=function(e){return ce(r).each((function(t,n){var r=!1;ce(n).each((function(t,n){e[n]&&(r=!0)})),!1===r&&delete e[t]})),e};return{toString:function(){return ce(e).toION(n)}}},rt=function(){"use strict";var e=new lt,t=new it;return ce(e).mixin(t)};!function(e){e.AdComponentAdded="adComponentAdded",e.AdComponentClicked="adComponentClicked",e.AdComponentTouchEnd="adComponentTouchEnd",e.AdComponentTouchStart="adComponentTouchStart",e.AdComponentMousedOver="adComponentMousedOver",e.AdComponentMousedOut="adComponentMousedOut",e.AdComponentPointerUp="adComponentPointerUp",e.AdComponentPointerDown="adComponentPointerDown",e.AdComponentRemoved="adComponentRemoved",e.AdImpression="adImpression",e.AdRendered="adRendered",e.AdSessionComplete="adSessionComplete",e.AltAdSessionComplete="altAdSessionComplete",e.AdUserInteraction="adUserInteraction",e.AdVideoComplete="adVideoComplete",e.AdVideoStart="adVideoStart",e.AddNode="addNode",e.AddOutputItem="addOutputItem",e.AddThrottledOutputItem="addThrottledOutputItem",e.AddThrottledProp="addThrottledProp",e.AddToSpg="addToSpg",e.Blur="blur",e.CreativeFinderBatchCompleted="creativeFinderBatchCompleted",e.DeferredAdSessionReady="deferredAdSessionReady",e.DelayedViewabilityReady="delayedViewabilityReady",e.DelayedViewabilityReadyCallOnly="delayedViewabilityReadyCallOnly",e.DtEnterQueuingMode="dtEnterQueuingMode",e.DtExitQueuingMode="dtExitQueuingMode",e.DtReportDtsNotAllowed="dtReportDtsNotAllowed",e.EligibleRender="eligiblerender",e.EndAdSession="endAdSession",e.Error="error",e.EvaluateCreativeFinderResult="evaluateCreativeFinderResult",e.Exec="exec",e.GetJSON="getJSON",e.ImpressionSent="impressionsent",e.InternallyGeneratedGeometryEvent="internallyGeneratedGeometryEvent",e.IoPivChange="IOPivChange",e.JSONP="jsonp",e.MarkTime="markTime",e.Measurable="measurable",e.MeasureTime="measureTime",e.NewScreenEvent="newScreenEvent",e.NewState="newState",e.NodesAdded="nodesAdded",e.Notify="notify",e.OmidAdDuration="omidAdDuration",e.OmidImpressionArrived="omidimpressionarrived",e.OmidLoadedArrived="omidloadedarrived",e.OmidRendGeoUpdate="omidrendgeoupdate",e.OmidRendVideoStart="omidrendvideostart",e.PerfCheckpoint="perfCheckpoint",e.PreSendDt="preSendDt",e.PrimaryAdFound="primaryadfound",e.RenderDiag="renderdiag",e.Send="send",e.SendDiag="sendDiag",e.SendDt="sendDt",e.SendMinDt="sendMinDt",e.StartViewabilityLoop="startViewabilityLoop",e.StopAdTalk="stopAdTalk",e.Unload="unload",e.UpdateDtCount="updateDtCount",e.VideoBlockResult="videoBlockResult",e.VideoQuartileEvent="videoQuartileEvent"}(Ke||(Ke={})),function(e){e.BEFORE_UNLOAD="beforeunload",e.PAGE_HIDE="pagehide"}(Je||(Je={})),function(e){e.AdNode="adNode",e.AdProxy="adProxy",e.AdRenderStatus="adRenderStatus",e.AdSlotIDs="adSlotIds",e.AdTalkEventAggregator="adTalkEventAggregator",e.AdTalkMessage="adTalkMessage",e.AdTalkMessageCollection="adTalkMessageCollection",e.AncestorOrigins="ancestorOrigins",e.Browser="browser",e.Communication="mComm",e.Context="context",e.Errors="mErrors",e.Features="features",e.FrameCollection="frameCollection",e.IDMapModule="idMapModule",e.IDS="ids",e.IframeCalculatorHelper="iframeCalculatorHelper",e.InterFrameQuerySelector="interFrameQuerySelector",e.IsFullyInViewProvider="isFullyInViewProvider",e.JobFactory="jobFactory",e.JSONP="mJsonp",e.MobileApp="mobileApp",e.OmidAdSessionContext="omidAdSessionContext",e.OmidAdSessionVerificationParameters="omidAdSessionVerificationParameters",e.OmidVerificationClient="omidVerificationClient",e.OmidVideoEventsString="omidVideoEventsString",e.Page="mPage",e.PageURLS="pageUrls",e.PerfActive="perfActive",e.ScreenEvents="mScreenEvents",e.TCString="tcString",e.UseYieldSearch="useYieldSearch",e.Video="video",e.VideoChannel="vc",e.VideoTranslator="videoTranslator",e.VideoVersion="videoVersion",e.Viewability="viewability",e.ViewabilityDefinitions="viewabilityDefinitions"}(Xe||(Xe={})),function(e){e.AdHeight="adHeight",e.AdWidth="adWidth",e.AppSDKsDetected="sdk",e.B11="b11",e.BadURLNoPeriod="bunp",e.BapiClient="bapiClient",e.BootstrapperApp="app",e.BootstrapperMobAppWebview="maw",e.BootstrapperMobOrTab="mot",e.BrowserIs="browserIs",e.CmpApi="cmpApi",e.CNod="cnod",e.ContextNode="contextNode",e.CustomMetricInViewReason="cmr",e.ProtectedAudienceApi="paapi",e.GeometryEventsReceived="og",e.Initial="initial",e.Length="length",e.MainFunctionStartedNow="mtim",e.Mapp1ExclusionListMatch="xlu",e.MatchedMobileAppDetectionRule="drul",e.MeasurableForRender="rmeas",e.MetricId="metricId",e.MetricIdEventCall="scm",e.MetricIdList="metricIdList",e.MismatchOfIntegratedBlockingTagTypes="smm",e.MobAppWebview="mobAppWebview",e.MobOrTab="mobOrTab",e.MobApp="app",e.MobileAppEnvironment="mapp",e.MobileFWURL="mobFwUrl",e.MRAIDInjectionStatus="mi",e.OMIDAppMeasurement="oam",e.OMIDRenderedIndication="oren",e.OMIDSessionError="oser",e.OMIDSessionFinish="osef",e.OriginalMobOrTab="origMobOrTab",e.Performance="prf",e.PluginDecoded="pd",e.PluginList="pl",e.SafeFrame="sf",e.SafeFrameHostURL="sfhu",e.SafeFrameInvalidHostURL="sfiv",e.Slid="slid",e.StaticConfigRequestTime="scq",e.StaticConfigResponseTime="scs",e.StaticImpressionRFWCallRequestTime="siq",e.StaticImpressionRFWCallResponseTime="sis",e.StaticUsedConfigAndBlockingRequest="scb",e.TagDeliveryType="tdt",e.ThirdPartyDataLookup="tpiLookup",e.VideoBreakPosition="vbp",e.VideoChannel="vc",e.VideoPlayerState="vps"}(ze||(ze={}));const it=function(){"use strict";const e={},t={},n=function(e,n){t[e]=t[e]||[],t[e].push(n)},r=function(t,n){const r=e[t];r&&r.run.apply({},n)},i=function(e,n,r){let i=t[e];if(i&&0!==i)return r&&(i=i.slice(0,1)),ce(i).each((function(e,t){n.apply({},t)})),!0},o=function(t,n,r){e[t]=e[t]||new st,e[t].push(n,r)};return{on:function(e,t){let n={};t?n[e]=t:n=e,ce(n).each(o),ce(n).each(i)},once:function(e,t){i(e,t,!0)||o(e,t,1)},trigger:function(e){const t=ce(arguments).toArray();t.shift(),r(e,t)},persistentTrigger:function(e){const t=ce(arguments).toArray();t.shift(),n(e,t),r(e,t)}}};var ot=function(){"use strict";var e=function(t,n,r){var i,o,s=n.length,a=sn.isWindow(t)?t.frames:sn.getChildWindowsOf(t);if(r&&r(t,n),a&&a.length){for(i=0;i<a.length;i++)(o=a[i])&&sn.isWindow(o)&&(n[s]=i,e(o,n,r));n.pop()}},t=function(t,n){try{e(n||top,[0],t)}catch(e){}};return{traverse:t,getFrames:function(e,n){var r=[];return t((function(e){sn.isWindow(e)&&function(e,t){var n,r=!0;for(n=0;n<e.length;n++)if(e[n]===t){r=!1;break}return r}(r,e)&&r.push(e)}),n),ce(r).filter(e)}}};const st=function(){"use strict";const e=[];return{push:function(t,n){let r=0;n=n||Number.MAX_VALUE;e[e.length]=function(){r<n&&(r++,t.apply({},arguments))}},run:function(){const t=arguments;ce(e).each((function(e,n){n.apply({},t)}))}}};var at=function(e){"use strict";var t={};return{doEligibleJobs:function(n){ce(e).each((function(e,r){var i=r&&r.getTime();ce.isDef(i)&&n>=i&&!t[i]&&(r.getTask().call(),t[i]=!0)}))}}},ct=function(){"use strict";var e,n=new dt;return{listen:function(r,i,o){e=function(e){!function(e,t,r,i){var o,s,a,c;if(JSON&&JSON.parse)try{o=JSON.parse(e.data),s=e.source,c=ce.noop,t(o)&&(i&&(a=i(s,o))&&(c=function(){n.send((function(){return a}),s)}),r(e,o,c))}catch(e){o&&ue.getAggregator().trigger(Ke.Error,le.ERROR_CODES.MESSAGE_LISTENER)}}(e,r,i,o)},tn.addEvent(t,"message",e)},stop:function(){e&&tn.removeEvent(t,"message",e),e=null}}},dt=function(){"use strict";return{send:function(e,t){if(JSON&&JSON.stringify){var n=function(e){return ce(e).isObj()?[e]:(new ot).getFrames(e)}(t);ce(n).each((function(t,n){var r,i=ce.resolve(e,n)||{};i.sentTime=Sn.now(),r=function(e){return ce(e).mapToObj((function(e,t){var n;return ce.isFunction(t)||((n={})[e]=t),n}))}(i),n.postMessage(ce(r).JSONStringify(),"*")}))}}}},ut=function(e){"use strict";var t=0,n={},r=function(e,n,r){if(ce.isUndef(e.output))throw new Error("item with id "+n+' must have "output" method');this.item=e,this.id=n||++t,this.props=r||{},this.output=function(){var t=ce.resolve(e.output);return this.props.asION&&(t=ce(t).toION()),t}},i=function(e){var t,r,i=[];for(t in n)n.hasOwnProperty(t)&&(r=e(t,n[t]))&&i.push(r);return i},o=function(e,t,i){i="string"!=typeof(i=i||t)?i:{};var o=ce(e.output).isObj()&&!i.asION,s=function(e,t,i){var o=new r(e,t,i);n[o.id]=o};o?ce(e.output).each((function(e,t){s({output:t},e,i)})):s(e,t,i)};return e.on(Ke.AddOutputItem,(function(e,t,n){o(e,t,n)})),{addItem:o,filterOutput:function(e,t){return i((function(n,r){var i,o=r.props;e(o)&&(i=r.output(),o.encode&&(n=encodeURIComponent(n),i=encodeURIComponent(i)),ce.isFunction(t)?t(n,i):t[n]=i)}))},iterate:i,cleanup:function(){i((function(e,t){t.props.flagForRemoval&&delete n[e]}))},getItem:function(e){return n[e]}}};const lt=function(){"use strict";const e={},t=(t,n)=>{e[t]=n};return{request:function(t){let n;const r=e[t],i=ce(arguments).toArray();return i.shift(),ce.isUndef(r)||(n=ce.isFunction(r)?r.apply({},i):r),n},provide:(e,n)=>(n?t(e,n):ce(e).each(t),n)}};var mt=function(){"use strict";return{createInstance:function(e,t,n,r){return en.isDomless()?new pt:new gt(e,t,n,r)}}},gt=function(e,t,n,r){"use strict";var i,o=function(e,t){return{viewState:le.NA,posViewState:le.NA,embedded:en.embedded,winDimensions:e,adDimensions:t}};return{collect:function(){var t=e.find(),s=t.getOutOfViewReasons(),a=n.isHidden(),c=r.isDeviceTypeGroupMobile()&&i?i:on(sn.calcWinDims()),d=t.getDims();return i=c,t.hasAd()&&c.hasValidDims()&&d.hasValidDims()?(!0===a&&s.push(le.OUT_OF_VIEW_REASONS.FOCUS),{winDimensions:c,adDimensions:d,containerDimensions:t.getContainerDims(),method:t.getDetectionMethod(),viewState:s.length?le.OUT_OF_VIEW:t.getViewState(),viewStateIgnoringRender:t.getViewStateIgnoringRender(),percentInView:t.getPercentInView(),percentInViewIgnoringRender:t.getPercentInViewIgnoringRender(),reason:s.join("."),obstructed:ce.stringifyTriState(t.isObstructed()),isHidden:ce.stringifyTriState(t.isHidden()),tabHidden:ce.stringifyTriState(a),posViewState:t.getViewState(),adCompCount:t.getComponentCount(),sliceStatus:t.getSliceStatus()}):o(c,d)}}},pt=function(){"use strict";return{collect:function(){return{}}}},ft=function(e){"use strict";e=e||ce.identity;var t=[],n=Sn.now(),r=function(){var e=Sn.now();t.length&&(t[t.length-1].duration+=e-n,n=e)};return{clear:function(){r(),t=[]},fastForward:r,get:function(){return t},hasAlwaysBeen:function(e){return 1===t.length&&t[0].state===e},addState:function(n){var i=t[t.length-1],o=e(n);r(),0!==t.length&&o===i.state||t.push({state:o,duration:0})}}};const ht=function(e,t){"use strict";const n=e||1;let r,i=0,o=0,s=0;return{start:()=>{i%n==0&&(r=Sn.now())},stop:()=>{const e=r||t;i%n==0&&(s+=Sn.now()-e,o++),i++},getTime:()=>s,getCount:()=>o}};var vt=function(){"use strict";var e,t=0,n=0,r=new it(!0),i=function(){e&&(t++,r.trigger(t),n>t?Sn.execAtEndOfThread(i):o())},o=function(){e=!1,t=0};return{onTick:function(e,t){var i=ce.collapseArgsIntoHash(e,t);ce(i).each((function(e,t){e=parseInt(e),n=e>n?e:n})),r.on(i)},start:function(){e||(e=!0,Sn.execAtEndOfThread(i))},kill:o,isActive:function(){return e}}},Et=function(e){"use strict";var t,n=0,r=en.getTagTime(),i=0,o=!1;return{getTotalTime:function(){return i},stop:function(){n=0,r=en.getTagTime(),o=!1},mark:function(){t=o?en.getTagTime()-r:0,(n+=t)>=e&&(i+=n-t<e?n:t),r=en.getTagTime(),o=!0}}};const It=function(t,n){"use strict";const r=te.baseUrls;let i=t||r.fwEventBaseUrl||r.cmEventBaseUrl;i&&0===i.indexOf("http")||(i=0===i.indexOf("//")?e.protocol+":"+i:e.protocol+"://"+i);const o=/((http|https):\/\/(([^\/\.]*)\.([^\/]*)))(?:\/(.[^?]*)\??(.+)?)*/.exec(i)||[],s=o[1]?o[1]:"",a=o[2]?o[2]:"",c=o[3]?o[3]:"";let d=o[4]?o[4]:"",u=o[5]?o[5]:"",l=t&&o[6]?o[6]:"",m=o[7]&&n?o[7]:"";const g={},p=function(e){return"string"==typeof e&&(d=e),d},f=function(e){return"string"==typeof e&&(u=e),u},h=function(t,n){const r=t+"="+ce(n).toION();return ce.encodeInvalidUrlChars(r,e.encodeInvalidUrlChars)},v=function(){const e=ce(g).isEmpty()?"":ce(g).stringify(h,"&");return"?"+m+(m&&e?"&"+e:e)};m=m?m.replace(/&$/,""):"";return{appendToParamValue:function(e,t){let r,i,o,s;const a=g[e];a?g[e]=a+t:n&&m.length&&(r=m.split(e),s=r.length>1,s&&(i=r[1].split("&")[0],o=[r[0],i].join(e),m=m.replace(o,o+t)))},fullDom:s,hostname:c,sub:p,master:f,setParam:function(e,t){g[e]=g[e]||{},"string"==typeof t||"number"==typeof t?g[e]=t:ce(g[e]).mixin(t)},path:function(e){l=e},toString:function(){const e=p()?p()+".":"",t=l?"/"+l:"",n=m||!ce(g).isEmpty()?v():"";return a+"://"+e+f()+t+n}}};var St=function(){"use strict";var e=function(e){var t=[];return ce(e).each((function(e,n){t.concat(n).join("").length<=400&&t.push(n)})),t},t=function(e){var t=sn.getAncestorNodes(e);return ce(t).map(n)},n=function(e,t){var n;return t&&t.id&&(n=t.id.replace(/[^\w-_.>\/]/g,"")),n};return function(){var n,r;try{return en.friendly&&!en.isMobileApp()&&((n=ue.getAggregator().request(Xe.AdSlotIDs))?r=n:(n=function(){var n,r;return(n=sn.getOurNodeInTop())&&(r=t(n)),r&&e(r)}(),n&&(ue.getAggregator().trigger(Ke.AddOutputItem,{output:n},ze.Slid,{type:le.DT_CODES.ADTALK,asION:!0}),ue.getAggregator().provide(Xe.AdSlotIDs,n),r=n))),r}catch(e){ue.getAggregator().trigger(Ke.Error,le.ERROR_CODES.AD_SLOT_ID)}}()},At={name:"AdRefreshDetection",dependencies:[],creator:function(){"use strict";var t=[15,20,30,45,60,90],n={start:function(){var t=this,n=e.asid,r=t.parseQuery(),i=t.getCacheId(r);n&&r.chanId&&(this.recordAdSlotImpression(n,r.chanId,i,(function(e,n){e?ue.getAggregator().trigger(Ke.Error,le.ERROR_CODES.AD_REFRESH):t.sendRefreshSession(n)})),t.registerInternalViewabilityListener(r.chanId,i))},getCacheId:function(t){if(t&&t.cacheId)return t.cacheId;if(e&&e.contextNode){try{const n=e.contextNode.ownerDocument.querySelector("#ias-"+t.cb);if(n)return n.id}catch(e){}if(e.contextNode.nextSibling&&e.contextNode.nextSibling.id)return e.contextNode.nextSibling.id}return null},adRefreshIntervalIsValid:function(e){return-1!==t.indexOf(e)},parseQuery:function(){for(var t=e.reqquery.split("&"),n={},r=0;r<t.length;r+=1){var[i,o]=t[r].split("=",2);""!==i&&(n[i]=o)}return n},sendRefreshSession:function(e){var t=(0===e.refreshCount?"self":e.refreshSessionId)+"."+e.refreshCount;ue.getAggregator().trigger(Ke.AddThrottledProp,le.DT_SLOT.ENVIRONMENT,"ar",t)},recordAdSlotImpression:function(e,t,n,r){var i=Sn.getTop(),o={requestTop:"recordAdSlotImpression",asid:e,adUnitId:t,cacheId:n};window.addEventListener("message",(function(e){if(/refreshSession/g.test(e.data))try{var t=e&&e.data&&JSON.parse(e.data);r(null,t)}catch(e){r(e)}}),!1),i.postMessage(JSON.stringify(o),"*")},registerInternalViewabilityListener:function(e,t){var n=this,r=te.measurementConfig.adRefreshThreshold&&parseInt(te.measurementConfig.adRefreshThreshold)||null,i=Sn.getTop();r&&this.adRefreshIntervalIsValid(r)&&ue.getAggregator().on(Ke.SendDt,(function(o,s){o!==le.DT_CODES.PING&&o!==le.DT_CODES.CUSTOM||s!==r||(Sn.execAtEndOfThread((function(){i.postMessage(JSON.stringify({requestTop:"refreshAd",adUnitId:e,cacheId:t}),"*")})),n.sendAutoRefreshProp(r))}))},sendAutoRefreshProp:function(e){ue.getAggregator().trigger(Ke.AddThrottledProp,le.DT_SLOT.ENVIRONMENT,"ir",e),ue.getAggregator().trigger(Ke.AdSessionComplete)}};return en.isRefreshable((function(e,t){var r;if(!e&&t)try{(r=JSON.parse(t)).isRefreshable&&r.adServerName&&n.start()}catch(e){ue.getAggregator().trigger(Ke.Error,le.ERROR_CODES.AD_REFRESH)}})),n},settings:{tier:le.TIERS.ENVIRONMENT,applies:function(e,t,n){"use strict";return n.isPossiblyRefreshable()}}},yt=function(){"use strict";var e,t,n=function(e,t){return-1!==t.indexOf("https")&&(t+="*"),t.replace(/^https?:\/\//,"")},r=function(){if(ue.getAggregator().request(Xe.AdNode))return parseFloat(ue.getAggregator().request(Xe.VideoVersion))};return{isApplicable:function(e,t){return!function(e){return e.isVideo()&&!(e.isMraid()||e.isOmid())&&r()<3.7}(t)&&e.hasAncestorOrigins&&e.hasAncestorOrigins()&&t.xDomainIframe},isStarted:function(){return!!t},start:function(){try{e=Sn.getWindow().location.ancestorOrigins,t=!0}catch(e){ue.getAggregator().trigger(Ke.Error,le.ERROR_CODES.ANCESTOR_ORIGINS)}},getMyFrameDepth:function(){return e&&e.length||0},getTopDomain:function(){return ce.last(e)},sendOriginList:function(){var t;t="ao:"+(e?ce(e).map(n).reverse():[]).join(","),ue.getAggregator().trigger(Ke.AddOutputItem,{output:t},ze.ThirdPartyDataLookup,{type:le.DT_CODES.THIRD_PARTY,standalone:!0,encode:!0}),ue.getAggregator().trigger(Ke.SendDt,le.DT_CODES.THIRD_PARTY)}}},Tt=function(t,n,r,i,o){"use strict";var s=function(e,t,n){o.addItem({output:e+"."+t+"."+n},"ctpl")},a=function(e){try{n.diagnostic("c");var o=e.length,a=0,c=0;s(o,0,0),ce(e).each((function(e,n){t.send(function(e){return e.replace("%%CBS%%",i.getCacheBustId())}(n),(function(){s(o,a,++c)}),!0),s(o,++a,c)}))}catch(e){r.add(le.ERROR_CODES.AT_SEND)}};return{init:function(){try{var n=(new It).fullDom;"/"!==n.slice(-1)&&(n+="/"),n+="tpl?asId="+e.asid,t.jsonp(n,a)}catch(e){r.add(le.ERROR_CODES.AT_INIT)}}}},Ot=function(t,n,r,i){"use strict";return{enabled:"true"===e.useBapiCallback,callback:function(n){r.trigger(Ke.SendDiag);try{"true"===e.accountForSadImps&&i.measure(n),e._onAPIResult&&e._onAPIResult(n)}catch(e){t.add(le.ERROR_CODES.BAPI_CALLBACK),r.trigger(Ke.SendDiag,"bapiClient")}}}},Dt=function(){"use strict";return{createInstance:function(e,t,n,r){return en.isDomless()?new Ct:new _t}}},_t=function(){"use strict";var e=le.BROWSERS,t=function(){var t="u",n=Sn.getWindow();try{ce.isDef(n.opr)&&n.opr.addons||ce.isDef(n.opera)&&ce.isDef(n.opera.buildNumber)?t=e.OPERA:ce.isDef(n.mozInnerScreenY)?t=e.GECKO:ce.isDef(n.chrome)&&ce.isDef(n.chrome.csi)?t=e.CHROME:ce.isDef(n.msWriteProfilerMark)&&ce.isDef(n.crypto)?t=e.MSEDGE:ce.isDef(n.WebKitPoint)?t=e.WEBKIT:(ce.isDef(n.attachEvent)||ce.isDef(n.msCrypto))&&(t=e.IE)}catch(e){}return t},n=function(){var e="";try{var t=Sn.getWindow();ce.isDef(t.navigator)&&ce.isDef(t.navigator.userAgent)&&(e=t.navigator.userAgent)}catch(e){}return e},r=function(){var t=n().toLowerCase();return t.indexOf(" opr/")>-1?e.OPERA:t.indexOf("firefox")>-1?e.GECKO:t.indexOf("edg")>-1?e.MSEDGE:t.indexOf("chrome")>-1?e.CHROME:t.indexOf("webkit")>-1?e.WEBKIT:t.indexOf("msie")>-1?e.IE:encodeURIComponent(t)||"_"};return{browserIs:function(e){return t()===e},hasIntersectionObserver:function(){return"function"==typeof IntersectionObserver},hasMutationObserver:function(){return"function"==typeof MutationObserver},hasResizeObserver:function(){return"function"==typeof ResizeObserver},hasAncestorOrigins:function(){var e=Sn.getWindow().location;return!(!e||!e.ancestorOrigins)},hasPostMessage:function(){var e=Sn.getWindow();return!(!e||!ce.isFunction(e.postMessage))},getBrowserType:t,getBrowserTypeByUA:r,getUserAgent:n,params:function(){return{br:t(),bru:r(),an:(e=le.NA,n=Sn.getWindow(),ce.isDef(n.navigator)&&ce.isDef(n.navigator.appName)&&(e=n.navigator.appName.toLowerCase()[0]),e)};var e,n},isAndroidWebViewBrowser:function(){var e=n();return bn.contains(e,"Android")&&ce(["Line","SamsungBrowser","FB_IAB","Silk"]).findFirst((function(t,n){return bn.contains(e,n)}))},getIOSVersion:function(){var e,t,r,i=n();return i&&(e=i.match(/OS\s\d+/))&&e.length>0&&(r=(t=e.toString().match(/\d+/))&&t.length>0&&parseInt(t.toString())),r}}},Ct=function(){"use strict";var e=function(){return!1};return{getBrowserType:()=>"u",getBrowserTypeByUA:()=>"d",getIOSVersion:()=>{},params:()=>({br:"u",bru:"d",an:le.NA}),browserIs:e,getUserAgent:e,hasPostMessage:e,hasAncestorOrigins:e,hasIntersectionObserver:e,hasMutationObserver:e,isAndroidWebViewBrowser:e}},wt=function(){"use strict";return{createInstance:function(e,t){return en.isDomless()?new Rt(t):new Nt(e,t)}}},bt=function(){"use strict";var t;return{isApplicable:function(n){var r=!(!(t=ue.getAggregator().request(Xe.OmidAdSessionContext)).app||!t.isDisplay||t.isWeb),i=n&&n.indexOf("/blocking/")>-1&&!en.integratedBlockingApplies(n),o=1!=e.forceNoIframe;return r&&i&&o},deployBlockingScriptIntoIframe:function(n){t=ue.getAggregator().request(Xe.OmidAdSessionContext);var r,i="iasbi"+e.asid,o=function(t,n){var r,i,o,s=e[ze.ContextNode].parentNode,a="about:blank",c=e.adWidth&&e.adWidth>0?e.adWidth:0,d=e[ze.AdHeight]&&e[ze.AdHeight]>0?e[ze.AdHeight]:0,u=Sn.getDoc().getElementsByTagName("ins"),l=0,m=0;u&&u.length>0&&(o=u[0],l=parseInt(o.style.width),m=parseInt(o.style.height));var g=l||c||window.innerWidth,p=m||d||window.innerHeight;return"complete"===Sn.getDoc().readyState&&(e.forceAppend="true"),"true"===e.forceAppend?((r=Sn.getDoc().createElement("IFRAME")).id=t,r.src=a,s.appendChild(r)):Sn.getDoc().write(te.trustedTypesPolicy.createHTML('<iframe id="'+t+'" src="'+a+'"></iframe>')),(i=Sn.getDoc().getElementById(t))&&(i.style.width=g+"px",i.style.height=p+"px",i.scrolling="no",i.frameborder=0,i.tabIndex=-1,i.style.position="absolute",i.style.padding=i.style.margin=i.style.border="0px"),i}(i);o&&(r=o.contentWindow.document)&&(r.open().write(function(e,t){var n,r="",i="",o=Sn.getDoc().getElementsByTagName("ins");if(o&&o.length>0){n=o[0],r="<ins";for(var s=0;s<n.attributes.length;s++)r+=" "+n.attributes[s].nodeName+'="'+n.attributes[s].nodeValue+'"';r+=">",i="</ins>"}return'<!doctype html><html><head></head><body style="margin:0px;border:0px;padding:0px;font-size:0px"><script>var IASid = "'+e+'", largestSize = 0;var IASmonitorDom = function () {  var DOM_MONITOR_PERIOD = 100;  var i, us, thisSize, thisWidth, thisHeight;  var elems = document.body.getElementsByTagName("*");  for (i = 0; i < elems.length; i++) {    if (elems[i].tagName && elems[i].tagName.toLowerCase() === "ins")      continue;    thisWidth = elems[i].offsetWidth;    thisHeight = elems[i].offsetHeight;    thisSize = thisWidth * thisHeight;    if (thisSize > largestSize) {      largestSize = thisSize;      us = parent.document.getElementById(IASid);      if (us) {        us.setAttribute("CreativeLoaded","true");        if (elems[i].style.left !== "") {          us.style.left = elems[i].style.left;          elems[i].style.left = "0px";        }        if (elems[i].style.top !== "") {          us.style.top = elems[i].style.top;          elems[i].style.top = "0px";        }      }    }  }  setTimeout(IASmonitorDom, DOM_MONITOR_PERIOD);};setTimeout(IASmonitorDom,50);<\/script>'+r+'<script src="'+t+'" referrerpolicy="'+le.REFERRER_POLICY+'"><\/script>'+i+"</body></html>"}(i,n)),r.close())}}};const $t=({trimmedString:e,iasImpId:t})=>{const n=e.match(/^function\s*\(([^)]*)\)\s*\{([\s\S]*)\}$/);if(n&&void 0!==n[1]&&void 0!==n[2]){const e=n[1],r=n[2];new Function(e,r)({iasImpId:t})}};var Nt=function(r,i){"use strict";var o=function(t,r,i,o){var s,a;const c=Vt({url:r});r=c||r,"script"!==t?((a=n.createElement("DIV")).innerHTML=te.trustedTypesPolicy.createHTML(i),s=a.childNodes[0]):((s=n.createElement("SCRIPT")).src=te.trustedTypesPolicy.createScriptURL(r),o&&(s.onload=o)),e[ze.ContextNode].parentNode.appendChild(s)},s=function(r,i,s){var a,c,d,u="",l=function(e){const t=Vt({url:e});return' src="'+(e=t||e)+'"'}(i),m=' referrerpolicy="'+le.REFERRER_POLICY+'"';en.doesPageAllowAppendedScripts()&&s&&(c="__IntegralASEventLoadHandler_"+e.asid.replace(/-/g,""),t[c]=s,u=function(e){return' onload="'+e+" && "+e+'()"'}(c)),d={script:['<script type="text/javascript"',u,l,m,"><\/script>"],iframe:['<iframe width="100%" height="100%" frameborder="0" vspace="0" hspace="0" scrolling="no" marginheight="0" marginwidth="0"',u,l,m,"></iframe>"],img:["<img",u,l,m,"/>"]}[r].join(""),en.isOmid()?(a=new bt).isApplicable(i)?a.deployBlockingScriptIntoIframe(i):o(r,i,d,s):("loading"!==Sn.getDoc().readyState&&(e.forceAppend="true"),"true"===e.forceAppend?o(r,i,d,s):n.write(te.trustedTypesPolicy.createHTML(d)))},a=function(e,t,n){var r,i=!n&&tn.getXHR2();const o=Vt({url:e});e=o||e,i?(i.open("POST",e),i.onreadystatechange=function(){4===i.readyState&&200===i.status&&t&&t()},i.send()):(r=sn.createImage(),t&&(r.onload=t),r.src=te.trustedTypesPolicy.createScriptURL(e.toString()))},c=function(e,t){var n=tn.getXHR2();const r=Vt({url:e});e=r||e,n&&(n.open("GET",e),n.onreadystatechange=function(){if(4===n.readyState&&200===n.status&&t)try{var e=JSON.parse(n.responseText);t(e)}catch(e){return}},n.send())},d=function(e,t,r,i){const{contextNode:o,measurementConfig:s}=te;var a="text/javascript",c=Sn.getDoc(),d=c&&"loading"===c.readyState,u=s&&s.isStaticMode,l=n.createElement("script");const m=Vt({url:e}),g=o&&o.dataAttributes,p="true"===(g&&g.iasForceAppend);let f=o&&o.element&&o.element.parentNode;if(s&&s.isStaticFrameInFrame&&o&&o.element&&o.element.contentDocument&&(f=(c=o.element.contentDocument).body),r=r||f,e=m||e,l.type=a,l.src=te.trustedTypesPolicy.createScriptURL(e),l.referrerPolicy=le.REFERRER_POLICY,t&&(l.onload=t),i&&(l.setAttribute("defer",""),l.setAttribute("async","")),u&&!te.adTag.isScriptAsync&&d&&!p){const t="ias_dw_"+Math.random().toString(36).substring(2,11),n=`<script id="${t}" type="${a}" src="${e}"><\/script>`,i=te.trustedTypesPolicy.createHTML(n);c.write(i);!c.getElementById(t)&&ce.isDef(r)&&r.appendChild(l)}else ce.isDef(r)&&r.appendChild(l)},u=function(t){if(ce.isFunction(t))t({iasImpId:e.asid});else if(t&&"string"==typeof t){var n="function"==typeof t.trim?t.trim():t;if(0===n.indexOf("function"))try{$t({trimmedString:n,iasImpId:e.asid})}catch(e){}else{var r=new It(t,!0).toString();a(r,void 0,!0)}}},l=function(e,t,n,r){d(i.wrap(e,t,n,r))};return ue.getAggregator().on({[Ke.AddNode]:s,[Ke.Send]:a,[Ke.Exec]:d,[Ke.Notify]:u,[Ke.GetJSON]:c,[Ke.JSONP]:l}),{addNode:s,send:a,exec:d,notify:u,getJSON:c,jsonp:l}},Rt=function(t){"use strict";var n=function(e,t){t=t||e,e=arguments.length>1?e:"script";const n=Vt({url:t});t=n||t,t=encodeURI(t);var r=ue.getAggregator().request(Xe.OmidVerificationClient);r["script"===e?"injectJavaScriptResource":"sendUrl"](t,(function(){}))},r=function(e,t){const n=Vt({url:e});e=n||e,e=encodeURI(e),ue.getAggregator().request(Xe.OmidVerificationClient).sendUrl(e.toString(),t||function(){})},i=function(e,t){var n=ue.getAggregator().request(Xe.OmidVerificationClient);const r=Vt({url:e});e=r||e,e=encodeURI(e),n.injectJavaScriptResource(e,t||function(){})},o=function(t){if(ce.isFunction(t))t({iasImpId:e.asid});else if(t&&"string"==typeof t){var n="function"==typeof t.trim?t.trim():t;if(0===n.indexOf("function"))try{$t({trimmedString:n,iasImpId:e.asid})}catch(e){}else{var i=new It(t,!0).toString();r(i)}}},s=function(e,n,r,o){i(t.wrap(e,n,r,o))};return ue.getAggregator().on({[Ke.AddNode]:n,[Ke.Send]:r,[Ke.Exec]:i,[Ke.Notify]:o,[Ke.JSONP]:s}),{addNode:n,send:r,exec:i,notify:o,jsonp:s}};class Mt{static checkIfFirstPartyBlockingApplies({impressionUrl:e}){let t=!1;if(e&&en.isBlocking()&&!en.isDomless()&&en.isAMZN())try{const n=new URL(e);let r=n.searchParams.get("fpb");if(!r||"true"!==r){const e=n.searchParams.get("redirectUrl");if(e){const t=decodeURIComponent(e);r=new URL(t).searchParams.get("fpb")}}t="true"===r}catch(e){}return t}static modifyUrlForFirstPartyBlocking({impressionUrl:e}){let t;if(e){const n=ue.getAggregator().request(Xe.MobileApp).isMobileAppEnvironment()?xt({impressionUrl:e}):Pt({impressionUrl:e});t=n?`${n.toString()}&`:void 0}return t}}const Pt=({impressionUrl:e})=>{let t;try{const n=(({url:e})=>{var t,n;const r=new URL(e),i=r.protocol.replace(":",""),o=r.host,s=r.search,a=r.pathname.split("/"),c=a.indexOf("rfw");return{protocol:i,host:o,upToRfwPath:a.slice(0,c+1).join("/"),advEntityId:null!==(t=a[c+2])&&void 0!==t?t:"",pubEntityId:null!==(n=a[c+3])&&void 0!==n?n:"",search:s}})({url:e});if(n){const{protocol:r,host:i,upToRfwPath:o,advEntityId:s,pubEntityId:a,search:c}=n;if(r&&i&&o&&s&&a){const n=`${r}://${i}${o}/st/${s}/${a}/111.js${c}`,d=`${r}://static.adsafeprotected.com/111a.js`,u=new URL(n),l=new URL(d),m=new URL(e).searchParams.get("fpbmn");m&&"fpba"!==m&&l.searchParams.set("fpbmn",m),u.searchParams.set("adsafe_pb",l.toString()),t=u}}}catch(e){}return t},xt=({impressionUrl:e})=>{let t;try{t=new URL(e);const n=t.protocol,r=`${n}//static.adsafeprotected.com/111.js`,i=`${n}//static.adsafeprotected.com/111a.js`,o=new URL(i),s=new URL(r),a=t.searchParams.get("fpbmn");a&&"fpba"!==a&&(o.searchParams.set("fpbmn",a),s.searchParams.set("fpbmn",a)),t.searchParams.set("redirectUrl",s.toString()),t.searchParams.set("passback",o.toString())}catch(e){}return t},Vt=({url:t})=>{const n=e.iasProxyPartnerDomain;let r,i,o;if("string"==typeof t)i=t;else try{i=t.toString()}catch(e){}if(i&&(o=i.includes("jsconfig.adsafeprotected.com/jsconfig"),en.isMSFT()&&!o&&n&&"string"==typeof n)){r=`https://${n}${encodeURIComponent(i)}`}return r};var Ft,Lt,Ut,kt,jt,Wt,Gt,Bt,Ht,Yt,qt,Kt,Jt,Xt,zt,Qt,Zt,en=(Ft=t,Lt="undefined"==typeof window,Ut=function(){return Lt},kt=void 0!==Ft&&"undefined"!=typeof top&&Ft!==top,jt=function(){var e=!1;if(Ut())e=!0;else try{e=!!top.document}catch(e){}return e}(),Gt=function(){return!Ut()&&ce.isDef(Sn.getWindow().mraid)},Ht=function(){var e=!1;if(!Ut()){var t=Sn.getWindow().inmobi,n=t&&t.IASDocumentVideoBuffer,r=t&&n&&ce.isFunction(n.addVideoEventListener);e=Gt()&&!!r}return e},Xt=function(t){return!1!==ce(e.customViewability).isArray()&&ce(e.customViewability).filter((function(e,n){return bn.contains(n.id,t)})).length>0},zt=function(){return e.use100v},{embedded:kt,friendly:jt,isFriendlyToParent:function(e){var t,n;if(Ut())t=!0;else{try{n=It(e.document.referrer).hostname===e.location.hostname}catch(e){}t=n}return t},friendlyIframe:kt&&jt,xDomainIframe:kt&&!jt,getTagTime:function(){return Sn.now()-te.measurementConfig.birthdate},getPageTime:function(){var e=le.NA;return!Ut()&&ce.isDef(Ft.chrome)&&ce.isDef(Ft.chrome.csi)&&ce.isFunction(Ft.chrome.csi)&&(e=Sn.round(Ft.chrome.csi().pageT)),e},isVideo:qt=function(){const t=e.mode&&e.mode.includes("jsvid")||te.adTag.tagType&&te.adTag.tagType.includes("jsvid"),n=(e.mode&&e.mode.includes("amtjs")||te.adTag.tagType&&te.adTag.tagType.includes("amtjs"))&&e.videoId&&""!==e.videoId;return Boolean(t||n||Bt()||Ht()||Yt())},isMobileApp:Wt=function(){return Ut()||ce.isDef(Sn.getWindow().mraid)},isSpecifiedAd:function(){var t=!1;if(!Ut()){var n=ce.isFunction(e.contextNode.getAttribute)&&e.contextNode.getAttribute("data-ias-container")||e._cl_adpath;t=n&&ce.isStr(n)}return t},isCompoundAd:function(){var t=!1;if(!Ut()){var n=e._cl_adpath,r=/\[(.*)\]/.exec(n);t=null!==r&&0!==r[1].length&&r[1].split(",").length>1}return t},isOmid:function(){var t=ue.getAggregator().request(Xe.OmidVerificationClient);return t&&t.isSupported()&&!e.videoId},isOmidNative:function(){return(new ei).accepts()},isOmidSandboxedEnvironment:function(){return(new ei).accepts()},isOmidForWeb:function(){return(new _r).accepts()},isOmidVideo:Bt=function(){var e=ue.getAggregator(),t=e.request(Xe.OmidVerificationClient),n=!1,r=e.request(Xe.OmidAdSessionContext);return t&&r&&(n=r.mediaType===le.MEDIA_TYPE.VIDEO),n},isOmidAudio:function(){var e=ue.getAggregator(),t=e.request(Xe.OmidVerificationClient),n=!1,r=e.request(Xe.OmidAdSessionContext);return t&&r&&(n="audio"===r.creativeType),n},isDomless:Ut,isBustedIframe:function(){var e=!1;return Ut()||(e=void 0!==Fi()),e},isMraid:Gt,isSafeFrame:function(){var e=!1;return Ut()||(e=ce(Sn.getWindow().$sf).isObj(!1)&&ce(Sn.getWindow().$sf.ext).isObj(!1)),e},isInMobiMraidVideo:Ht,isDeviceTypeGroupMobile:Jt=function(){return e[ze.MobOrTab]},usesIASFullyInViewCustomMetric:function(){return Xt("fiv")||zt()||!Qt()},usesGroupMCustomMetric:Qt=function(){return Xt("grpm")||zt()},isCeltra:function(){var e=!1;return Ut()||(e=Ui().isApplicable()),e},usesGroupMCustomMetricMobilePassThru:function(){return Qt()&&Jt()},usesZeroPivCustomMetric:function(){return!1!==ce(e.customViewability).isArray()&&ce(e.customViewability).filter((function(e,t){return ce(t.thresholds).findFirst((function(e,t){return 0===t.piv}))})).length>0},isRefreshable:function(e){try{var t=Sn.getTop();window.addEventListener("message",(function(t){/isRefreshable/g.test(t.data)&&e(null,t&&t.data)}),!1),t.postMessage(JSON.stringify({requestTop:"isRefreshable"}),"*")}catch(t){e(t)}},isPossiblyRefreshable:function(){return!Ut()&&!Wt()&&!qt()&&kt&&"jload"===te.adTag.tagType},integratedBlockingApplies:function(t){var n,r,i,o,s=!1;e.contextNode&&ce.isFunction(e.contextNode.getAttribute)&&(n=e.contextNode.getAttribute("data-ias-check-tag"),r=e.contextNode.getAttribute("data-ias-check-done"),o=(i=e.contextNode.getAttribute(le.CALLBACK_IDENTIFIER.toString()))&&ce.isFunction(Sn.getWindow()[i]));var a=ce.isDef(JSON)&&ce.isFunction(JSON.parse),c=e.integration&&(t.indexOf("skeleton.js")>0||t.indexOf("/internal/")>0),d=!0===e.fwMonitoring||"true"===e.fwMonitoring;return a&&c&&("true"===n&&"true"!==r&&o?(s=!0,d&&ue.getAggregator().trigger(Ke.AddOutputItem,{output:"imgb"},ze.MismatchOfIntegratedBlockingTagTypes,{type:"impression"})):(s=!1,d||ue.getAggregator().trigger(Ke.AddOutputItem,{output:"ibgm"},ze.MismatchOfIntegratedBlockingTagTypes,{type:"impression"}))),s},isBlocking:Kt=function(){return!1===e.fwMonitoring||"false"===e.fwMonitoring},isBlockingSizmekTag:function(){return Kt()&&bn.contains(e.scriptUrl,"bs.serving-sys.com")},isVastAudio:function(){return e&&e.adsafeSrc&&e.adsafeSrc.indexOf("xmtp=a")>-1},isVastVideo:Yt=function(){return e&&e.adsafeSrc&&e.adsafeSrc.indexOf("xmtp=v")>-1},isAMZN:function(){return ce.isStr(e.iasProxyPartnerDomain)&&-1!==e.iasProxyPartnerDomain.indexOf("amazon")},isMSFT:Zt=function(){return ce.isStr(e.iasProxyPartnerDomain)&&-1!==e.iasProxyPartnerDomain.indexOf("bing")},isPageOnShadowDomWhitelist:function(){var t=!1;return(Zt()||ce.isStr(e.scriptUrl)&&e.scriptUrl.includes("ias_searchshadowdom=true")||ce.isStr(e.iasProxyPartnerDomain)&&-1!==e.iasProxyPartnerDomain.indexOf("integral.local"))&&(t=!0),t},doesPageAllowAppendedScripts:function(){var e=!0;return Zt()&&(e=!1),e}}),tn={addEvent:function(e,t,n,r){"use strict";ce.isDef(e.addEventListener)&&("mouseenter"===t?e.addEventListener("mouseover",tn.mouseEnter(n),r):"mouseleave"===t?e.addEventListener("mouseout",tn.mouseEnter(n),r):e.addEventListener(t,n,r))},removeEvent:function(e,t,n){"use strict";ce.isDef(e.removeEventListener)&&("mouseenter"===t?(t="mouseover",n=tn.mouseEnter):"mouseleave"===t&&(t="mouseout",n=tn.mouseEnter),e.removeEventListener(t,n))},mouseEnter:function(e){"use strict";var t=this;return function(n){var r=n.relatedTarget;this===r||t.isAChildOf(this,r)||e.call(this,n)}},isAChildOf:function(e,t){"use strict";if(e===t)return!1;for(;t&&t!==e;)t=t.parentNode;return t===e},getStyle:function(e,t,r){"use strict";var i,o="";if(r=r||"",n.defaultView&&n.defaultView.getComputedStyle){try{i=n.defaultView.getComputedStyle(e,r)}catch(e){}o=i?i.getPropertyValue(t):o}else e.currentStyle&&(t=t.replace(/\-(\w)/g,(function(e,t){return t.toUpperCase()})),o=e.currentStyle[t]);return o},getXHR2:function(e,n){"use strict";var r,i;return ce.isDef(t.XMLHttpRequest)?"withCredentials"in(i=new XMLHttpRequest)&&(r=i):ce.isDef(XDomainRequest)&&(r=new XDomainRequest),r},whenReady:function(e,t){"use strict";if(en.isDomless())Sn.setTimeout((function(){e()}),50);else{var r,i,o=t||(en.xDomainIframe?n:Sn.getTop().document),s=this;r=e,i=function(){r(!0)},ce.isFunction(n.addEventListener)?"complete"==o.readyState||"loaded"==o.readyState||"interactive"==o.readyState?Sn.execAtEndOfThread(i):s.addEvent(o,"DOMContentLoaded",i,!1):function(e){var t=Sn.setInterval((function(){o.body&&(Sn.clearInterval(t),e())}),50)}(r)}},isSandboxed:function(e){"use strict";var t,n=Sn.getWindow(),r=!1;if("sandbox"in Sn.getDoc().createElement("iframe")){try{t=n.frameElement}catch(e){}r=t?t.hasAttribute("sandbox"):function(){var t=!1,n=Sn.getDoc();if(e.browserIs(le.BROWSERS.CHROME))try{n.domain="hol@#3+~"}catch(e){/Assignment is forbidden for sandboxed iframes/.test(e.message)&&(t=!0)}return t}()}return r},styleElement:function(e,t){"use strict";if(e&&ce(e.style).isObj()&&ce(t).isObj()){var n="";ce(t).each((function(e,t){n+=e+": "+t+" !important;"})),e.style.cssText=n}},nodeIsAbsolutelyPositioned:function(e){"use strict";return"absolute"===tn.getStyle(e,"position")||e.style&&"absolute"===e.style.position}},nn=function(e){"use strict";var t,n,r,i,o,s=nn.callTypeCounter,a=[le.DT_CODES.ADTALK],c={UNLOAD:-1,ADTALK:-2,VIEWABILITY_READY:-3,VIDEO_EVENTS:-4,DIAGNOSTIC:-5,THIRD_PARTY:-6,QUARTILE_FULLY_INVIEW:-7,LARGE_BILLABLE:-8,SCA:-10,ADSERVER_MACROS:-11};return i=(t={},n=le.DT_CODES,ce(["UNLOAD","ADTALK","VIEWABILITY_READY","VIDEO_EVENTS","DIAGNOSTIC","THIRD_PARTY","QUARTILE_FULLY_INVIEW","LARGE_BILLABLE","SCA","ADSERVER_MACROS"]).each((function(e,r){t[n[r]]=c[r]})),t)[e],o=s&&s[e],ce.isDef(o)&&0!==o&&ce(a).contains(e)&&(i=i+"."+o),r=s[e],s[e]=ce.isDef(r)?r+1:1,{callType:e,enumerator:i}};nn.callTypeCounter={};var rn=function(t,n,r,i,o,s,a,c){"use strict";var d,u=0,l=0,m=!1,g=!1,p=!1,f=function(e,t,n,s,c,f){n=n||!r.on("postDts");var h=e===le.DT_CODES.DIAGNOSTIC||e===le.DT_CODES.ADTALK||e===le.DT_CODES.SCA||e===le.DT_CODES.XSCA||e===le.DT_CODES.EXTERNAL||e===le.DT_CODES.LARGE_BILLABLE||e===le.DT_CODES.ADSERVER_MACROS;if(i.impressionIsIdentifiable()&&(h||"n"!==a.getCurrentLoc()))try{var v=te.baseUrls.dtBaseUrl,S=new It(v,!0),A=Sn.now();ue.getAggregator().trigger(Ke.PreSendDt,e),v||(S.path(le.DATA_TRANSFER_EVENT),r.on("usedtdomain")&&S.sub(le.DATA_TRANSFER_EVENT)),E(S,e,t),c&&c.field&&S.setParam(c.field,c.value),s||I(S,e),g&&!s?d.push({url:S,dtCallTime:Sn.now()-A,additionalCallback:f,useImg:n}):p||ue.getAggregator().trigger(Ke.Send,S,(function(){l+=1,u=Sn.now()-A,ce.isFunction(f)&&f()}),n),e===le.DT_CODES.UNLOAD&&(m=!0),o.cleanup()}catch(t){__IntegralASDiagnosticCall("dt-"+e,t),ue.getAggregator().trigger(Ke.Error,le.ERROR_CODES.PHONE_HOME)}},h=function(){if(!m){var e=le.DT_CODES.UNLOAD;f(e,-1,!0)}},v=function(e,t){var n={bapi:"a",bapiClient:"b",jload:"c",jss:"d",jsi:"e"},i=n[e]||n[te.adTag.tagType];t=t||te.adTag.tagType+"Diag",r.on(t)&&i&&f(le.DT_CODES.DIAGNOSTIC,-5,!0,!0,{field:"bkp",value:i})},E=function(t,n,r){var s=new nn(n),a=ce.isDef(r)?r:s.enumerator;t.setParam("asId",e.asid);var c={c:i.getCacheBustId(),pingTime:a,time:en.getTagTime(),type:n};g&&(c.qd=1);o.filterOutput((function(e){var t=e.minDt&&(!e.type||e.type===n);return t&&e.oneTime&&(e.flagForRemoval=!0),t}),c),t.setParam("tv",c)},I=function(e,t){var i,d,m={};o.filterOutput((function(e){return e.standalone&&!e.minDt&&e.type===t}),(function(t,n){e.setParam(t,n.replace(/%3A/g,":"))})),a.fastForward(),function(e){return e===le.DT_CODES.CUSTOM||e===le.DT_CODES.UNLOAD||e===le.DT_CODES.VIDEO_EVENTS||e===le.DT_CODES.FULLY_INVIEW||e===le.DT_CODES.PING||e===le.DT_CODES.VIEWABILITY_READY||e===le.DT_CODES.ADTALK}(t)&&(m.clog=c,en.isVideo()&&(d=en.isOmid()?"omidVideoEventsString":"videoEventsString",(i=ue.getAggregator().request(d))&&!i.isEmpty()&&(m.ve=i))),t===le.DT_CODES.UNLOAD&&(m.ndt=l),te.adTag&&-1!==te.adTag.tagType.indexOf("jsvid")&&(m.vv=ue.getAggregator().request(Xe.VideoVersion)),m.NULL1=r.output(),m.NULL2=a.stringify(10),m.em=en.embedded,m.fr=en.friendly,m.e=n.toString(),m.tt=te.adTag.tagType,m.dtt=u,o.filterOutput((function(e){var n=!(e.standalone||e.minDt||e.type&&e.type!==t);return n&&e.oneTime&&(e.flagForRemoval=!0),n}),m),e.setParam("tv",m),e.setParam("br",s.getBrowserType())};return ue.getAggregator().on({[Ke.SendDt]:function(e,t,n){var r;f(e,ce.resolve(t),r,r,r,n)},[Ke.SendMinDt]:function(e,t,n){f(e,t,void 0,!0,n)},[Ke.SendDiag]:v,[Ke.UpdateDtCount]:function(){l++},[Ke.Unload]:h,[Ke.DtEnterQueuingMode]:function(){d=[],g=!0},[Ke.DtExitQueuingMode]:function(){d&&d.forEach((e=>{ue.getAggregator().trigger(Ke.Send,e.url,(function(){l+=1,u=e.dtCallTime,ce.isFunction(e.additionalCallback)&&additionalCallback()}),e.useImg)})),g=!1,d=void 0},[Ke.DtReportDtsNotAllowed]:function({tcfData:t,gdprApplies:n,canMeasure:r}){p=!0,g=!1,d=[];var i=`https://fw.adsafeprotected.com/tc-data/asId=${e.asid}&tcfData=${t}&gdprApplies=${n}&canMeasure=${r}`;ue.getAggregator().trigger(Ke.Send,i,!1,!0)}}),{send:f,unload:h,diagnostic:v,setViewabilityMod:function(e){e}}},on=function(e){"use strict";var n,r={},i=!1,o=function(e){return 1===e.nodeType},s=function(){var t=o(e)?sn.nodeIsHidden(e):0===e.width||0===e.height;return!i&&t},a=function(){var e={};return ce(r).each((function(t,n){e[t]=Sn.round(n)})),e},c=function(e){return ce.isNumeric(e)||ce.isUndef(e)},d=function(){return Sn.round(r.width)*Sn.round(r.height)};return e!==t.parent&&(o(e)?ce.isDef(e.getBoundingClientRect)&&(n=sn.getRect(e),ce(r).mixin({x:ce.useIfDef(n.x)||n.scrX,y:ce.useIfDef(n.y)||n.scrY,scrX:n.scrX,scrY:n.scrY,width:n.width,height:n.height})):r=e),{hasValidDims:function(){return c(r.scrX)&&c(r.scrY)&&ce.isNumeric(r.width)&&ce.isNumeric(r.height)},toString:function(){var e=a();return[e.scrX,e.scrY,e.width,e.height].join(".")},getRounded:a,getRoundedGeometry:function(){var e={};return ce(r).each((function(t,n){e[t]="x"===t||"y"===t||"width"===t||"height"===t?Sn.round(n):n})),e},set:function(e,t){r[e]=t},isHidden:s,treatAsPlaceholder:function(){i=!0},area:d,isMrcLarge:function(){return d()>=le.MRC_LARGE_AD_SIZE},isOneByOne:function(){return s()&&d()<=1}}},sn={findElementsWithSize:function(e){"use strict";var t=[],n=function(e){sn.getNodeArea(e)<1?ce(e.children).each((function(e,t){n(t)})):t.push(e)};return n(e),t},nodeIsHidden:function(e){"use strict";var t=this.getRect(e),n=0!==parseInt(tn.getStyle(e,"width"))&&0===t.width,r=0===t.width||0===t.height,i="hidden"===tn.getStyle(e,"visibility");return n||r||i},calcWinDims:function(){"use strict";var e,t,n;try{t=sn.browserWindowPosition(),n=sn.windowSize(),e={scrX:Sn.round(t.scrX),scrY:Sn.round(t.scrY),width:Sn.round(n.width),height:Sn.round(n.height)}}catch(t){ue.getAggregator().trigger(Ke.Error,le.ERROR_CODES.GET_WIN_DIMENSIONS),e={}}return e},windowSize:function(){"use strict";var e,n,r,i={};if(en.isDomless())return{width:0,height:0};if(en.friendly)if(n=(e=top.document).documentElement,r=e.body,ce.isDef(top.innerWidth))i.width=top.innerWidth,i.height=top.innerHeight;else if(ce.isDef(n.clientWidth))i.width=n.clientWidth,i.height=n.clientHeight;else{if(!ce.isDef(r.clientWidth))throw i.width=i.height=0,"";i.width=r.clientWidth,i.height=r.clientHeight}else ce.isDef(t.outerWidth)&&(i.width=t.outerWidth,i.height=t.outerHeight);return i},browserWindowPosition:function(){"use strict";var e=0,n=0;e=t.screenX,n=t.screenY;return ue.getAggregator().request(Xe.Browser).browserIs(le.BROWSERS.GECKO)&&-8==e&&-8==n&&(e+=8,n+=8),{scrX:e,scrY:n}},getNodeArea:function(e){"use strict";var t=-1;if(e){var n=sn.getRect(e);t=n.width*n.height}return t},getRect:function(e){"use strict";var t={},n=sn.browserWindowPosition(),r=e.getBoundingClientRect();return ce.isUndef(r.x)&&(t.x=r.left,t.y=r.top),ce.isUndef(r.width)&&(t.width=r.right-r.left,t.height=r.bottom-r.top),ce(t).mixin(r,!0),t.scrX=n.scrX+t.x,t.scrY=n.scrY+t.y,t},getPlaceholderSpan:function(){"use strict";var e=n.createElement("span");return ce(e.style).mixin({width:"0px",height:"0px",display:"block",overflow:"hidden",visibiility:"hidden"}),e.innerHTML=te.trustedTypesPolicy.createHTML("."),e},createImage:function(){"use strict";var e=en.friendly&&Sn.getTop().Image;return ce.isFunction(e)?new e:new Image},createHiddenIframe:function(e){"use strict";var t=Sn.getDoc().createElement("iframe"),n=e?{display:"none"}:{width:"0px",height:"0px",border:"0",position:"absolute",top:"-10000px",left:"-10000px"};return tn.styleElement(t,n),t.tabIndex=-1,t},tagNameIs:function(e,t){"use strict";return e.tagName.toUpperCase()===t.toUpperCase()},getClippedDimensions:function(e,t){"use strict";var r,i,o,s,a,c=1e4,d=1e4,u=tn.nodeIsAbsolutelyPositioned(e);if(a=!sn.tagNameIs(e,"OBJECT"),null!==e.parentNode&&!u&&a&&!sn.tagNameIs(t,"BODY")){s=e;do{s=s.parentNode,i=!sn.tagNameIs(s,"OBJECT"),o="inline"!==tn.getStyle(s,"display"),i&&o&&(c=(r=sn.getRect(s)).width<c?r.width:c,d=r.height<d?r.height:d)}while(s.parentNode!==n&&s!==t)}return{width:Sn.round(c),height:Sn.round(d)}},hasBackgroundImage:function(e){var t=tn.getStyle(e,"background-image");return""!==t&&"none"!==t},isEmptyFriendlyFrame:function(e){try{var t,n=!1;if(e&&e.document){var r=e&&"IFRAME"===e.nodeName&&e.contentDocument;r&&((t=r.body)&&t.childElementCount<1)&&(n=!0)}return n}catch(e){return!1}},findChildWithLargestContent:function(e,t){var n=ue.getAggregator().request(Xe.MobileApp).isMobileAppEnvironment(),r=ue.getAggregator().request(Xe.OmidAdSessionContext),i=r&&r.hasOwnProperty("ignoreDivAsCandidate"),o=this.hasBackgroundImage,s=null,a=function(t){var n,r,s,a=null,c=-1,d=null;if(t.length)for(n=0,r=t.length;n<r;n++){var u=t[n],l=sn.getNodeArea(u),m=!((s=u).parentNode===e&&"DIV"===s.nodeName&&!o(s)&&("0"===tn.getStyle(s,"opacity")||"hidden"===tn.getStyle(s,"visibility")||function(){var e,t,n=s.childNodes;for(e=0;e<n.length;e++)1===n[e].nodeType&&(t=!0);return!t}()));m&&i&&"DIV"===u.nodeName&&(m=!1);var g=sn.isEmptyFriendlyFrame(u),p="A"===u.nodeName&&0===u.childElementCount&&!o(u)&&"IMG"===d;l>c&&m&&!g&&!p&&(a=u,c=l,d=u.nodeName)}return a&&(a.hasValidSizeForMobileApp=c>1),a}(sn.collectCandidateElements(e,t||"iframe,img,a,object,embed,div".split(",")));return a&&((s=function(t){for(var r,o,s=t;t.parentNode!==e&&"inline"!==tn.getStyle(t.parentNode,"display");)(!n||(r=t.parentNode,o=void 0,o=!0,("visible"===tn.getStyle(r,"overflow")||"visible"===tn.getStyle(r,"overflowX")&&"visible"===tn.getStyle(r,"overflowY"))&&(o=!1),o&&sn.getNodeArea(t.parentNode)>0))&&(n&&i&&"DIV"===t.parentNode.nodeName||(s=t.parentNode)),t=t.parentNode;return s}(a)).hasValidSizeForMobileApp=a.hasValidSizeForMobileApp),s},screenSize:function(){"use strict";if(en.isDomless())return{width:0,height:0};var e={width:-1,height:-1};try{ce.isDef(t.screen)&&(e={width:t.screen.width,height:t.screen.height})}catch(e){}return e},calcMonDims:function(){"use strict";var e=ce(sn.screenSize()).mixin({scrX:0,scrY:0});return ce.isDef(screen.availLeft)&&(e={scrX:t.screen.availLeft,scrY:t.screen.availTop,width:t.screen.availWidth,height:t.screen.availHeight}),e},getOurIFrameInTop:function(){"use strict";for(var e,t=Sn.getTop(),n=Sn.getWindow();n!=t;)n=(e=n).parent;return e},getOurNodeInTop:function(){"use strict";var t,n;return en.friendly&&(t=en.embedded?(n=sn.getOurIFrameInTop())&&n.frameElement:e.contextNode),t},getAncestorNodes:function(e){"use strict";var t=[],n=e.ownerDocument&&e.ownerDocument.documentElement,r=e;if(n)for(;(r.parentNode||r.host)!==n;)t.push(r),r=r.parentNode||r.host;return t},getTagsNamed:function(e,t){"use strict";var n,r=t||Sn.getDoc();try{n=r.getElementsByTagName(e)}catch(e){n=null}return n},containsScriptTagWithSrc:function(e){"use strict";return!!ce(sn.getTagsNamed("script")).findFirst((function(t,n){var r=n.src;return ce.isFunction(e)?e(r):r===e}))},contains:function(e,t){"use strict";var n=!1;try{n=ce.isDef(e)&&ce.isFunction(e.contains)&&e.contains(t)}catch(e){}return n},querySelector:function(e,t){"use strict";var n;try{n=e.querySelector(t)}catch(e){n=null}return n},nodeIsInWindow:function(e,t){"use strict";return e.ownerDocument&&(e.ownerDocument.defaultView||e.ownerDocument.parentWindow)===t},setAttributeOf:function(e,t,n){"use strict";e&&ce.isFunction(e.setAttribute)&&e.setAttribute(t,n)},removeAttributeOf:function(e,t){"use strict";e&&ce.isFunction(e.removeAttribute)&&e.removeAttribute(t)},crossQuerySelector:function(t,n){"use strict";var r,i,o=[e.contextNode.parentNode,Sn.getDoc()];if(en.friendly&&o.push(Sn.getTop().document),n&&en.embedded)try{o.push(Sn.getWindow().frameElement.ownerDocument)}catch(e){}return ce(o).each((function(e,n){try{i=sn.querySelector(n,t)}catch(e){}!r&&i&&(r=i)})),r},getNodeName:function(e){"use strict";return e&&e.nodeName},isWindow:function(e){"use strict";var t=!1;try{t=e&&"object"==typeof e&&"setInterval"in e}catch(e){t=!0}return!!t},getChildWindowsOf:function(e){"use strict";var t=[],n=sn.getTagsNamed("iframe",e);return n&&(t=ce(n).map((function(e,t){return t.contentWindow}))),t},getFrameId:function(){"use strict";var e=Sn.getWindow().frameElement;return e&&e.id},isViewportVisible:function(e,t){"use strict";var n=e.innerWidth,r=e.innerHeight,i=n*r>t.width*t.height,o=n>t.width&&r>t.height;return i&&o},getTagName:function(e){"use strict";return e.tagName.toLowerCase()},getAttribute:function(e,t){"use strict";return e.getAttribute(t)},attributeMatches:function(e,t,n){"use strict";var r=e&&sn.getAttribute(e,t);return n.test(r)},isImageTag:function(e){"use strict";return e&&e.src&&sn.tagNameIs(e,"img")},getDimensionFromStyle:function(e){"use strict";var t,n=tn.getStyle(e,"width"),r=tn.getStyle(e,"height");return n&&r&&(t={width:ce.getNum(n),height:ce.getNum(r)}),t},getDimensionFromAttributes:function(e){"use strict";var t,n=sn.getAttribute(e,"width"),r=sn.getAttribute(e,"height");return n&&r&&(t={width:ce.getNum(n),height:ce.getNum(r)}),t},traverseAndFindFirstMatchingNode:function e(t,n){"use strict";var r,i,o;if(n(t))i=t;else if(o=t.children)for(r=0;r<o.length&&!(i=e(o[r],n));r++);return i},getFirstChildElement:function(e){"use strict";return e&&e.children&&e.children[0]},isClippable:function(e,t){"use strict";var n=!0,r="fixed"===tn.getStyle(e,"position"),i=!("hidden"===tn.getStyle(t,"overflow"))&&!r;return en.isSpecifiedAd()&&(r||i)&&(n=!1),n},isNodeCreative:function(e){"use strict";var t=sn.getNodeName(e),n=e&&e.children&&0===e.children.length,r=e&&e.innerText&&e.innerText.length>0,i=n&&r,o=t&&-1!==le.RENDER.CREATIVE_NODE_TYPES.indexOf(t.toUpperCase());return!!t&&!!(o||sn.hasBackgroundImage(e)||i)},getElementsDocument:function(e){"use strict";return e.ownerDocument||e},getElementsWindow:function(e){"use strict";var t=sn.getElementsDocument(e);return t.defaultView||t.parentWindow||e},elementIsEmbedded:function(e){"use strict";return sn.getElementsWindow(e)!==Sn.getTop()},getParent:function(e){"use strict";return e.parentNode||e.parent},isNodeXDomainIframe:function(e){"use strict";var t=!1;if(e&&"IFRAME"===sn.getNodeName(e))try{t=!e.contentWindow.document}catch(e){t=!0}return t},isElement:function(e){"use strict";return 1===e.nodeType},getMatchesIncludingShadowRoot(e,t){const n=[];try{if(e.querySelectorAll){const r=e.querySelectorAll(t);r.length&&n.push(...r.values())}if(e.shadowRoot&&e.shadowRoot.querySelectorAll){const r=e.shadowRoot.querySelectorAll(t);r.length&&n.push(...r.values())}if(e.children)for(const r of e.children)if(r.shadowRoot&&r.shadowRoot.querySelectorAll){const e=r.shadowRoot.querySelectorAll(t);e.length&&n.push(...e.values())}}catch(e){}return n},collectCandidateElements:function(e,t){var n,r,i,o,s=[],a=t,c=en.isPageOnShadowDomWhitelist();for(n=0,r=a.length;n<r;n++){var d=a[n].toLowerCase(),u=e.getElementsByTagName&&e.getElementsByTagName(d)||[];if(c){const t=this.getMatchesIncludingShadowRoot(e,d);t&&t.values&&(u=[...new Set([...u,...t.values()])])}if(u&&u.length)for(i=0,o=u.length;i<o;i++)s.push(u[i])}return s}},an=function(){"use strict";var e={},t=function(t){ce.isDef(e[t])?e[t]++:e[t]=1};return ue.getAggregator().on(Ke.Error,(function(e){var n=ce(e).isObj()?e.errorCode:e;t(n)})),{list:e,add:t,toString:function(){var t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n);return t},hasErrors:function(){for(var t in e)return!0;return!1}}},cn=function(){"use strict";return{createInstance:function(e,t){return en.isDomless()?new un:new dn(e,t)}}},dn=function(t,n){"use strict";var r=function(t){var n=[];if(!(t&&t instanceof Array))throw new Error("Unexpected data type in ExchangeParser.getUrlList");var r=te.baseUrls,i=r.cmEventBaseUrl,o=r.fwEventBaseUrl;return(n=ce(t).map((function(e,t){return t.val}))).push(o,i,e.reqquery),n};return{parse:function(i){try{var o,s=r(i),a=s&&s.length&&s.join("|"),c=e.exchList;a&&(o=ce(c).map((function(e,t){return a.indexOf(bn.rot(t))>=0?e:void 0}))).length&&n.addItem({output:o.join(".")},"ex",{type:le.IMPRESSION_EVENT})}catch(e){t.add(le.ERROR_CODES.EXCHANGE_PARSING)}}}},un=function(){"use strict";return{parse:function(e){}}};const ln=function(){"use strict";const t={},n=function(n){let r,i,o,s;return ce.isUndef(t[n])&&(r=e.jsFeatures,t[n]=!1,-1!==r.indexOf(n)&&(i=new RegExp(n+"(?=$|,)|"+n+":(?!,|$)(.?\\d*(?=,|$))").exec(r),i&&(o=i[1],s=!o,t[n]=s||o>100*Sn.random()))),t[n]},r={es:"everySecond",sc:"usesca",ha:"usehaps",fgad:"forceKeepGoogleAdNode"},i={fif:"useFIF",gmnp:"groupm_native_publisher",for:"forceAppend",b11:ze.B11,cnod:ze.CNod},o=function(t){const n=e[t];return ce(["integration"]).contains(t)?!!n:!0===n||"true"===n||ce.isFunction(n)};ce(r).each((function(e,t){n(t)}));return{on:n,bootstrapOn:o,bootstrapperHas:function(t){const n=ce.isStr(t)?[t]:t;return ce(n).map((function(t,n){const r=n;if(r&&ce.isDef(e[r]))return 1})).length===n.length},getEnabledScriptUrl:function(t){const r=n("use"+t),i=e.sp_cdnScripts&&e.sp_cdnScripts[t];return r&&i},setReportedBootstrapFeatures:function(e,t){i[e]=t},reportedBootstrapFeatures:i,output:function(){return ce(function(){const e=ce(r).mapToObj((function(e,n){const r={};return r[e]=ce.fromBoolToNum(t[n]),r})),n=ce(i).mapToObj((function(e,t){const n={};return n[e]=ce.fromBoolToNum(o(t)),n}));return n.gm=ce.fromBoolToNum(en.usesGroupMCustomMetric()),ce(e).mixin(n)}()).toParams()}}};var mn=function(){le.BROWSERS;var e=function(e,t){var n=e.getRounded(),r=t.getRounded(),i=Math.max(n.scrX,r.scrX),o=Math.max(n.scrY,r.scrY),s=Math.min(n.scrX+n.width,r.scrX+r.width)-i,a=Math.min(n.scrY+n.height,r.scrY+r.height)-o;return on({scrX:i,scrY:o,width:s>0?s:0,height:a>0?a:0})};return{calcInitialViewState:function(e,t){var n,r=le.NA;return n=t?{IN_VIEW:65,OUT_OF_VIEW:25,PARTIAL_VIEW:30}:{IN_VIEW:75,OUT_OF_VIEW:25,PARTIAL_VIEW:50},ce.isDef(e)&&e!==le.NA&&e>-1&&(r=e>=n.IN_VIEW?le.IN_VIEW:e<=n.OUT_OF_VIEW?le.OUT_OF_VIEW:e>=n.PARTIAL_VIEW?le.PARTIAL_VIEW_PLUS:le.PARTIAL_VIEW_MINUS),r},calcPercentInView:function(t,n,r,i){var o=0,s=t;return t.hasValidDims()&&!t.isHidden()&&(ce([n,r,i]).each((function(t,n){n.hasValidDims()&&(s=e(s,n))})),o=Sn.round(s.area()/t.area()*100)),o}}},gn=function(){"use strict";var n,r,i,o=!1;r=function(){var e="";try{for(var n,r=t.Uint32Array&&t.crypto&&t.crypto.getRandomValues;e.length<32;)r?(n=new Uint32Array(1),t.crypto.getRandomValues(n),e+=n[0].toString(16)):e+=(16*Sn.random()|0).toString(16);e=e.slice(0,32)}catch(e){ue.getAggregator().trigger(Ke.Error,le.ERROR_CODES.UID_GENERATION)}return e}(),(i=[]).push(r.slice(0,8)),i.push(r.slice(8,12)),i.push(r.slice(12,16)),i.push(r.slice(16,20)),i.push(r.slice(20)),n=i.join("-");var s=function(){return te.adTag&&te.adTag.anId||""};return{getAsid:function(){return e.asid},getAnId:s,getCacheBustId:function(){var e=new Date,t=Date.parse("Jan 1 "+e.getFullYear()),n=e.getTime()-t;return ce.toBase(n,62)},getFwId:function(){const e=te.adTag&&te.adTag.advEntityId||"",t=te.adTag&&te.adTag.pubEntityId||"";return s()||e+"-"+t},impressionIsIdentifiable:function(e){return e&&(o=!0),o},unq:n}},pn=function(e,t){"use strict";return{init:function(n){e.jsonp(n,(function(e){t.send(le.DT_CODES.THIRD_PARTY,void 0,!1,!0,{field:"tpiLookup",value:e})}),!1,"callback")}}},fn=function(e,n,r,i,o){"use strict";return{getTime:function(){return 1e3*e.getTimeInViewInSeconds()},getTask:function(){return o?function(){var t=ue.getAggregator().request(Xe.AdRenderStatus),r=i||n,o=e.getTimeInViewInSeconds();t||ue.getAggregator().trigger(Ke.AddThrottledProp,le.DT_SLOT.ENVIRONMENT,"nr_"+r,o)}:function(){var o=e.getTimeInViewInSeconds(),s=e.getTimeInViewForRts();if(ce.isDef(i)&&(ue.getAggregator().trigger(Ke.AddOutputItem,{output:i},ze.MetricId,{type:n}),ue.getAggregator().trigger(Ke.AddOutputItem,{output:"t"},ze.CustomMetricInViewReason,{type:n})),en.isMSFT()&&o>0)try{t.postMessage({name:"pingTime",origin:"ias",value:o},"*")}catch(e){}ue.getAggregator().trigger(Ke.SendDt,n,o),r[s]&&r[s]()}}}},hn=function(){"use strict";return{createPingJobs:function(e,t,n,r,i){return ce(t.getTimeThresholds()).map((function(t,o){return new fn(o,e,n,r,i)}))}}},vn=function(){var e,t=[],n=function(e){var t="type",n="t",r="timestamp";return{type:e["tp"]||e[t]||"",time:e[n]||e[r]&&e[r]-te.measurementConfig.birthdate||""}},r=function(){e||(e=ue.getAggregator().request(Xe.ViewabilityDefinitions)),e&&0==t.length&&ce(e).each((function(e,n){n.qivThreshold&&t.push(n)}))},i=function(e,t){ue.getAggregator().trigger(Ke.AddOutputItem,{output:e.metricId},ze.MetricId,{type:le.DT_CODES.CUSTOM}),ue.getAggregator().trigger(Ke.AddOutputItem,{output:"q"},ze.CustomMetricInViewReason,{type:le.DT_CODES.CUSTOM}),ue.getAggregator().trigger(Ke.SendDt,le.DT_CODES.CUSTOM,t),e.rtsCallbacks&&ce.isFunction(e.rtsCallbacks[le.RTS_KEY_FOR_VQ])&&e.rtsCallbacks[le.RTS_KEY_FOR_VQ]()};return{init:function(){r(),ue.getAggregator().on(Ke.VideoQuartileEvent,(function(e){var o,s,a,c,d;r(),o=new n(e),a=(s=["_","firstQuartile","midpoint","thirdQuartile","complete"]).indexOf(ce(s).findFirst((function(e,t){return-1!==o.type.toLowerCase().indexOf(t.toLowerCase())}))),c=ue.getAggregator().request(Xe.ScreenEvents).getCurrentEvent(),d=Math.floor(o.time/1e3),ce(t).each((function(e,t){var n=t.qivThreshold.indexOf(a);-1!==n&&t.isInView(c)&&t.qivThreshold.length>0&&(t.qivThreshold.splice(n,1),0==t.qivThreshold.length&&i(t,d))}))}))}}},En=function(){"use strict";var n=function(){var t=e.asid;return"__IntegralAS_"+(t&&t.replace(/\-/g,"")||"")+"_"+Sn.round(1e4*Math.random())};return{wrap:function(e,r,i,o){var s,a,c,d=n();(function(e,t){return new RegExp(t).test(e)})(e=""+e,o=o||"ias_callback")&&(s=function(e,t){return new RegExp("("+t+"=)(.[^&]*)").exec(e)[0]}(e,o),a=s.split("=")[1],c=bn.stringToFn(a),e=function(e,t){return-1!==e.indexOf(t+"&")&&(t+="&"),e.replace(t,"")}(e,s));var u=te.measurementConfig.isStaticFrameInFrame?te.contextNode.element.contentWindow:t;return u[d]=function(e){r(e),i&&c&&c(e),u[d]=void 0},e=function(e,t,n){var r=e.indexOf("?"),i=t+"="+n;return-1===r?e+"?"+i:(r++,e.slice(0,r)+i+"&"+e.slice(r))}(e,o,d),e},wrapToGlobal:function(e){var r=n();return t[r]=function(n){e(n),t[r]=void 0},r}}},In=function(t,n,r){"use strict";var i=function(t,n){var r,i=t;return n&&(r=","+ce(n).stringify((function(e,t){return e+":"+t}),","),(i=It(t,!0)).appendToParamValue("adsafe_jsinfo",ce.encodeInvalidUrlChars(r,e.encodeInvalidUrlChars)),i=i.toString()),i},o={jss:{isFW:!0,nodeType:en.doesPageAllowAppendedScripts()?"script":"img"},rjss:{isFW:!0,onloadCallback:Vo,impressionMethod:function(e){if(te.measurementConfig.staticMode&&te.staticFeatures.useSingleEvent)ue.getAggregator().trigger(Ke.JSONP,e+"&format=jsonp",(()=>{}),!1,"cbName");else if(en.isAMZN()&&en.isBlocking()&&te.measurementConfig.staticMode)ue.getAggregator().trigger(Ke.AddOutputItem,{output:!0},"ablk"),ue.getAggregator().trigger(Ke.JSONP,e+"&format=jsonp",(e=>{const{nodeType:t,creativeUrl:n}=e,r=te.measurementConfig.tagDeliveryType===J.Iframe?"iframe":"unknown"===t?"script":t;ue.getAggregator().trigger(Ke.AddNode,r,n)}),!1,"cbName");else{let t="script";const n=te.measurementConfig.impressionNodeType,r=te.measurementConfig.tagDeliveryType===J.Iframe,i=!en.doesPageAllowAppendedScripts()||"string"==typeof n&&"img"===n;r?t="iframe":i&&(t="img"),ue.getAggregator().trigger(Ke.AddNode,t,e,Vo)}}},amtjs:{isFW:!0,manualDefer:en.isVideo(),impressionMethod:function(t){en.isVideo()?ue.getAggregator().on(Ke.AdImpression,(function(n,r){var o;try{o=i(t,r),ue.getAggregator().trigger(Ke.Send,o,ce.noop,!0),logImpressionCall(o)}catch(t){__IntegralASDiagnosticCall("amtjsvidimp",t,e)}})):(ue.getAggregator().trigger(Ke.AddNode,"img",t),logImpressionCall(t))}},jsi:{isFW:!0,nodeType:"iframe"},rjsi:{isFW:!0,nodeType:"iframe"},jload:{impressionMethod:function(e){t.enabled?ue.getAggregator().trigger(Ke.JSONP,e,t.callback,!0):ue.getAggregator().trigger(Ke.Send,e,(function(){Vo(),ue.getAggregator().trigger(Ke.SendDiag)}),!n.on("postMon"))}},bapi:{impressionMethod:function(e){var n=t.enabled?t.callback:ce.noop,r=!!t.enabled;ue.getAggregator().trigger(Ke.JSONP,e,n,r)}},jsapi:{isFW:!0,impressionMethod:function(e){var n=t.enabled?t.callback:ce.noop,r=!!t.enabled;ue.getAggregator().trigger(Ke.JSONP,e,n,r)}},jsvid:{manualDefer:!0,impressionMethod:function(r){ue.getAggregator().on(Ke.AdImpression,(function(o,s){var a;try{a=i(r,s),t.enabled?ue.getAggregator().trigger(Ke.JSONP,a,t.callback,!0):ue.getAggregator().trigger(Ke.Send,a,ce.noop,!n.on("postMon"))}catch(t){__IntegralASDiagnosticCall("jsvidimp",t,e)}}))}},fwjsvid:{isFW:!0,manualDefer:!0,impressionMethod:function(t){var n="false"===e.fwMonitoring;n&&ue.getAggregator().trigger(Ke.JSONP,function(e){var t=e.split("/");return en.isAMZN()?(t[6]="fw",t[7]="db2",t[8]="video"):(t[3]="db2",t[4]="video"),t.join("/")}(t),(function(e){ue.getAggregator().trigger(Ke.VideoBlockResult,e)})),ue.getAggregator().on(Ke.AdImpression,(function(r,o){var s,a;try{n&&((a=r)&&ce.isBool(a.integral_didBlock)&&a.integral_timeToDecision>=0)&&(t=function(e){var n="$1$2,abc:"+(e.integral_didBlock?1:0)+",abct:"+e.integral_timeToDecision;return t.replace(/(adsafe_jsinfo=)([^&]*)/,n)}(r)),s=i(t,o),ue.getAggregator().trigger(Ke.Send,s,ce.noop,!0)}catch(t){__IntegralASDiagnosticCall("fwjsvidimp",t,e)}}))}},jspix:{nodeType:"img"}};return new function(){var t=o[te.adTag.tagType],n=!!t.isFW,i=function(t){var n,r=te.baseUrls;return n=ue.getAggregator().request(Xe.MobileApp).isMobileAppEnvironment()&&r.mobileAppEventBaseUrl?r.mobileAppEventBaseUrl:t?r.fwEventBaseUrl:r.cmEventBaseUrl,t||(n+="?"+e.reqquery),n}(n),s=i.indexOf("BEGIN__ADSAFE"),a=-1!==s,c=a?i.slice(s):"";return{isFW:n,baseUrl:a?i.slice(0,s):function(e){var t=-1===e.indexOf("?")?"?":"&";return e+t}(i),macroUrl:c,sendImpression:function(e){var n=function(){ue.getAggregator().trigger(Ke.AddOutputItem,{output:en.getTagTime()},ze.StaticImpressionRFWCallRequestTime),t.nodeType?ue.getAggregator().trigger(Ke.AddNode,t.nodeType,e,t.onloadCallback):t.impressionMethod(e)};r||t.manualDefer?n():t.manualDefer||ue.getAggregator().on(Ke.AdImpression,(function(){n()}))}}}},Sn={execAtEndOfThread:function(e){"use strict";Sn.setTimeout(e,0)},now:function(){"use strict";return(new Date).getTime()},random:function(){"use strict";return Math.random()},round:function(e){"use strict";return Math.round(e)},ceil:function(e){"use strict";return Math.ceil(e)},floor:function(e){"use strict";return Math.floor(e)},min:function(){"use strict";return Math.min.apply(null,arguments)},max:function(){"use strict";return Math.max.apply(null,arguments)},getWindow:function(){"use strict";return t},getTimeoutScope:function(){"use strict";return en.isDomless()&&en.isOmid()?ue.getAggregator().request(Xe.OmidVerificationClient):t},setInterval:function(e,t){"use strict";return Sn.getTimeoutScope().setInterval(e,t)},setTimeout:function(e,t){"use strict";return Sn.getTimeoutScope().setTimeout(e,t)},clearInterval:function(e){"use strict";Sn.getTimeoutScope().clearInterval(e)},clearTimeout:function(e){"use strict";Sn.getTimeoutScope().clearTimeout(e)},getMaxNumber:function(){"use strict";return Number.MAX_VALUE},getTop:function(){"use strict";return en.isDomless(),top},getDoc:function(){"use strict";return en.isDomless(),n},getIntersectionObserver:function(e,t){"use strict";return en.isDomless(),new IntersectionObserver(e,t)},getMutationObserver:function(e){"use strict";return en.isDomless(),new MutationObserver(e)},getResizeObserver:function(e){"use strict";return en.isDomless(),new ResizeObserver(e)},pow:function(e,t){"use strict";return Math.pow(e,t)},getTopmostAccessibleWindow:function(){"use strict";let e=Sn.getWindow();const t=Sn.getTop();let n=0;for(;n<20&&(!t||e!==t);){try{const n=e.parent;if(!n||n===e)break;if(n.document,e=n,t&&e===t)break}catch(e){break}n+=1}return e}},An=function(){"use strict";return{createInstance:function(){return en.isDomless()?new Tn:new yn}}},yn=function(){"use strict";var e,t,n,r,i=!1,o=!1,s=(ue.getAggregator().request(Xe.Features),new st),a=function(){return ce.isDef(e.prop)?Sn.getDoc()[e.prop]:null};return t="hidden",n="visibilitychange",r=Sn.getDoc(),ce.isUndef(r.hidden)?ce(["moz","ms","webkit"]).each((function(e,o){var s=o+"Hidden";ce.isDef(r[s])&&(t=s,n=o+n,i=!0)})):i=!0,e=i?{prop:t,event:n}:{},{isHidden:a,onHiddenChange:function(t){var n,r;s.push(t),o||(o=!0,n=Sn.getWindow(),r=function(){s.run(a())},tn.addEvent(n,"focus",r,!0),tn.addEvent(n,"blur",r,!0),e.event&&tn.addEvent(Sn.getDoc(),e.event,r,!0))},supportsVisAPI:function(){return i}}},Tn=function(){"use strict";return{isHidden:function(){return!1},onHiddenChange:function(e){},supportsVisAPI:function(){return!0}}},On=function(){"use strict";return{createInstance:function(e,t){return en.isDomless()?new _n:new Dn(e,t)}}},Dn=function(n,r){"use strict";var i,o=function(e){var t=[["ab","about%3A"],["da","data%3A"],["js","javascript%3A"],["fi","file%3A"],["uu","uuid-in-package"],["cx","chrome-extension%3A"],["lo","http%3A%2F%2Flocalhost"],["lo","https%3A%2F%2Flocalhost"]];if("string"==typeof e&&"null"!==e&&""!==e&&"undefined"!==e){for(var n=0;n<t.length;n++)if(e.startsWith(t[n][1]))return"";if(-1===e.indexOf("."))return ue.getAggregator().trigger(Ke.AddOutputItem,{output:e.substring(0,40)},ze.BadURLNoPeriod,{type:le.IMPRESSION_EVENT}),""}return e},s=function(){var s={};try{s.a=encodeURIComponent(top.location.href)}catch(e){}try{s.b=encodeURIComponent(parent.location.href)}catch(e){}if(en.embedded){try{s.c=encodeURIComponent(parent.document.referrer)}catch(e){}try{s.e=encodeURIComponent(t.document.referrer)}catch(e){}}try{"jsi"!==te.adTag.tagType&&(s.d=encodeURIComponent(t.location.href))}catch(e){}try{s.f=encodeURIComponent(e.jsref)}catch(e){}try{var a=r.getWindow();s.q=encodeURIComponent(a.parent.parent.parent.parent.parent.parent.parent.parent.parent.parent.location.href||"")}catch(e){}try{n.isStarted()&&n.getMyFrameDepth()>1&&(s.g=encodeURIComponent(n.getTopDomain())),n.isStarted()&&en.xDomainIframe&&1===n.getMyFrameDepth()&&(s.y=encodeURIComponent(n.getTopDomain()))}catch(e){}var c="not-set";try{if(en.isSafeFrame()){var d=r.getWindow(),u=d&&d.$sf&&d.$sf.ext&&d.$sf.ext.hostURL,l="function"==typeof u&&u();if("string"==typeof l){c=encodeURIComponent(l);var m=!1;"function"==typeof URL?(new URL(l),m=!0):l.startsWith("http")&&(m=!0),m?(s.x=c,ue.getAggregator().trigger(Ke.AddOutputItem,{output:c},ze.SafeFrameHostURL,{type:le.IMPRESSION_EVENT})):ue.getAggregator().trigger(Ke.AddOutputItem,{output:c},ze.SafeFrameInvalidHostURL,{type:le.IMPRESSION_EVENT})}}}catch(e){ue.getAggregator().trigger(Ke.AddOutputItem,{output:c},ze.SafeFrameInvalidHostURL,{type:le.IMPRESSION_EVENT})}s=function(e){for(var t in e)if(e.hasOwnProperty(t)){var n=o(e[t]);(""===n||"null"===n||"undefined"===n||null===n||ce.isUndef(n))&&delete e[t]}return e}(s),s=function(e){var t,n,r={};for(n in e)e.hasOwnProperty(n)&&(t=e[n],ce.isUndef(r[t])?r[t]=n:r[t]+=n);var i={};for(n in r)r.hasOwnProperty(n)&&(i[t=r[n]]=n);return i}(s);var g=[];for(var p in s)s.hasOwnProperty(p)&&g.push({key:p,val:s[p]});return g.sort((function(e,t){return e.val.length>t.val.length?1:e.val.length<t.val.length?-1:0})),i=g,g};return{detectTopURL:s,getDetectedURLs:function(){return i||s()}}},_n=function(){"use strict";return{detectTopURL:function(){return[]},getDetectedURLs:function(){return[]}}},Cn=function(t){"use strict";var n=!1;return{measure:function(r){(n=0===r.rsa)&&t.trigger("notify",e._onSuspicious)},skipAsFraudulent:function(){return n}}},wn=function(){"use strict";var e,t,n,r=[],i={},o={sl:"n"},s=0,a={i:0,o:0,n:0,pp:0,pm:0},c=function(e){var t=ue.getAggregator().request(Xe.Features);if(t&&t.on("recoverOmidLostTime")){var n=a.ri;a.ri=n?n+e:e}},d=function(e,t){var n=new ft(t);return i[e]=n,n},u=function(e,t){return(t=t||"")+{inView:"i",outOfView:"o",na:"n",partialViewMinus:"pm",partialViewPlus:"pp"}[e]},l=function(){ce(o).each((function(e,t){var i=r.length?n-s:n;a[t]+=i})),s=n},m=function(e){r.length&&l(),ce(e).each((function(e,t){var n,r;n=t,(r=o[e])!==n&&"n"===r&&(a[n]+=a.n),o[e]=t})),r.length||l()},g=function(e){le.NA;var r,o=e.adDimensions?e.adDimensions.getRounded():{width:0,height:0},s=function(e){var t,n={},r=e.winDimensions,i=e.adDimensions;return ce.isDef(r)&&r.hasValidDims()&&(n.wc=r),ce.isDef(i)&&i.hasValidDims()&&(n.ac=i,n.am=e.method,n.cc=e.containerDimensions),ce({piv:"percentInView",obst:"obstructed",th:"tabHidden",reas:"reason"}).each((function(t,r){var i=e[r];ce.isDef(i)&&(n[t]=i)})),""===(t=ce(n).toParams())?"":","+t}(e),a=e.omidObstructions,c={sl:u(e.viewState)};return n=en.getTagTime(),m(c),c.t=n,r=ce({toString:function(){return ce(i).each((function(e,t){t.fastForward()})),"{"+ce(c).toParams()+this.details+this.breakdowns+"}"},details:s,breakdowns:{piv:[],as:[],toString:function(){var e="",t=function(e,t){return t.duration+"~"+t.state};return e+="piv:["+ce(this.piv).stringify(t)+"]",",bkn:{"+(e+=",as:["+ce(this.as).stringify(t)+"]")+"}"}}}).mixin(c),ce(r).mixin(e),r.width=o.width,r.height=o.height,ce.isUndef(r.percentInView)&&(r.percentInView=le.PIV_NA),ce.isUndef(r.reason)&&(r.reason=""),ce.isDef(a)&&""!==a&&(r.omidObstructions=a),t=r,r};return function(){d("piv",(function(e){var t,n=e.percentInView,r=[1,25,30,50,75];return 100===n||0===n?t=n:(ce(r).each((function(e,i){ce.isUndef(t)&&n<i&&(t=r[e-1])})),ce.isUndef(t)&&(t=r[r.length-1])),t})),d("as",(function(e){var t=le.NA,n=e.adDimensions?e.adDimensions.getRounded():{width:t,height:t};return n.width+"."+n.height}));var e=ue.getAggregator().request(Xe.OmidAdSessionContext);e&&e.recoveredTime>-1&&c(e.recoveredTime)}(),{fastForward:function(){n=en.getTagTime(),l()},registerLocation:function(t){var n,s=!1;return o.sl==u(t.viewState)&&r.length?(n=new g(t),r[r.length-1].details=n.details):(n=new g(t),r.push(n),e=t.viewState,s=!0),ue.getAggregator().trigger(Ke.NewScreenEvent,n),ce(i).each((function(e,t){-1!=="piv|as".indexOf(e)?(s&&t.clear(),t.addState(n),r[r.length-1].breakdowns[e]=t.get()):t.addState(n)})),n},stringify:function(e){var t="";return r.length&&(t=ce({slTimes:"{"+ce(a).toParams()+"}",slEvents:"["+r.slice(-e).join(",")+"]",slEventCount:r.length}).toParams()),t},createViewabilityTracker:d,getCurrentLoc:function(){return u(e)},getCurrentEvent:function(){return t},setRecoveredTimeInSlTimes:c,getLatestEvent:function(){var e;return r&&r.length>0&&(e=r[r.length-1]),e}}},bn={hashCode:function(e){"use strict";var t,n,r=0;if(0===e.length)return r;for(t=0,n=e.length;t<n;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return r},rot:function(e){"use strict";return e.replace(/[a-zA-Z]/g,(function(e){return String.fromCharCode((e<="Z"?90:122)>=(e=e.charCodeAt(0)+13)?e:e-26)}))},stringToFn:function(e){"use strict";var n,r,i=t,o=e.split(".");for(n=0;n<o.length;n++)if(r=i,i=i[o[n]],ce.isUndef(i)||n===o.length-1&&!ce.isFunction(i))return!1;return function(){i.apply(r,arguments)}},stringToProp:function(e){"use strict";var t,n=Sn.getWindow(),r=e.split(".");for(t=0;t<r.length&&(n,n=n[r[t]],!ce.isUndef(n));t++);return n},contains:function(e,t){"use strict";return!!ce.isStr(e)&&-1!==e.indexOf(t)},trim:function(e){"use strict";return ce.isFunction(e.trim)?e.trim():e.replace(" ","")}};const $n=function(){"use strict";const e=function(){const e=function(e){return e&&e.width&&e.width>30&&e.height&&e.height>30},t=function(t){const n=sn.getDimensionFromAttributes(t);return e(n)};return{hasValidDimensions:function(n){return t(n)||function(t){const n=sn.getDimensionFromStyle(t);return e(n)}(n)},hasValidDimentionAttributes:t}}(),t=/GoogleActiveViewElement/,n=/DfaVisibilityIdentifier_/,r=/doubleclick.net\/pcs\/click?/,i=/_blank/,o=function(e){const t=e&&sn.tagNameIs(e,"a"),n=sn.attributeMatches(e,"href",r),o=sn.attributeMatches(e,"target",i);return t&&n&&o},s=function(e){const r=sn.tagNameIs(e,"div"),i=sn.attributeMatches(e,"class",t),o=sn.attributeMatches(e,"id",n);return r&&i&&o};return{getDFPGoogleDiv:function(e){return sn.traverseAndFindFirstMatchingNode(e,s)},getClickableImage:function(t){let n,r;const i=sn.traverseAndFindFirstMatchingNode(t,o);return i&&(r=sn.getFirstChildElement(i),sn.isImageTag(r)&&e.hasValidDimentionAttributes(r)&&(n=r)),n},getNodeMatchingMinimumSize:function(t){return sn.traverseAndFindFirstMatchingNode(t,e.hasValidDimensions)}}},Nn=function(){"use strict";const e=$n(),t=function(e,t){t.tag=sn.getTagName(e),t.size=sn.getDimensionFromAttributes(e)||sn.getDimensionFromStyle(e)};return{getDFPValue:function(n){let r;const i=e.getDFPGoogleDiv(n);return r=i?function(n){let r,i;const o={type:0};return n&&(o.type=1,r=e.getClickableImage(n),r?(o.type=2,t(r,o)):(i=e.getNodeMatchingMinimumSize(n),i&&(o.type=3,t(i,o)))),o}(i):function(n){const r={type:0},i=e.getNodeMatchingMinimumSize(n);return i&&(r.type=4,t(i,r)),r}(n),r}}},Rn={name:"hB",dependencies:[],creator:function(){try{const e=_t().getUserAgent(),t=e.length>0&&-1!==e.indexOf("HeadlessChrome"),n=Sn.getWindow(),r=Sn.getTop(),i=!(!r||!r.document)&&Object.getOwnPropertyNames(r),o=()=>{var e,t;const r=null==n?void 0:n.navigator,i=null===(e=null==r?void 0:r.userAgentData)||void 0===e?void 0:e.brands;return(null===(t=null==i?void 0:i.map((e=>null==e?void 0:e.brand)))||void 0===t?void 0:t.includes("HeadlessChrome"))||!1},s={cdcP:ce.stringifyTriState(i&&-1!==i.indexOf("cdc_adoQpoasnfa76pfcZLmcfl_Promise")),cdcA:ce.stringifyTriState(i&&-1!==i.indexOf("cdc_adoQpoasnfa76pfcZLmcfl_Array")),cdcS:ce.stringifyTriState(i&&-1!==i.indexOf("cdc_adoQpoasnfa76pfcZLmcfl_Symbol")),cyp:ce.stringifyTriState(i&&-1!==i.indexOf("Cypress")),wd:ce.stringifyTriState(ce.isDef(n.navigator.webdriver)&&!0===n.navigator.webdriver),uaHC:ce.stringifyTriState(t),chHC:ce.stringifyTriState(o())},a=1,c=e=>ce(e).contains(a),d=function(e){ue.getAggregator().trigger(Ke.AddThrottledProp,"sca","hbs",ce(e).toION())};c(s)&&d(s)}catch(e){}},settings:{tier:4,applies:function(){"use strict";return!0}}},Mn={name:"viewport",dependencies:[],creator:function(){"use strict";const e={width:4,height:4},t=function(t){return!sn.isViewportVisible(t,e)},n=function(e,r){return e!==r&&t(e)?e:e!==r&&en.isFriendlyToParent(e)?n(e.parent,r):void 0},r=function(){const e=Sn.getWindow();return n(e,Sn.getWindow().top)},i=function(){return void 0!==r()};return{MIN_VISIBLE_DIM:e,isHidden:i,isCurrentIframeTheHiddenFrame:function(){let e;const n=Sn.getWindow();return t(n)?e=!0:i()&&(e=!1),e},getWindowWithHiddenViewport:r}}},Pn=function(e){"use strict";let t,n;const r=function(r){t=e.setInterval(r,100),n=e.setTimeout((function(){i()}),42e4)},i=function(){t&&(e.clearInterval(t),t=null),n&&(e.clearTimeout(n),n=null)};return{onResize:function(t){let n=e.innerWidth,o=e.innerHeight,s=!1;r((function(){const r=function(){const t=e.innerWidth,r=e.innerHeight;return t!==n||r!==o}();r&&(s=!0),s&&!r&&(t(),i(),s=!1),n=e.innerWidth,o=e.innerHeight}))}}},xn={name:"AS_Finder",dependencies:["viewport"],creator:function(e,t){"use strict";let n;const r=function(){try{!function(r){let i;const o={};r!==n&&(i=ce.stringifyTriState(r),o.res1=i,o.ps=i,o.ts=Sn.now(),o.psfr=ce.stringifyTriState(e.isCurrentIframeTheHiddenFrame()),t.events.trigger("newState",o)),n=r}(e.isHidden())}catch(e){ue.getAggregator().trigger(Ke.Error,le.ERROR_CODES.HIDDEN2)}};return{start:function(){e.isHidden()&&(r(),function(){const t=e.getWindowWithHiddenViewport();t&&Pn(t).onResize(r)}())}}},settings:{emits:!0,applies:function(e,t,n){"use strict";return n.embedded&&!n.isBustedIframe()&&!n.isSpecifiedAd()}}},Vn={name:"hA",dependencies:["AS_Finder"],creator:function(t){"use strict";let n=0;const r=function(e,t){ue.getAggregator().trigger(Ke.AddThrottledProp,le.DT_SLOT.FF,e,ce(t).toION())},i=function(e){n<2&&r("ha1",e),n++};!function(){let n,o;if(en.embedded)try{o=e.contextNode.parentNode,n=Nn().getDFPValue(o),r("dfp",function(e){const t={};return t.df=e.type,e.size&&(t.sz=e.size.width+"."+e.size.height),e.tag&&(t.dom=e.tag),t}(n)),n.size&&t&&(t.events.on("newState",i),t.start())}catch(e){ue.getAggregator().trigger(Ke.Error,le.ERROR_CODES.HIDDEN)}}()},settings:{tier:le.TIERS.PRE_IMPRESSION_FRAUD,applies:function(e){"use strict";return e.on("usehaps")}}},Fn={name:"thresholdDetector",dependencies:[],creator:function(){"use strict";return{create:(e,t,n)=>{let r;let i=t();const o=()=>{const o=t();o!==i&&!0&&(n(e,o),Sn.clearInterval(r)),i=o};i&&(n(e,i),r=Sn.setInterval(o,50))}}}},Ln={name:"invisibleAds",dependencies:["thresholdDetector"],creator:function(t){"use strict";const n={width:4,height:4},r=()=>{const e=tn.getStyle(Sn.getWindow().frameElement,"opacity");return parseFloat(e)<.2},i=()=>"hidden"===tn.getStyle(Sn.getWindow().frameElement,"visibility"),o=(e,t)=>{const n={res1:ce.stringifyTriState(t)};ue.getAggregator().trigger(Ke.AddThrottledProp,"sca",e,ce(n).toION())};try{const s=e.contextNode.parentNode,a=Nn().getDFPValue(s);sn.isViewportVisible(Sn.getWindow(),n)&&2===a.type&&(r()&&t.create("ha2",r,o),i()&&t.create("ha3",i,o))}catch(e){}},settings:{tier:4,applies:function(e,t,n){"use strict";return n.embedded&&!n.isBustedIframe()&&!n.isSpecifiedAd()}}};var Un={name:"BS_Browser",dependencies:[],creator:function(){"use strict";var e=Sn.getWindow().document,n=e.body?Math.round(sn.getNodeArea(e.body)):null;!ue.getAggregator().request(Xe.MobileApp).isMobileAppEnvironment()&&n&&function(e,n,r,i){var o,s,a=0,c=0,d=e&&e.body,u=!1,l=function(){if((o=Math.round(sn.getNodeArea(e.body)))>=i){for(var t,n,s=o+20*o/100,d=e.querySelectorAll("iframe"),u=ce.fromNodeListToArray(d);u.length&&(c<s||a<r);)t=u.shift(),(n=Math.round(sn.getNodeArea(t)))>=i&&(a++,c+=n);c>=s&&a>=r&&m()}},m=function(){var e={va:o,bia:c,bin:a};ue.getAggregator().trigger(Ke.AddThrottledProp,le.DT_SLOT.FF,n,ce(e).toION()),u=!0};d&&(Sn.execAtEndOfThread(l),!u&&ce.isDef(t.MutationObserver)&&(s=new MutationObserver((function(e){u?s.disconnect():Sn.execAtEndOfThread((function(){ce(e).each((function(e,t){if(t.addedNodes.length){var n=t.addedNodes[0];n&&sn.isElement(n)&&sn.tagNameIs(n,"IFRAME")&&ce.debounce(l,10)}}))}))}))).observe(e.body,{attributes:!1,childList:!0,characterData:!1}))}(e,"bs2",10,n)},settings:{tier:le.TIERS.VIEWABILITY,applies:function(e,t,n){"use strict";var r=!e.bootstrapOn("app")&&!n.isDomless();return e.on("bbs")&&n.embedded&&r}}};const kn=()=>{try{new Wn}catch(e){}},jn=({context:e,topMostDims:t})=>{setTimeout((()=>{ue.getAggregator().trigger(Ke.AddThrottledProp,le.DT_SLOT.ENVIRONMENT,"bs_monitor_inapp",ce({images:JSON.stringify(Bn({context:e,max_output_length:Gn.MaxCharacterOutput})),topMostDims:t}).toION())}),1e3)};class Wn{constructor(){this.omidFullyLoaded=!1,this.omidInfo={adSessionType:"",environment:"",creativeType:"",mediaType:""},this.onOmidPartiallyLoaded=e=>{this.omidInfo=(({omidInfo:e,event:t})=>{const n=t.data||{},r=n.context||{};return Object.assign(Object.assign({},e),{adSessionType:r.adSessionType||"",environment:r.environment||"",creativeType:n.creativeType||"",mediaType:n.mediaType||""})})({omidInfo:this.omidInfo,event:e})},this.onOmidFullyLoadedOnce=()=>{try{(({omidFullyLoaded:e,omidInfo:t})=>!e&&"app"===t.environment)({omidFullyLoaded:this.omidFullyLoaded,omidInfo:this.omidInfo})&&(this.omidFullyLoaded=!0,(e=>{var t;const n=null===(t=Sn.getTop())||void 0===t?void 0:t.window;if(n){const t=Jn({node:n.document.body});Qn({callback:e,win:n,topMostDims:t,maxIframeDepth:1,currIframeDepth:0})}})(jn))}catch(e){}};try{if((()=>{var e,t,n;const r=ue.getAggregator().request(Xe.MobileApp);return!!(!en.isDomless()&&en.friendly&&(null===(n=null===(t=null===(e=Sn.getTop())||void 0===e?void 0:e.window)||void 0===t?void 0:t.document)||void 0===n?void 0:n.body)&&r.isMobileAppEnvironment()&&en.isOmid())})()){const e=(()=>{try{const e=Sn.getWindow(),t=ue.getAggregator().request(Xe.OmidVerificationClient),n=e&&e.omid3p;return n&&ce.isFunction(n.registerSessionObserver)&&ce.isFunction(n.addEventListener)?n:t}catch(e){return null}})();if(!e)return;e.registerSessionObserver(this.onOmidPartiallyLoaded.bind(this),"IAS"),e.addEventListener("loaded",this.onOmidFullyLoadedOnce.bind(this))}}catch(e){}}}var Gn;!function(e){e[e.MaxTruncatedSrcLength=15]="MaxTruncatedSrcLength",e[e.MaxCharacterOutput=300]="MaxCharacterOutput"}(Gn||(Gn={}));const Bn=({context:e,max_output_length:t})=>{var n;let r={info:e.info,imgs:e.images};return r.origImgsLen=null===(n=e.images)||void 0===n?void 0:n.length,r=Yn({context:r,max_output_length:t}),r=Hn({context:r,max_output_length:t}),r},Hn=({context:e,max_output_length:t})=>{for(let n=e.imgs.length;n>0&&ce(e).toION().length>t;n--)e.imgs.pop();return e},Yn=({context:e,max_output_length:t})=>{for(let n=e.imgs.length-1;n>=1;n--){const r=e.imgs[n];if(!(ce(e).toION().length>t&&(null==r?void 0:r.src)))break;r.src=qn({string:r.src,maxCharacterCount:Gn.MaxTruncatedSrcLength})}return e},qn=({string:e,maxCharacterCount:t})=>e.length>t?e.slice(-t):e,Kn={info:{w:-1,h:-1,left:-1,top:-1},isSuspicious:!1,impressionShouldBeDisqualified:!1},Jn=({node:e})=>{const t=e.getBoundingClientRect(),n={left:Math.round(t.left),top:Math.round(t.top),w:Math.round(t.width),h:Math.round(t.height)};if(e.hasAttribute("src")){const t=e.getAttribute("src");t&&(n.src=(({src:e})=>{const t=e.indexOf("?");return-1===t?e:e.slice(0,t)})({src:t}))}return n},Xn=({image:e})=>{if(!e||!e.src)return!1;const t=e.src.toLowerCase();return e.src.startsWith("/")||e.src.startsWith("./")||["assets/","logo","icon"].some((e=>t.includes(e)))},zn=({win:e,topMostDims:t})=>{const n=(({win:e,topMostDims:t})=>{let n;try{const r=e.document,i=r.body,o=[...r.querySelectorAll("img")];n={info:Jn({node:i}),images:o.map((e=>Jn({node:e}))).filter((e=>(({imageNode:e,topMostDims:t})=>e.h>=t.h&&e.w>=t.w)({imageNode:e,topMostDims:t}))),isSuspicious:!1,impressionShouldBeDisqualified:!1}}catch(e){n=Kn}return n})({win:e,topMostDims:t}),r=(({context:e})=>!!e.images&&e.images.some((e=>Xn({image:e}))))({context:n});return r?(n.impressionShouldBeDisqualified=!0,n.isSuspicious=!1):(n.impressionShouldBeDisqualified=!1,n.isSuspicious=(({context:e})=>!!(e.images&&e.images.length>=10))({context:n})),n},Qn=({callback:e,win:t,topMostDims:n,maxIframeDepth:r,currIframeDepth:i})=>{const o=zn({win:t,topMostDims:n});if((({context:e})=>e.isSuspicious&&!e.impressionShouldBeDisqualified)({context:o}))return e({context:o,topMostDims:n}),o;if((({currIframeDepth:e,maxIframeDepth:t,context:n})=>e>=t||n.impressionShouldBeDisqualified)({currIframeDepth:i,maxIframeDepth:r,context:o}))return o;try{const s=Array.from(t.document.getElementsByTagName("iframe"));for(const t of s.slice(0,3)){const s=null==t?void 0:t.contentWindow;if(!s||!s.document||!s.document.body)continue;const a=Qn({callback:e,win:s,topMostDims:n,maxIframeDepth:r,currIframeDepth:i+1});o.iframes=o.iframes||[],o.iframes.push(a)}}catch(e){}return o};var Zn=function(){"use strict";return{createInstance:function(e){return en.isDomless()?new tr:new er(e)}}},er=function(e){"use strict";var n,r,i,o=new rt,s=new ot,a=new or(o),c=new rr,d=new lr,u=new dr(o,e),l=function(){return ce.isUndef(i)&&(i=new ar(o)),i};return{isApplicable:function(e){return ce.isDef(t.JSON)&&ce.isDef(t.postMessage)&&(!e.isOmidNative()||e.isOmidForWeb())},start:function(){o.provide({frameCollection:function(){return a},adProxy:function(){return d},adTalkMessage:function(e){return new nr(e,o)},adTalkMessageCollection:function(){return c},idMapModule:l,interFrameQuerySelector:function(e){return new cr(e)}}),s.traverse(a.addFrame),u.startListening(),u.sendToKnownFrames(),ue.getAggregator().once(Ke.StopAdTalk,(function(){u.stopListening()})),ue.getAggregator().provide(Xe.AdTalkEventAggregator,o)},sendAdTalkCall:u.sendAdTalkCall,getFrameMap:function(){return ce.isUndef(n)&&(n=new sr(o)),n},getFrameMapIncludingPeerCase:function(){return ce.isUndef(r)&&(r=new sr(o,!0)),r},getIdMap:l}};const tr=function(){"use strict";return{isApplicable:()=>!1,start:()=>{}}};var nr=function(t,n){"use strict";var r,i=n.request(Xe.AdProxy).myIdCard,o=n.request(Xe.FrameCollection).getMe().getStringifiedPosition();r=ue.getAggregator().request(Xe.Features).on("swapids")?e.oid:e.asid;var s,a;return{messageContent:t||{},srcAsid:e.asid,srcTagId:i.tagId,srcIsEmbedded:en.embedded,srcIsFriendly:en.friendly,srcBirthdate:te.measurementConfig.birthdate,iasCommonId:r.split("-")[2],nodeSelector:en.friendly?"["+le.AD_IDENTIFIER+"-"+e.asid+"]":'iframe[src*="'+((a=(s=Sn.getWindow()).location&&s.location.href)&&a.replace(/^https?\:\/\//i,""))+'"]',positionStr:o,version:"0.1"}},rr=function(){"use strict";var e={};return{add:function(t){var n=t&&t.srcAsid;n&&(e[n]=t)},map:function(t){return ce(e).map(t)},has:function(t){var n=t&&t.srcAsid;return e[n]}}},ir=function(e,n,r,i){"use strict";var o,s=e==t;(o={position:n.slice(0),id:n.join("-"),isMe:s,isLeaf:!e.frames.length,adProxies:s?r:[],selfDescription:void 0,unifiedId:te.measurementConfig.birthdate,srcIsEmbedded:i?i.srcIsEmbedded:void 0,inbox:i?[i]:[]}).getDomObj=function(){return e},o.getStringifiedPosition=function(){return ce(o.position).map((function(e,t){return ce.toBase(Number(t)+1,36)})).join("")},o.isValidForMapping=function(){return o.isLeaf||o.isMe||ce.isDef(o.selfDescription)};var a=function(e,t){return!ce(e).find((function(e,n){return n.adSafeId&&n.adSafeId===t.adSafeId}))};return o.addInformationFromSrc=function(e,t){var n,r,i,s;n=t,r=o.adProxies,i=n.adProxies,s=[],r.length&&i.length?ce(i).each((function(e,t){a(r,t)&&s.push(t)})):s=i,o.adProxies=r.concat(s),function(e){ce(o.inbox).find((function(t,n){return n.srcAsid&&n.srcAsid===e.srcAsid}))||o.inbox.push(e)}(e),o.srcIsEmbedded=e.srcIsEmbedded,o.selfDescription=t},o},or=function(e){"use strict";var t=[],n={},r={noMe:!0};return{addFrame:function(i,o,s){var a=e.request(Xe.AdProxy).getAll(),c=new ir(i,o,a,s);return t.push(c),n[c.id]=c,c.isMe&&(r=c),c},getFrame:function(e){return n[e]},list:t,dictionary:n,getMe:function(){return r}}},sr=function(t,n){"use strict";var r=function(e,t){var r=t.adProxies,s="";if(t.isValidForMapping())return s+=n?o(r,t.getStringifiedPosition()):i(r,t)},i=function(e,t){var n="";return n+=t.getStringifiedPosition(),n+=t.isMe?"*":"",n+=e.length?"."+e[0].tagId:""},o=function(e,t){var n="";return e.length?n+=ce(e).stringify((function(e,n){return s(n,t)}),"|"):n+=t,n},s=function(t,n){return n+(e.asid===t.adSafeId?"*":"")+"."+t.tagId};return{output:function(){var e=t.request(Xe.FrameCollection),n=ce(e.list).stringify(r,"|");return ce.toBase(e.getMe().unifiedId,62)+"+"+n}}},ar=function(t){"use strict";var n=t.request(Xe.FrameCollection).getMe().getStringifiedPosition(),r=e.contextNode.parentNode,i=t.request(Xe.InterFrameQuerySelector,r),o=function(e){var t=!1,o=!en.embedded,s="BODY"!==sn.getNodeName(r)&&"HEAD"!==sn.getNodeName(r),a=e.srcIsEmbedded&&!function(e){var t="0.1"!==e.version,n=e.nodeSelector&&-1===e.nodeSelector.indexOf(le.AD_IDENTIFIER);return t?n:!e.srcIsFriendly}(e);return t=o&&s&&!a?!!function(e){return i.queryFor(e.nodeSelector)}(e):!!function(e){var t=e.positionStr,r=e.srcIsEmbedded&&en.embedded,i=0===n.indexOf(t)||0===t.indexOf(n);return r&&i}(e),t};return{output:function(){var r,i,s=n+"*";return(i=t.request(Xe.AdTalkMessageCollection).map((function(t,n){var r;return t!==e.asid&&o(n)&&(r=function(e){return e.positionStr+"."+e.srcAsid+"."+e.transferDuration+"_"+e.srcTagId}(n)),r}))).push(s),r=i.join("|"),r.length>120&&(r=function(e){return e&&e.substr(0,120)+".of"+e.length}(r),ue.getAggregator().trigger(Ke.StopAdTalk)),r},isCandidateForMyIdMap:o}},cr=function(e){"use strict";var t=new ot,n=function(e,t){return sn.querySelector(function(e){var t=e,n="IFRAME"===sn.getNodeName(e),r=sn.isWindow(e);return n?t=e.contentWindow.document:r&&(t=e.document),t}(e),t)};return{queryFor:function(r){var i=null;return r&&(i=function(r,i){var o,s,a;try{(s=n(r,i))||(o=t.getFrames(!0,e),ce(o).findFirst((function(e,t){return a=n(t,i)})))}catch(e){}return s||a||null}(e,r)),i}}},dr=function(t){"use strict";var n,r,i=!1,o=ue.getAggregator().request(Xe.Features);r=o.on("swapids")?e.oid:e.asid;var s=function(n){var i=r.split("-")[2],o=!t.request(Xe.AdTalkMessageCollection).has(n)&&n.srcAsid!==e.asid;return n.hasOwnProperty("messageContent")&&i===n.iasCommonId&&o},a=function(){var e=t.request(Xe.FrameCollection).getMe(),n={self:e,unifiedId:e.unifiedId};return t.request(Xe.AdTalkMessage,n)},c=function(){var e=le.DT_CODES.ADTALK;t.request(Xe.FrameCollection);i||(i=!0),ue.getAggregator().trigger(Ke.SendDt,e)},d=function(e,n,r){var o,s,a,d,u,l,m;try{o=t.request(Xe.FrameCollection),s=t.request(Xe.AdTalkMessageCollection),a=n.messageContent.self,s.add(n),l=o.getMe(),m=a,l.unifiedId>m.unifiedId&&(l.unifiedId=m.unifiedId),n.transferDuration=function(e){return Sn.now()-e.sentTime}(n),d=o.getFrame(a.id),u=d,ce.isUndef(u)||ce.isUndef(u.selfDescription)?((d=d||o.addFrame(e.source,a.id.split("-"),n)).addInformationFromSrc(n,a),r()):d.addInformationFromSrc(n,a),i&&t.request(Xe.IDMapModule).isCandidateForMyIdMap(n)&&c()}catch(e){ue.getAggregator().trigger(Ke.Error,le.ERROR_CODES.ADTALK_DUBIOUS)}};return{sendAdTalkCall:c,sendToKnownFrames:function(){(new dt).send(a)},startListening:function(){(n=new ct).listen(s,d,a)},stopListening:function(){n&&n.stop()},validateMessage:s,processMessage:d,createMessage:a}},ur=function(){"use strict";var e=ue.getAggregator().request(Xe.IDS),t=e.getAsid();return{tagId:e.getFwId(),adSafeId:t}},lr=function(){"use strict";var e,t=[],n=function(e){var n=new ur(e);return t.push(n),n};return e=n(),{createNew:n,getAll:function(){return t},myIdCard:e}};var mr=function(e,t){"use strict";var n,r,i=le.NA,o=i,s=!1,a=!1,c=!1,d=!t,u=ue.getAggregator().request(Xe.Browser),l=function(e,t){(function(e){var t=ue.getAggregator().request(Xe.MobileApp);return(e.browserIs(le.BROWSERS.CHROME)||e.isAndroidWebViewBrowser()||e.browserIs(le.BROWSERS.WEBKIT)||e.browserIs(le.BROWSERS.MSEDGE))&&!t.isMobileAppEnvironment()&&e.hasResizeObserver()})(u)&&Sn.getResizeObserver((function(n,r){var i=n.pop();i.contentRect.height*i.contentRect.width>0&&(t.unobserve(e),t.observe(e),r.disconnect())})).observe(e)},m=function(){var t=Sn.getIntersectionObserver((function(e,t){var r=e.pop(),s=r.intersectionRect.width*r.intersectionRect.height/(r.boundingClientRect.width*r.boundingClientRect.height)*100;isNaN(s)&&(l(r.target,t),s=0),i=Math.min(s,100),n=r.boundingClientRect,i!==o&&Sn.execAtEndOfThread((function(){ue.getAggregator().trigger(Ke.IoPivChange,i)})),o=i}),{threshold:le.VIEWABILITY_IN_VIEW_THRESHOLDS_INTERSECTION_OBSERVER});d&&Sn.execAtEndOfThread((function(){i===le.NA&&(i=0)})),t.observe(f(e)),d&&Sn.execAtEndOfThread((function(){en.isBustedIframe()||ue.getAggregator().trigger(Ke.DelayedViewabilityReady)})),s=!0},g=function(e){m();try{var t=Sn.getIntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting||(i=0,o=0,n=new DOMRectReadOnly(0,0,0,0),t.disconnect())}))}));t.observe(e)}catch(e){}},p=function(){try{var t;return e&&e.ownerDocument&&e.ownerDocument.defaultView&&(t=e.ownerDocument.defaultView.frameElement),t}catch(e){}},f=function(t){if(!ce.isUndef(t)){if(c){var n=e.document,i=n.createElement("div");ce(i.style).mixin({position:"absolute",width:"100%",opacity:"0",height:"100%",zIndex:-999,top:"0px",left:"0px"}),i[le.IAS_DETECTOR]=!0,n.body.appendChild(i),t=i}return r=t,t}};return{start:function(){var t=function(){var t;try{e.document&&(c=!0,t={bodyElement:e.document.body,document:e.document})}catch(e){a=!0}return t}(),n=p();t&&null!==t.bodyElement?m():t&&t.document?tn.whenReady(m,t.document):a?ue.getAggregator().request(Xe.Errors).add(le.ERROR_CODES.BUSTED_IFRAME_IN_IO):n&&en.isCeltra()?g(n):m()},isReady:function(){return i!==le.NA},isStarted:function(){return s},getAdNodeDimensions:function(){var e;return n&&(e=on({scrX:void 0,scrY:void 0,width:n.width,height:n.height})),e},getObservedNode:function(){return r},getPiv:function(){return i}}},gr=function(){"use strict";var e=!1;return tn.whenReady((function(){ue.getAggregator().trigger(Ke.StartViewabilityLoop),e=!0})),{loopStarted:function(){return e}}},pr={name:"loopDelay",dependencies:[],creator:gr,settings:{applies:function(e,t,n){"use strict";return e.bootstrapOn("allowViewability")},tier:le.TIERS.VIEWABILITY}},fr=function(){"use strict";return{start:function(e){ue.getAggregator().on(Ke.Measurable,(function(){e()}))},isApplicable:function(e,t){return!t.browserIs(le.BROWSERS.WEBKIT)||!e.isImmediatelyMeasurable()}}},hr=function(){"use strict";return{start:function(e){e()},isApplicable:function(e){return e.isImmediatelyMeasurable()}}},vr=function(t,n,r){"use strict";var i=!1,o=function(){try{n.impressionIsIdentifiable()&&!i?(i=!0,ue.getAggregator().trigger(Ke.Notify,e._onMeasurable)):n.impressionIsIdentifiable()||__IntegralASDiagnosticCall("rtsmeas_imp_not_iden",{},e)}catch(t){__IntegralASDiagnosticCall("rtsmeas_send_noti_error",t,e)}};return{start:function(){try{var n,i=[Ir(),Er(),hr(),fr()];(n=ce(i).findFirst((function(e,n){return n.isApplicable(r,t)})))?n.start(o):__IntegralASDiagnosticCall("rtsmeas_no_chosen_strategy",{},e)}catch(t){__IntegralASDiagnosticCall("rtsmeas_start_error",t,e)}},isApplicable:function(t){return t.bootstrapOn("useViewabilityNotification")&&ce.isDef(e._onMeasurable)}}},Er=function(){"use strict";return{start:function(e){var t,n;(t=ue.getAggregator(),n=[Ke.AdImpression,Ke.Measurable],{onAll:function(e){var r={};ce(n).each((function(i,o){t.on(o,(function(){r[o]=1,ce(r).keys().length===n.length&&(r={},e())}))}))}}).onAll((function(){e()}))},isApplicable:function(e,t){var n=t.getIOSVersion()>=9;return(!t.browserIs(le.BROWSERS.WEBKIT)||n)&&en.isVideo()}}},Ir=function(){"use strict";return{start:function(e){ue.getAggregator().once(Ke.AdImpression,(function(){e()}))},isApplicable:function(e){return e.isImmediatelyMeasurable()&&en.isVideo()}}},Sr=function(e,t,n){"use strict";var r=[S.Rjss,S.Amt,S.Jss,S.Jload];return{accepts:function(){var e=ce.isDef(ce(r).find((function(e,t){return t===n})));return t.accepts()&&t.isMediaType(le.MEDIA_TYPE.DISPLAY)&&e},isImmediate:function(){return!0},isMediaType:t.isMediaType,supportsAdContainerGeometry:function(){return t.supportsAdContainerGeometry()},start:function(){}}},Ar=function(t){"use strict";var n=Sn.getWindow(),r=n&&n.omid3p,i=ue.getAggregator().request(Xe.OmidAdSessionContext),o=!!(t&&t.isSupported&&t.isSupported()),s=!!(r&&ce.isFunction(r.registerSessionObserver)&&ce.isFunction(r.addEventListener));return{accepts:function(){return(o||s)&&!e.videoId&&!e._cl_adpath},isMediaType:function(e){return e===i.mediaType},supportsAdContainerGeometry:function(){return!0}}},yr=function(e,t,n){"use strict";var r,i=ue.getAggregator().request(Xe.OmidAdSessionContext),o=i.isHtml&&i.isWeb,s=Sn.getWindow(),a=s&&s.omid3p,c=!!(a&&ce.isFunction(a.registerSessionObserver)&&ce.isFunction(a.addEventListener))?a:e;r=o?[S.Rjss,S.Amt,S.Jss,S.Jload,S.JsVid,S.FwjsVid]:[S.Rjss,S.Amt,S.Jss,S.Jload];return{accepts:function(){var e=ce.isDef(ce(r).find((function(e,t){return t===n})));return t.accepts()&&t.isMediaType(le.MEDIA_TYPE.VIDEO)&&e},isImmediate:function(){return!0},isMediaType:t.isMediaType,supportsAdContainerGeometry:function(){return t.supportsAdContainerGeometry()},start:function(){c.addEventListener("start",(function(e){ue.getAggregator().trigger(Ke.AdImpression)}))}}},Tr=function(e){"use strict";return{resolve:function(){return ce(e).findFirst((function(e,t){return t.environment.accepts()}))}}},Or=function(n){"use strict";var r=!1,i=!1,o=!1,s=!1,a=ue.getAggregator().request(Xe.OmidAdSessionContext);a.queuedOutputItems=[],a.cachedEvents=[],a.cachedGeometryEventsReceived=!1,a.cachedVideoEventsReceived=!1,a.recoveredTime=-1;var c=new ho,d=ue.getAggregator().request(Xe.OmidAdSessionVerificationParameters),u=ue.getAggregator().request(Xe.Features),l=Sn.getWindow(),m=l&&l.omid3p,g=!!(m&&ce.isFunction(m.registerSessionObserver)&&ce.isFunction(m.addEventListener))?m:n,p=!1;a.omidEarlyExit=!1,a.mediaType="display";var f=!1,h=function(){return d&&d.IAS&&Object.keys(d.IAS).length>0?d.IAS:d},v=function(e,t){a.queuedOutputItems.push({code:e,value:t})},E=function(e,t,n){ue.getAggregator().trigger(e,t,n)},I=function(e){ue.getAggregator().trigger(e)},S=function(){if(r&&i&&(!s||o)){t.omidSupported=!0,a.hasOwnProperty("impressionType")&&v("oiet",a.impressionType),a.hasOwnProperty("creativeType")&&v("oct",a.creativeType),a.underEvaluation&&v("oef",!0),a.exitedOASRS=!0,p=!0;const e=h();e&&(te.baseUrls&&te.baseUrls.updateWithVerificationParameters({verificationParameters:e}),te.measurementConfig&&te.measurementConfig.updateWithVerificationParameters({verificationParameters:e}),te.adTag&&te.adTag.updateWithVerificationParameters({verificationParameters:e})),te&&te.jsConfigRequest&&te.jsConfigRequest.buildRequestUrlFromParameters&&te.jsConfigRequest.buildRequestUrlFromParameters({contextNode:te.contextNode,omidParameters:h()}),ae()}},A=function(t){function n(){return en.isOmidForWeb()||t.data.hasOwnProperty("supportsLoadedEvent")&&("true"===t.data.supportsLoadedEvent||!0===t.data.supportsLoadedEvent)&&"string"==typeof t.data.creativeType&&""!==t.data.creativeType}var c="0";if("sessionStart"===t.type){a.adSessionType=t.data.context.adSessionType||"undefined",a.environment=t.data.context.environment,a.accessMode=t.data.context.accessMode||"limited",a.omidNativeInfo=t.data.context.omidNativeInfo,a.omidJsInfo=t.data.context.omidJsInfo,a.deviceInfo=t.data.context.deviceInfo,a.app=t.data.context.app,a.supports=t.data.context.supports,a.app&&"string"==typeof a.app.appId&&a.app.appId.toLowerCase().indexOf("pandora")>-1&&(a.ignoreDivAsCandidate=!0),t.data.hasOwnProperty("contentUrl")&&(a.contentUrl=t.data.contentUrl),t.data.context.hasOwnProperty("underEvaluation")&&(a.underEvaluation=t.data.context.underEvaluation),t.data.context.hasOwnProperty("podSequence")&&(a.podSequence=t.data.context.podSequence,v("opds",a.podSequence)),t.data.context.hasOwnProperty("adCount")&&(a.adCount=t.data.context.adCount,v("oadc",a.adCount)),t.data.context.hasOwnProperty("transactionId")&&(a.transactionId=t.data.context.transactionId,v("otid",a.transactionId)),t.data.context.hasOwnProperty("friendlyToTop")&&(a.friendlyToTop=t.data.context.friendlyToTop,v("oftt",a.friendlyToTop)),t.data.context.hasOwnProperty("deviceCategory")&&(a.deviceCategory=t.data.context.deviceCategory,v("ocat",a.deviceCategory)),a.isJavaScript="javascript"===a.adSessionType,a.isNative="native"===a.adSessionType||"javascript"===a.adSessionType,a.isLimitedSandbox="app"===a.environment?en.embedded:"full"!==t.data.context.accessMode,a.app&&"string"==typeof a.app.appId&&a.app.appId.toLowerCase().indexOf("pinterest")>-1&&"limited"===a.accessMode&&(a.isLimitedSandbox=!0),a.isHtml="html"===t.data.context.adSessionType,a.isWeb="web"===t.data.context.environment,a.partnerName=a.omidNativeInfo&&a.omidNativeInfo.partnerName&&a.omidNativeInfo.partnerName.toLowerCase(),d=t.data.verificationParameters,a.isOmidForWebEnvironment=a.isHtml&&a.isWeb,a.element=t.data.context.videoElement||t.data.context.slotElement||null,n()?(s=!0,a.useOMID13Logic=!0,v("ohand","13"),g.addEventListener("video",T),g.addEventListener("media",T)):v("ohand","12"),e.omidLeaveEarly?(e&&e.mobFwUrl&&e.mobFwUrl.indexOf("xmtp=v")>-1?a.mediaType="video":a.mediaType="web"===a.environment?t.data.mediaType||"video":t.data.mediaType,a.mediaType&&t.data.creativeType&&(a.creativeType=t.data.creativeType,a.omidEarlyExit=!0,c="1",i=!0,o=!0,v("omtp",a.mediaType)),"video"===a.mediaType&&(a.isVideo=!0,a.isNativeVideo=a.isNative),a.isDisplay="display"===a.mediaType):(a.isOmidForWebEnvironment||(a.integratedBlocking=te.measurementConfig.isResolved&&en.integratedBlockingApplies(e.mobFwUrl),a.integratedBlocking&&u&&u.on("exitOASRSEarly")&&(a.omidEarlyExit=!0,c="1",a.omidEarlyExit&&e.mobFwUrl.indexOf("xmtp=v")>-1&&(a.mediaType="video")),!t.data.mediaType||"display"!==t.data.mediaType&&"video"!==t.data.mediaType||(a.mediaType=t.data.mediaType)),a.omidEarlyExit&&(i=!0,v("omtp",a.mediaType),n()&&(o=!0),"video"===a.mediaType&&(a.isVideo=!0),a.isNativeVideo=a.isNative&&a.isVideo,a.isDisplay="display"===a.mediaType)),"audio"===t.data.creativeType&&(a.accessMode="limited",a.isLimitedSandbox=!0);for(var l,m,f,h=[{root:"omidNativeInfo",code:"onpn",field:"partnerName"},{root:"omidNativeInfo",code:"onpv",field:"partnerVersion"},{root:"omidJsInfo",code:"ojpn",field:"partnerName"},{root:"omidJsInfo",code:"ojpv",field:"partnerVersion"},{root:"omidJsInfo",code:"osev",field:"serviceVersion"},{root:"omidJsInfo",code:"oscv",field:"sessionClientVersion"},{root:"app",code:"applv",field:"libraryVersion"},{root:"app",code:"appid",field:"appId"},{root:"deviceInfo",code:"dty",field:"deviceType"},{root:"deviceInfo",code:"osn",field:"os"},{root:"deviceInfo",code:"osv",field:"osVersion"}],I=0;I<h.length;I++)l=h[I].root,m=h[I].field,f=h[I].code,"object"==typeof a[l]&&void 0!==a[l][m]&&v(f,a[l][m]);v("oast",a.adSessionType),v("oacm",a.accessMode),v("oenv",a.environment),a.hasOwnProperty("contentUrl")&&v("ocon",encodeURIComponent(a.contentUrl||"")),t.data.hasOwnProperty("lastActivity")&&t.data.lastActivity.hasOwnProperty("timestamp")&&te&&te.measurementConfig&&te.measurementConfig.birthdate&&(a.lastActivity=t.data.lastActivity.timestamp,v("olas",a.lastActivity-te.measurementConfig.birthdate)),v("oerl",c),v("oses",en.getTagTime()),r=!0,S()}if("sessionError"===t.type){var A="string"==typeof t.data.errorType?t.data.errorType:"NoErrType",y="string"==typeof t.data.message?t.data.message:"NoMessage",O=A+"_"+encodeURIComponent(y);p?E(Ke.AddOutputItem,{output:O},ze.OMIDSessionError):v(ze.OMIDSessionError,O)}},y=function(e){e.type===le.IMPRESSION_EVENT&&(a.omidImpressionArrived=!0,I(Ke.OmidImpressionArrived),a.mediaType="web"===a.environment?e.data.mediaType||"video":e.data.mediaType,v("omtp",a.mediaType),"audio"===e.data.creativeType&&(a.accessMode="limited",a.isLimitedSandbox=!0),v("oimp",en.getTagTime()),"video"===e.data.mediaType&&(a.isVideo=!0),function(e){return e.data.adView&&(e.data.viewport||a.isWeb)}(e)&&(a.impressionViewabilityMeasurement={type:"geometryChange",data:{viewport:e.data.viewport,adView:e.data.adView},timestamp:e.timestamp},void 0===a.geometryArrived&&c.checkForViewAttachmentBasedOnAdSessionType(a,e.data.adView)&&(a.geometryArrived=!0,I(Ke.OmidRendGeoUpdate))),e.data.hasOwnProperty("impressionType")&&!o&&(a.impressionType=e.data.impressionType),a.isNativeVideo=a.isNative&&"video"===e.data.mediaType,a.isDisplay="display"===e.data.mediaType,i=!0,S())},T=function(e){if(e&&"start"===e.type)return a.videoStartArrived=!0,void I(Ke.OmidRendVideoStart);"loaded"!==e.type||a.omidLoadedArrived||(v("oloa",en.getTagTime()),o=!0,a.omidLoadedArrived=!0,I(Ke.OmidLoadedArrived),e.data.hasOwnProperty("creativeType")&&(a.creativeType=e.data.creativeType),"audio"===a.creativeType&&(a.accessMode="limited",a.isLimitedSandbox=!0),e.data.hasOwnProperty("impressionType")&&(a.impressionType=e.data.impressionType),!0===a.omidEarlyExit&&(f||(E(Ke.AddThrottledOutputItem,"oiet",a.impressionType),E(Ke.AddThrottledOutputItem,"oct",a.creativeType),f=!0)),S())},O=function(e){e&&e.data&&e.data.interactionType&&"click"===e.data.interactionType&&Lr.omid.trackClick()};return{start:function(){g.registerSessionObserver(A,"IAS"),g.addEventListener(le.IMPRESSION_EVENT,y),g.addEventListener(Ke.AdUserInteraction,O)}}},Dr=function(){"use strict";return{accepts:function(){return!0}}},_r=function(){"use strict";var e=ue.getAggregator().request(Xe.OmidAdSessionContext),t=ue.getAggregator().request(Xe.OmidVerificationClient),n=new Ar(t),r=e.isHtml&&e.isWeb;return{accepts:function(){return n.accepts()&&r}}},Cr=function(){"use strict";return{start:function(){ae()}}};class wr{static maxScrollDepth({maxScrollDepth:e}){ue.getAggregator().trigger(Ke.AddOutputItem,{output:e},"msd")}static pageHeight({pageHeight:e}){ue.getAggregator().trigger(Ke.AddOutputItem,{output:e},"ph")}static notAvailableOrApplicableMaxScrollDepth({reason:e}){ue.getAggregator().trigger(Ke.AddOutputItem,{output:e},"nmsd")}static notAvailableOrApplicablePageHeight({reason:e}){ue.getAggregator().trigger(Ke.AddOutputItem,{output:e},"nph")}}class br extends a{constructor(){super({storeModelName:"pageMetrics"}),this.maxScrollDepth=0,this.ticking=!1,this.scrollHandler=()=>{var e;this.ticking||(null===(e=this.topWindow)||void 0===e||e.requestAnimationFrame((()=>{this.sendPageMetricsData(),this.ticking=!1})),this.ticking=!0)},this.topWindow=(()=>{let e;try{en.friendly&&!en.isDomless()&&(e=Sn.getTop()||void 0)}catch(e){}return e})(),this.topWindow&&this.initScrollListener()}sendPageMetricsData(){const e=this.getPageMetrics({topWindow:this.topWindow});if(void 0!==e){const{pageHeight:t,maxScrollDepth:n}=e;void 0!==n&&wr.maxScrollDepth({maxScrollDepth:n}),void 0!==t&&wr.pageHeight({pageHeight:t})}else wr.notAvailableOrApplicableMaxScrollDepth({reason:-1}),wr.notAvailableOrApplicablePageHeight({reason:-1})}initScrollListener(){var e;try{null===(e=this.topWindow)||void 0===e||e.addEventListener("scroll",this.scrollHandler),this.prepareScrollListenerCleanup()}catch(e){}}prepareScrollListenerCleanup(){tn.whenReady((()=>{const e=ue.getAggregator();e&&e.on&&e.on(Ke.AltAdSessionComplete,(()=>{var e;try{null===(e=this.topWindow)||void 0===e||e.removeEventListener("scroll",this.scrollHandler)}catch(e){}}))}))}getPageMetrics({topWindow:e}){let t;if(e)try{const n=e.document.documentElement.scrollHeight,r=e.scrollY||e.document.documentElement.scrollTop;this.maxScrollDepth=Math.max(this.maxScrollDepth,Math.round(r)),t={pageHeight:n,maxScrollDepth:this.maxScrollDepth}}catch(e){wr.notAvailableOrApplicableMaxScrollDepth({reason:-1}),wr.notAvailableOrApplicablePageHeight({reason:-1})}return t}}const $r=({jsInfoCode:e,output:t,errorCode:n})=>{try{ue.getAggregator().trigger(Ke.AddOutputItem,{output:t},e),ue.getAggregator().trigger(Ke.SendDt,le.DT_CODES.PERFORMANCE)}catch(e){ue.getAggregator().trigger(Ke.Error,n)}};class Nr{constructor(){this.mousedOver=!1,this.clicked=!1}mouseOver(){this.mousedOver=!0}mouseOut(){this.mousedOver=!1}click(){this.clicked=!0}isMousedOver(){return this.mousedOver}wasClicked(){return this.clicked}}class Rr{constructor({tagStartTime:e,adState:t}){this.initClickTracking=({clickSource:e})=>{this.clickData[e]||(this.clickData[e]=[])},this.getClicks=({clickSource:e})=>this.clickData[e],this.setupTrackAndBroadcastClick=({clientX:e,clientY:t,clickSource:n})=>{const r=[e,t,en.getTagTime()];this.getClicks({clickSource:n}).push(r),$r({output:ce(this.clickData).toION(),errorCode:"Q",jsInfoCode:"clks"})},this.trackClick=({event:e,clickSource:t})=>{const{clientX:n,clientY:r}=e;this.adState.click(),this.setupTrackAndBroadcastClick({clientX:n,clientY:r,clickSource:t})},this.trackBlur=({clickSource:e})=>{this.setupTrackAndBroadcastClick({clientX:-1,clientY:-1,clickSource:e})},this.trackTouch=({clientX:e,clientY:t,clickSource:n})=>{this.setupTrackAndBroadcastClick({clientX:e,clientY:t,clickSource:n})},this.trackOmidClick=()=>{this.initClickTracking({clickSource:"om"}),this.trackClick({event:{clientX:0,clientY:0},clickSource:"om"})},this.isProxyClick=()=>!this.adState.wasClicked()&&this.adState.isMousedOver()&&n.activeElement instanceof HTMLIFrameElement,this.trackBlurClick=()=>{if(this.isProxyClick()){const e="blr";this.adState.mouseOut(),this.initClickTracking({clickSource:e}),this.trackBlur({clickSource:e})}},this.trackAdComponentClick=e=>{this.initClickTracking({clickSource:"ac"}),this.trackClick({event:e,clickSource:"ac"})},this.trackMobileTouchStart=e=>{if(e.changedTouches&&e.changedTouches[0]){const t=e.changedTouches[0],{clientX:n,clientY:r}={clientX:Math.round(null==t?void 0:t.clientX),clientY:Math.round(null==t?void 0:t.clientY)};this.mobileClickVerify.trackMobileTimeAndCoords({clientX:n,clientY:r})}},this.trackMobileTouchEnd=e=>{if(e.changedTouches&&e.changedTouches[0]){const t=e.changedTouches[0],{clientX:n,clientY:r}={clientX:Math.round(t.clientX),clientY:Math.round(t.clientY)};if(this.mobileClickVerify.isMobileLinkClick({clientX:n,clientY:r})){const e="mt";this.initClickTracking({clickSource:e}),this.trackTouch({clientX:n,clientY:r,clickSource:e})}}},this.trackPointerUp=e=>{if("pen"===e.pointerType&&e.clientX&&e.clientY){const{clientX:t,clientY:n}={clientX:Math.round(e.clientX),clientY:Math.round(e.clientY)};if(this.mobileClickVerify.isMobileLinkClick({clientX:t,clientY:n})){const e="mt";this.initClickTracking({clickSource:e}),this.trackTouch({clientX:t,clientY:n,clickSource:e})}}},this.trackPointerDown=e=>{if("pen"===e.pointerType&&e.clientX&&e.clientY){const{clientX:t,clientY:n}={clientX:Math.round(e.clientX),clientY:Math.round(e.clientY)};this.mobileClickVerify.trackMobileTimeAndCoords({clientX:t,clientY:n})}},this.clickData={},this.tagStartTime=e,this.adState=t,this.mobileClickVerify=new Mr}}class Mr{constructor(){this.trackMobileTimeAndCoords=({clientX:e,clientY:t})=>{this.mobileTouchTimer.startTimer(),this.lastClientX=e,this.lastClientY=t},this.isMobileLinkClick=({clientX:e,clientY:t})=>{const n=this.mobileTouchTimer.endTimer();let r=!1;if(this.mobileTouchTimer.startTimer(),n&&n<=200&&this.lastClientX&&this.lastClientY){const n=Math.abs(e-this.lastClientX),i=Math.abs(t-this.lastClientY),o=10;n<=o&&i<=o&&(r=!0)}return r},this.mobileTouchTimer=new Vr,this.mobileTouchTimer.startTimer()}}class Pr{constructor({adState:e,tagStartTime:t}){this.trackAdComponentMouseOver=()=>{this.adState.mouseOver(),this.hoverData.timeToFirstHover||(this.hoverData.timeToFirstHover=en.getTagTime()),this.hoverData.hoverCount+=1,this.hoverTimer.startTimer(),$r({output:ce(this.hoverData.getData()).toION(),errorCode:"he",jsInfoCode:"hov"})},this.trackAdComponentMouseOut=()=>{this.adState.mouseOut();const e=this.hoverTimer.endTimer();(e||0===e)&&(this.hoverData.totalHoverTime+=e,$r({output:ce(this.hoverData.getData()).toION(),errorCode:"he",jsInfoCode:"hov"}))},this.adState=e,this.tagStartTime=t,this.hoverData=new xr,this.hoverTimer=new Vr}}class xr{constructor(){this.getData=()=>[this.timeToFirstHover,this.hoverCount,this.totalHoverTime],this.hoverCount=0,this.totalHoverTime=0,this.timeToFirstHover=0}}class Vr{constructor(){this.startTime=0}startTimer(){this.startTime=(new Date).getTime()}endTimer(){let e;return this.startTime&&(e=(new Date).getTime()-this.startTime),this.startTime=0,e}}const{birthdate:Fr}=e,Lr=new class{constructor({tagStartTime:e}){this.finalizeAllCollectedData=()=>{this.hover.trackAdComponentMouseOut()},this.adState=new Nr,this.tagStartTime=e,this.click=new Rr({tagStartTime:e,adState:this.adState}),this.hover=new Pr({tagStartTime:e,adState:this.adState})}get adComponent(){return{trackClick:this.click.trackAdComponentClick,trackBlur:this.click.trackBlurClick,trackMouseOver:this.hover.trackAdComponentMouseOver,trackMouseOut:this.hover.trackAdComponentMouseOut}}get mobile(){return{trackTouchEnd:this.click.trackMobileTouchEnd,trackTouchStart:this.click.trackMobileTouchStart,trackPointerUp:this.click.trackPointerUp,trackPointerDown:this.click.trackPointerDown}}get omid(){return{trackClick:this.click.trackOmidClick}}}({tagStartTime:Fr});var Ur=function(e,n){"use strict";var r="videoPlaybackEvent",i=[],o=(new Date).getTime(),s=0,a=1,c=0,d=!1,u=new vn,l=ue.getAggregator().request(Xe.OmidAdSessionContext),m=Sn.getWindow(),g=m&&m.omid3p,p=!!(g&&ce.isFunction(g.registerSessionObserver)&&ce.isFunction(g.addEventListener))?g:e,f=!1,h=!1,v={isEmpty:function(){return 0===i.length},toString:function(){for(var e="{vEventCount:"+i.length+",vEvents:[",t=0;t<i.length;t++){var n=i[t],r=(t>0?",{":"{")+"t:"+n.t+",rt:"+n.rt+",tp:"+n.tp+",sl:"+n.sl+",ad_duration:"+n.ad_duration+",volume:"+n.volume+",devol:"+n.devol;void 0!==n.avoc&&(r+=n.avoc>=0?",avoc:"+n.avoc:""),e+=r+"}"}return e+="]}"}},E=function(){d=!0},I=function(e){var u,m,g,p="start|firstQuartile|midpoint|thirdQuartile|resume|bufferFinish",v="complete|pause|bufferStart|skipped";if(-1!==("|"+p+"|"+v+"|playerStateChange|loaded|volumeChange|").indexOf("|"+e.type+"|"))try{var E,I="",S=e.hasOwnProperty("timestamp")?e.timestamp:(new Date).getTime(),A=S-(te.measurementConfig.birthdate||S+1),y="n",T=!1;switch(e.type){case"start":I=Ke.AdVideoStart,l.videoStartArrived=!0,ue.getAggregator().trigger(Ke.OmidRendVideoStart),o=S,(c=e.data.duration||"0")>1e3&&(c/=1e3),s=null!=e.data.mediaPlayerVolume?e.data.mediaPlayerVolume:e.data.videoPlayerVolume,a=null!=e.data.deviceVolume?e.data.deviceVolume:1;break;case"volumeChange":I="volumeChanged",s=null!=e.data.mediaPlayerVolume?e.data.mediaPlayerVolume:e.data.videoPlayerVolume,a=null!=e.data.deviceVolume?e.data.deviceVolume:1;break;case"firstQuartile":case"midpoint":case"thirdQuartile":case"complete":I="adVideo"+e.type.substring(0,1).toUpperCase()+e.type.substring(1),T=!0,ue.getAggregator().trigger(Ke.VideoQuartileEvent,e);break;case"pause":case"bufferStart":I="pauseAd";break;case"resume":case"bufferFinish":I="resumeAd";break;case"skipped":I="adSkipped"}if(s=s>0&&s<.1?.1:parseInt(10*s)/10,a=a>0&&a<.1?.1:parseInt(10*a)/10,""!==I){var O=ue.getAggregator().request(Xe.ScreenEvents);O&&(y=O.getCurrentLoc()||y);var D={t:S-o,rt:A,tp:I,sl:y,ad_duration:c,volume:s,devol:a};try{var _=O.getLatestEvent();"adVideoComplete"===I&&s>0&&(ce.isDef(a)&&a>0||ce.isUndef(a))&&_&&_.percentInView&&_.percentInView>=50?D.avoc=1:"adVideoComplete"===I&&(D.avoc=0)}catch(e){}i.push(D)}if("loaded"===e.type&&ce.isDef(e.data)){var C=["preroll","midroll","postroll","standalone"].indexOf(e.data.position),w=-1!==C?C+1:void 0,b=[];!0===e.data.autoPlay?b.push("autoplayed"):b.push("clicktoplay"),!0===e.data.skippable&&b.push("skippable"),"fullscreen"===e.data.state&&b.push("fullscreen");var $=b.join(".");!0===d?(ce.isDef(w)&&ue.getAggregator().trigger(Ke.AddThrottledProp,le.DT_SLOT.ENVIRONMENT,ze.VideoBreakPosition,w),ue.getAggregator().trigger(Ke.AddThrottledProp,le.DT_SLOT.ENVIRONMENT,ze.VideoPlayerState,$)):(ce.isDef(w)&&ue.getAggregator().trigger(Ke.AddOutputItem,{output:w},ze.VideoBreakPosition,{type:le.IMPRESSION_EVENT}),ue.getAggregator().trigger(Ke.AddOutputItem,{output:$},ze.VideoPlayerState,{type:le.IMPRESSION_EVENT}))}if("start"===e.type&&(ue.getAggregator().trigger(Ke.OmidAdDuration,{ad_duration:c}),l.adDuration=c),"playerStateChange"===e.type?E="fullscreen"===e.data.state?"AdEnteredFullscreen":"AdExitedFullscreen":-1!==p.indexOf(e.type)?(E="AdPlaying",h=!0):-1!==v.indexOf(e.type)&&(E="AdPaused",h=!1),"audio"===l.creativeType&&""!==I){var N=(u=le.RENDER.WIDTH_THRESHOLD,m=le.RENDER.HEIGHT_THRESHOLD,(g={type:"geometryChange",timestamp:S,internallyGenerated:!0,treatAsCached:f,data:{viewport:{width:u,height:m},adView:{measuringElement:!1,percentageInView:100,geometry:{x:0,y:0,width:u,height:m,obstructions:[],reasons:[]},reasons:[]}}}).data.adView.onScreenGeometry=g.data.adView.containerGeometry=g.data.adView.onScreenContainerGeometry=g.data.adView.geometry,g);h&&0!==a&&0!==s||(N.data.adView.geometry.width=N.data.adView.geometry.height=0,N.data.adView.percentageInView=0),ue.getAggregator().trigger(Ke.InternallyGeneratedGeometryEvent,N)}f&&"loaded"!==e.type&&(l.cachedVideoEventsReceived=!0,"start"===e.type&&(l.cachedStartEventIndex=l.cachedEvents.length),l.cachedEvents.push(e)),ce.isDef(E)&&n.trigger(r,{eventType:E,eventData:null}),T&&ue.getAggregator().trigger(Ke.SendDt,le.DT_CODES.VIDEO_EVENTS)}catch(e){__IntegralASDiagnosticCall("omidvideo",e,t.bootstrapper)}};return{start:function(){ue.getAggregator().on(Ke.ImpressionSent,E),ue.getAggregator().provide({[Xe.OmidVideoEventsString]:v}),f=!0,"audio"===l.creativeType?p.addEventListener("media",I):p.addEventListener("video",I),f=!1,l.cachedVideoEventsChecked=!0,l.cachedVideoEventsReceived&&l.processCachedEvents(),u.init()},addVideoPlaybackEventListener:function(e){n.on(r,e)}}},kr=function(e,t){"use strict";var n="measurementChanged",r=!1,i=function(e){return e>=50},o=function(e){var o=e.percentageInView;r=!0,e.viewState=function(e){return i(e)?le.IN_VIEW:le.OUT_OF_VIEW}(o),e.outOfViewReason=i(o)?"":le.OUT_OF_VIEW_REASONS.GEOM,t.trigger(n,e)};return{start:function(){ue.getAggregator().trigger(Ke.AddOutputItem,{output:le.MEDIA_TYPE.DISPLAY_CODE},le.MEDIA_TYPE_CODE,{type:le.IMPRESSION_EVENT}),e.addScreenLocationChangedListener(o),e.start()},getStrategyName:function(){return le.MEASUREMENT_STRATEGY.DISPLAY},addMeasurementChangedListener:function(e){t.on(n,e)},isMeasurable:function(){return r}}},jr=function(e,t,n){"use strict";var r=ce.isDef(e)?e.environment:void 0,i=ce.isDef(e)?e.measurementStrategy:void 0,o=function(){return ce.isDef(i)};ce.isDef(t)&&t.start();return{hasMeasurementStrategy:o,getScreenLocationInfo:function(e){return t.create(e)},isImmediate:function(){return!o()||r.isImmediate()},isMeasurable:function(){return!!o()&&i.isMeasurable()},isMediaType:function(e){return!!o()&&r.isMediaType(e)},supportsAdContainerGeometry:function(){return e.environment.supportsAdContainerGeometry()},start:function(){o()&&r.start()},requiresDelayedViewabilityEvent:function(){o()&&t.requiresDelayedViewabilityEvent()}}},Wr=function(e,t,n){"use strict";var r=ue.getAggregator().request(Xe.MobileApp);return{create:function(){var t=[];t=(t=t.concat(e.getOmidMeasurementStrategies())).concat(e.getMraidMeasurementStrategies());var n=new Br(t).resolve();n||ue.getAggregator().trigger(Ke.AddOutputItem,{output:"0"},ze.OMIDAppMeasurement,{type:le.IMPRESSION_EVENT});var i=new Hr(n);return new jr(n,i,r.isMobileAppEnvironment())}}},Gr=function(e){"use strict";var t=ue.getAggregator().request(Xe.MobileApp);return{getOmidMeasurementStrategies:function(){var e=ue.getAggregator().request(Xe.OmidVerificationClient),t=new Ar(e),n=[];if(t.accepts()){var r=new ei,i=new ni,o=new _r,s=ue.getAggregator().request(Xe.OmidAdSessionContext),a=new Zr(e,new it),c=[{environment:r,measurementStrategy:new ti(e,new it)},{environment:o,measurementStrategy:new ri(new Ni,Sn.getWindow(),new it)},{environment:i,measurementStrategy:new oi(new ki,Sn.getWindow(),new it)}],d=new Br(c).resolve(),u=d?d.measurementStrategy:{},l=new Xr(new Qr(new uo),new uo,s.isHtml),m=new Sr(e,t,te.adTag.tagType),g=new zr(a,u,new it,l),p=new yr(e,t,te.adTag.tagType),f=new ii(a,u,new Ur(e,new it),new it,l);n.push({environment:m,measurementStrategy:g}),n.push({environment:p,measurementStrategy:f})}return n},getMraidMeasurementStrategies:function(){var e=[],n=t.isSafeToInjectMraid(),r=new si(Sn.getWindow(),n,t.isMobileAppEnvironment());if(r.accepts()){var i,o=ue.getAggregator().request(Xe.Context),s=new qr(Sn.getWindow(),o),a=new ai(Sn.getWindow(),new it);if(s.accepts()){var c=new Kr(Sn.getWindow(),new it);i={environment:s,measurementStrategy:new Yr(a,c,new it)}}else if(en.isVideo()){i={environment:r,measurementStrategy:new Yr(a,void 0,new it)},ue.getAggregator().trigger(Ke.AddOutputItem,{output:"1"},"xmvd",{type:le.IMPRESSION_EVENT})}else{i={environment:r,measurementStrategy:new kr(a,new it)}}e.push(i)}return e}}},Br=function(e){"use strict";return{resolve:function(){var t=ce(e).findFirst((function(e,t){return t.environment.accepts()}));if(ce.isDef(t))return t}}},Hr=function(e){"use strict";var t,n=!1,r={winDimensions:on({scrX:0,scrY:0,width:0,height:0}),adDimensions:on({scrX:0,scrY:0,width:0,height:0}),containerDimensions:on({scrX:0,scrY:0,width:0,height:0}),method:le.NA,viewState:le.NA,percentInView:le.PIV_NA,reason:"",obstructed:le.NA,isHidden:le.NA,tabHidden:le.NA,posViewState:le.NA,adCompCount:1},i=function(e){return e?new on({scrX:e.x,scrY:e.y,width:e.width,height:e.height}):on({scrX:0,scrY:0,width:0,height:0})},o=function(e){t={winDimensions:i(e.windowDimensions),adDimensions:i(e.adDimensions),containerDimensions:i(e.containerDimensions),method:e.detectionMethod||le.NA,viewState:e.viewState||le.NA,percentInView:ce.isDef(e.percentageInView)?e.percentageInView:le.PIV_NA,reason:e.outOfViewReason||"",obstructed:ce.stringifyTriState(e.isObstructed),isHidden:le.NA,tabHidden:le.NA,posViewState:e.viewState||le.NA,adCompCount:1,shouldDelegateToDomBasedViewability:e.shouldDelegateToDomBasedViewability,sliceStatus:e.sliceStatus,isVideoPlaying:e.isVideoPlaying,isVideoPlayingInFullscreen:e.isVideoPlayingInFullscreen,isSoundOn:e.isSoundOn};var r=e.omidObstructions;ce.isDef(r)&&""!==r&&(t.omidObstructions=r),e.isMeasurable&&(!0,n&&(n=!1,ue.getAggregator().trigger(Ke.DelayedViewabilityReady)))};return{create:function(n){var i=r;return ce.isDef(t)&&(e.environment.supportsAdContainerGeometry()?i=t:t.shouldDelegateToDomBasedViewability?(i=n).method=t.method:(0===t.percentInView||t.percentInView>=75)&&(i=t)),i},start:function(){var t;ce.isDef(e)&&ce.isDef(e.measurementStrategy)&&((t=e.measurementStrategy).addMeasurementChangedListener(o),t.start())},requiresDelayedViewabilityEvent:function(){n=!0}}},Yr=function(e,t,n){"use strict";var r,i,o,s,a="measurementChanged",c=!1,d=!1,u=!1,l=function(e){return e<50},m=function(){if(!ce.isUndef(i)){var e,t,m=[];c?(d?(t=!1,e=100):(t=s,e=o),l(e)&&m.push(le.OUT_OF_VIEW_REASONS.GEOM)):(t=!1,e=0,m.push(le.OUT_OF_VIEW_REASONS.VIDEO)),u=!0,i.shouldDelegateToDomBasedViewability=t,i.percentageInView=e,i.viewState=function(e){return l(e)?le.OUT_OF_VIEW:le.IN_VIEW}(e),i.outOfViewReason=m.join("."),r=i,n.trigger(a,r)}},g=function(e){i=e,o=e.percentageInView,s=e.shouldDelegateToDomBasedViewability,m()},p=function(e){var t=e.eventType;"AdEnteredFullscreen"===t?d=!0:"AdExitedFullscreen"===t?d=!1:-1!=="AdStarted|AdVideoStart|AdPlaying".indexOf(t)?c=!0:-1!=="AdSkipped|AdUserClose|AdPaused|AdVideoComplete|AdStopped".indexOf(t)&&(c=!1),m()};return{start:function(){ue.getAggregator().trigger(Ke.AddOutputItem,{output:le.MEDIA_TYPE.VIDEO_CODE},le.MEDIA_TYPE_CODE,{type:le.IMPRESSION_EVENT}),e&&(e.addScreenLocationChangedListener(g),e.start()),t&&(t.addVideoPlaybackEventListener(p),t.start())},getStrategyName:function(){return le.MEASUREMENT_STRATEGY.VIDEO},addMeasurementChangedListener:function(e){n.on(a,e)},isMeasurable:function(){return u}}},qr=function(e,t){"use strict";return{accepts:function(){return t.isInMobiMraidVideo()},isImmediate:function(){return!1},supportsAdContainerGeometry:function(){return!1},start:function(){try{var t;e.inmobi.IASDocumentVideoBuffer.addVideoEventListener((function(e){"AdVideoStart"!==e.type||t||(t=!0,ue.getAggregator().trigger(Ke.AdImpression))}))}catch(e){}}}},Kr=function(e,t){"use strict";var n="inMobiMraidVideoPlaybackEvent",r=function(e){try{var r=e.type;t.trigger(n,{eventType:r})}catch(e){}};return{start:function(){try{e.inmobi.IASDocumentVideoBuffer.addVideoEventListener(r)}catch(e){}},addVideoPlaybackEventListener:function(e){t.on(n,e)}}};const Jr=(e,t)=>{let n=[],r=0,i=0;if(e&&t&&"number"==typeof e.x&&"number"==typeof e.y&&"number"==typeof e.width&&"number"==typeof e.height){const o=e.x,s=e.x+e.width,a=e.y,c=e.y+e.height;for(;r<t.length;r++){const d=t[r];if(d&&"number"==typeof d.x&&"number"==typeof d.y&&"number"==typeof d.width&&"number"==typeof d.height){const t=d.x,r=d.x+d.width,u=d.y,l=d.y+d.height;if(t>=s||r<=o||u>=c||l<=a)continue;t<o&&(d.x=e.x,d.width=d.width-(o-t)),r>s&&(d.width=d.width-(r-s)),u<a&&(d.y=e.y,d.height=d.height-(a-u)),l>c&&(d.height=d.height-(l-c)),n[i]=d,i++}}}else t&&(n=t);return n};var Xr=function(e,t,n){"use strict";var r=function(e,t){var n=Math.max(e.x,t.x),r=Math.max(e.y,t.y),i=Math.min(e.x+e.width,t.x+t.width)-n,o=Math.min(e.y+e.height,t.y+t.height)-r;return{x:n,y:r,width:i>0?i:0,height:o>0?o:0}},i=function(e,t,n){var i=r(t,e);return r(n,{x:0,y:0,width:i.width,height:i.height})},o=function(e,t){var n=en.isOmidForWeb(),r=!en.isOmidSandboxedEnvironment(),i=n&&r;return{x:i?t.x:e.x+t.x,y:i?t.y:e.y+t.y,width:t.width,height:t.height}},s=function(e,t){return{x:t.x-e.x,y:t.y-e.y,width:t.width,height:t.height}};function a(e,t,n){var r=s(t,n),o=i(e,t,r);return o.width*o.height}var c=function(e){return d(e)?le.IN_VIEW:le.OUT_OF_VIEW},d=function(e){return e>=50};return{calculateGeometricMeasurement:function(r,u){if(ce.isDef(r)&&ce.isDef(u)){var l,m,g=r.viewport,p=r.computedAdContainer,f=p.obstructions,h=r.omidObstructions,v=f&&f.length>0,E=r.originalAdContainer,I=u.adGeometry,S=u.adFound,A=r.detectionMethod,y=0,T={x:0,y:0,width:g.width,height:g.height},O=o(E,I),D=r.outOfViewReason,_=0,C=0,w=v||!1,b=I.width*I.height<=1;return n&&b&&(D=function(e,t){var n=e||"";return t||-1!==n.indexOf(le.OUT_OF_VIEW_REASONS.GEOM)||(n=le.OUT_OF_VIEW_REASONS.GEOM+(""!==n?"."+n:"")),n}(D,S=!1)),S&&r.percentageInView>0?(_=a(T,p,O),C=v?function(t,n,r,a){var c=s(n,r),d=i(t,n,c),u=o(n,d);return e.calculateObstructedArea(u,a)}(T,p,O,f):0,y=Math.round((_-C)/(O.width*O.height)*100),v&&0===C&&(w=!1),m=function(n,r,i,o){var s,c,d,u,l=0,m=t.getConfig(i).numberOfSlices,g=Sn.floor(i.height/m)||1,p=[],f=o?e.getObstructionStatusBySlice(m):[];for(l=0;l<m;l++)u=i.y+g*l,l==m-1&&(g=i.y+i.height-u),c=a(n,r,s={x:i.x,y:u,width:i.width,height:g})/(s.width*s.height)==1,p.push(c);if(o)for(d=Sn.min(f.length,m),l=0;l<d;l++)p[l]=p[l]&&!f[l];return p}(T,p,new on(O).getRoundedGeometry(),w)):m=t.getConfig(I).defaultSliceArray,l={windowDimensions:T,containerDimensions:E,adDimensions:O,percentageInView:y,viewState:c(y),outOfViewReason:d(y)?"":D||le.OUT_OF_VIEW_REASONS.GEOM,detectionMethod:A,isObstructed:w,sliceStatus:m},ce.isDef(h)&&""!==h&&(l.omidObstructions=h),l}}}},zr=function(e,t,n,r){"use strict";var i,o,s,a="geometryMeasurementChanged",c=function(){if(ce.isDef(i)&&ce.isDef(o)){var e=r.calculateGeometricMeasurement(i,o);e.isMeasurable=!0,s=!0,n.trigger(a,e)}},d=function(e){i=e,c()},u=function(e){o=e,c()};return{start:function(){ue.getAggregator().trigger(Ke.AddOutputItem,{output:le.MEDIA_TYPE.DISPLAY_CODE},le.MEDIA_TYPE_CODE,{type:le.IMPRESSION_EVENT}),e.addAdContainerGeometryMeasurementChangedListener(d),e.start(),t.addAdGeometryMeasurementChangedListener(u),t.start()},addMeasurementChangedListener:function(e){n.on(a,e)},getStrategyName:function(){return le.MEASUREMENT_STRATEGY.DISPLAY},isMeasurable:function(){return s}}},Qr=function(e){"use strict";var t,n=[],r=function(e,t){for(var n=o(e,t),r=n.x-e.x,i=n.y-e.y,s=r+n.width,a=i+n.height,c=Math.round(r);c<Math.round(s);c++)for(var d=Math.round(i);d<Math.round(a);d++)void 0!==e.matrix[c]&&void 0===e.matrix[c][d]&&(e.matrix[c][d]=1,e.obscuredPixelCount+=1);return e},i=function(e){for(var t=Math.round(e.width),n=Math.round(e.height),r=new Array(t),i=0;i<t;i++)r[i]=new Array(n);return{matrix:r,obscuredPixelCount:0,x:Math.round(e.x),y:Math.round(e.y),width:t,height:n}},o=function(e,t){var n=Math.max(e.x,t.x),r=Math.max(e.y,t.y),i=Math.min(e.x+e.width,t.x+t.width)-n,o=Math.min(e.y+e.height,t.y+t.height)-r;return{x:n,y:r,width:i>0?i:0,height:o>0?o:0}},s=function(e,t,n){return e+(t-n)},a=function(e,t,n,r){return e==t||n===r-1},c=function(t){if(ce.isUndef(t.matrix)||0===t.matrix.length)return[];for(var n=0,r=!1,i=t.matrix[0].length,o=t.matrix.length,c=e.getConfig({height:i}).numberOfSlices,d=Sn.floor(i/c)||1,u=[],l=0;l<i;l++){r=!1;for(var m=0;m<o;m++)if(1===t.matrix[m][l]){r=!0;break}n++,r&&(l=s(l,d,n),n=d),a(n,d,l,i)&&(u.push(r),n=0,r=!1)}return u};return{calculateObstructedArea:function(e,o){var s,a=o&&o.length>0,d=a?i(e):{},u=0,l=0;if(a){for(;u<o.length;u++)s=o[u],d=r(d,s);l=d.obscuredPixelCount,t=c(d)}else t=n;return l},getObstructionStatusBySlice:function(){return t}}},Zr=function(t,n){"use strict";var r=ue.getAggregator().request(Xe.OmidAdSessionContext);r.geometryChangeEvents=[];var i=null,o=!1,s=Sn.getWindow(),a=s&&s.omid3p,c=!!(a&&ce.isFunction(a.registerSessionObserver)&&ce.isFunction(a.addEventListener))?a:t,d=new ho,u=!1,l=!1,m=function(){var t=Sn.getDoc().getElementById("iasbi"+e.asid);t&&t.hasAttribute("CreativeLoaded")?(r.delayingViewabilityEvents=!1,o=!1,i&&(g(i),i=null)):Sn.setTimeout(m,50)},g=function(e){if(e&&"geometryChange"===e.type&&e.data&&e.data.adView){var t=e.data.adView;if(t.onScreenGeometry&&t.onScreenGeometry.obstructions&&t.onScreenGeometry.obstructions.length>0&&(t.onScreenGeometry.obstructions=Jr(t.geometry,t.onScreenGeometry.obstructions),0===t.onScreenGeometry.obstructions.length&&t.reasons.indexOf("obstructed")>-1&&(t.reasons=t.reasons.filter((e=>"obstructed"!==e)))),t.onScreenContainerGeometry&&t.onScreenContainerGeometry.obstructions&&t.onScreenContainerGeometry.obstructions.length>0&&(t.onScreenContainerGeometry.obstructions=Jr(t.geometry,t.onScreenContainerGeometry.obstructions),0===t.onScreenContainerGeometry.obstructions.length&&t.reasons.indexOf("obstructed")>-1&&(t.reasons=t.reasons.filter((e=>"obstructed"!==e)))),"audio"!==r.creativeType||e.internallyGenerated){var s=u||e.treatAsCached;s&&(r.cachedGeometryEventsReceived||(r.cachedFirstGeometricIndex=r.cachedEvents.length),r.cachedGeometryEventsReceived=!0,r.cachedEvents.push(e));var a=!!(t.measuringElement&&t.containerGeometry&&t.onScreenContainerGeometry);t.hasOwnProperty("pixelsInView")&&(r.pixelsInView=t.pixelsInView);var c=r.cachedStartEventIndex;if(!s&&r.unrecoveredPlayTime&&c>-1&&t.percentageInView>=50&&"audio"!==r.creativeType){var l=Sn.now()-r.cachedEvents[c].timestamp,g=ue.getAggregator().request(Xe.ScreenEvents);g&&g.setRecoveredTimeInSlTimes&&g.setRecoveredTimeInSlTimes(l)}if(r.geometryChangeEvents.length<10&&(r.geometryChangeEvents.push(e.timestamp-te.measurementConfig.birthdate+"."+t.percentageInView),ue.getAggregator().trigger(Ke.AddOutputItem,{output:r.geometryChangeEvents.join("_")},ze.GeometryEventsReceived)),r.delayingViewabilityEvents)i=e,o||(o=!0,m());else{var f=[];t.onScreenGeometry&&t.onScreenGeometry.obstructions&&t.onScreenGeometry.obstructions.length>0&&(!a||t.onScreenContainerGeometry.obstructions&&0!==t.onScreenContainerGeometry.obstructions.length||(t.onScreenContainerGeometry.obstructions=t.onScreenGeometry.obstructions),t.reasons&&t.reasons.indexOf("obstructed")>-1&&t.percentageInView<100&&(t.onScreenGeometry.obstructions=t.onScreenGeometry.obstructions.slice(0,4),ce(t.onScreenGeometry.obstructions).each((function(e,t){f.push(Math.round(t.x)+"."+Math.round(t.y)+"."+Math.round(t.width)+"."+Math.round(t.height))}))));var h=en.isOmidForWeb()?sn.calcWinDims():{width:0,height:0},v=new on(e.data.viewport||h),E=new on(a?t.containerGeometry:t.geometry||{x:0,y:0,width:0,height:0}),I=new on(a?t.onScreenContainerGeometry:t.onScreenGeometry||{x:0,y:0,width:0,height:0}),S={viewport:v.getRoundedGeometry(),originalAdContainer:E.getRoundedGeometry(),computedAdContainer:I.getRoundedGeometry(),percentageInView:t.percentageInView,detectionMethod:le.DETECTION_METHODS.OMID,outOfViewReason:p(t.reasons),omidObstructions:f.join("_")};void 0===r.geometryArrived&&d.checkForViewAttachmentBasedOnAdSessionType(r,e.data.adView)&&(r.geometryArrived=!0,ue.getAggregator().trigger(Ke.OmidRendGeoUpdate)),n.trigger(le.CONTAINER_GEOMETRY_MEASUREMENT_CHANGED,S)}}}},p=function(e){var t={inactive:le.OUT_OF_VIEW_REASONS.FOCUS,viewport:le.OUT_OF_VIEW_REASONS.GEOM,clipped:le.OUT_OF_VIEW_REASONS.GEOM,obstructed:le.OUT_OF_VIEW_REASONS.OBSTRUCTION,backgrounded:le.OUT_OF_VIEW_REASONS.FOCUS,notFound:le.OUT_OF_VIEW_REASONS.HIDDEN,hidden:le.OUT_OF_VIEW_REASONS.HIDDEN,noWindowFocus:le.OUT_OF_VIEW_REASONS.WINDOW,noOutputDevice:le.OUT_OF_VIEW_REASONS.OUTPUT_DEVICE,unmeasurable:le.OUT_OF_VIEW_REASONS.UNMEASURABLE,pictureInPicture:le.OUT_OF_VIEW_REASONS.PICTURE_IN_PICTURE,deviceLocked:le.OUT_OF_VIEW_REASONS.DEVICE_LOCKED},n=[];return e?(ce(e).each((function(e,r){var i=t[r];i&&n.indexOf(n)<0&&n.push(i)})),n.join(".")):""};r.processCachedEvents=function(){if(!l){var e="video"===r.mediaType,t=r.supports&&r.supports.join().indexOf("clid")>-1,n="limited"===r.accessMode,i="full"===r.accessMode,o=n||i&&t,s=!e||r.cachedVideoEventsChecked,a=r.cachedGeometryEventsChecked;if(o&&a&&s&&r.cachedEvents.length>0){var c="o",d="o",u=0,m=0,g=0,p=!e,f=!1,h=Sn.now();if(e){var v=r.cachedStartEventIndex,E=r.cachedFirstGeometricIndex,I=r.cachedEvents[E],S=r.cachedEvents[v];I&&S&&I.timestamp>S.timestamp&&(I.timestamp=S.timestamp)}for(var A=0;A<r.cachedEvents.length;A++){for(var y=h,T=-1,O=0;O<r.cachedEvents.length;O++)!r.cachedEvents[O].alreadyOrdered&&r.cachedEvents[O].timestamp<y&&(y=r.cachedEvents[O].timestamp,T=O);if(-1!==T){var D=r.cachedEvents[T];D.alreadyOrdered=!0,"geometryChange"===D.type&&D.data&&D.data.adView?(u=D.data.adView.percentageInView,f=!0):p="start|firstQuartile|midpoint|thirdQuartile|resume|bufferFinish".indexOf(D.type)>-1,d=u&&u>=50&&p?"i":"o","o"===c&&"i"===d?m=D.timestamp:"i"===c&&"o"===d?g+=D.timestamp-m:"i"===c&&"i"===d&&(g+=D.timestamp-m,m=D.timestamp),c=d}}if(l=!0,"i"===c?g+=h-m:e&&!f&&r.cachedStartEventIndex>-1&&(r.unrecoveredPlayTime=!0),g>0){"audio"===r.creativeType&&(g=Math.min(g,h-I.timestamp)),r.recoveredTime=g;var _=ue.getAggregator().request(Xe.ScreenEvents);_&&_.setRecoveredTimeInSlTimes&&(_.setRecoveredTimeInSlTimes(g),r.recoveredTime=-1)}}}};return{start:function(){u=!0,void 0!==r.impressionViewabilityMeasurement&&g(r.impressionViewabilityMeasurement),c.addEventListener("geometryChange",g),u=!1,r.cachedGeometryEventsChecked=!0,r.cachedGeometryEventsReceived&&r.processCachedEvents(),ue.getAggregator().on(Ke.InternallyGeneratedGeometryEvent,g)},addAdContainerGeometryMeasurementChangedListener:function(e){n.on(le.CONTAINER_GEOMETRY_MEASUREMENT_CHANGED,e)},translateOmidOutOfViewReasons:p}},ei=function(){"use strict";var e=ue.getAggregator().request(Xe.OmidAdSessionContext);return{accepts:function(){return e&&(e.isNative||e.isLimitedSandbox)}}},ti=function(t,n){"use strict";var r=ue.getAggregator().request(Xe.OmidAdSessionContext),i=null,o=!1,s=Sn.getWindow(),a=s&&s.omid3p,c=!!(a&&ce.isFunction(a.registerSessionObserver)&&ce.isFunction(a.addEventListener))?a:t,d=new ho,u=function(){var t=Sn.getDoc().getElementById("iasbi"+e.asid);t&&t.hasAttribute("CreativeLoaded")?(r.delayingViewabilityEvents=!1,o=!1,i&&(l(i),i=null)):Sn.setTimeout(u,50)},l=function(e){if(e&&"geometryChange"===e.type&&e.data&&e.data.adView&&("audio"!==r.creativeType||e.internallyGenerated)){var t=e.data.adView;if(t.onScreenGeometry&&t.onScreenGeometry.obstructions&&t.onScreenGeometry.obstructions.length>0&&(t.onScreenGeometry.obstructions=Jr(t.geometry,t.onScreenGeometry.obstructions),0===t.onScreenGeometry.obstructions.length&&t.reasons.indexOf("obstructed")>-1&&(t.reasons=t.reasons.filter((e=>"obstructed"!==e)))),t.onScreenContainerGeometry&&t.onScreenContainerGeometry.obstructions&&t.onScreenContainerGeometry.obstructions.length>0&&(t.onScreenContainerGeometry.obstructions=Jr(t.geometry,t.onScreenContainerGeometry.obstructions),0===t.onScreenContainerGeometry.obstructions.length&&t.reasons.indexOf("obstructed")>-1&&(t.reasons=t.reasons.filter((e=>"obstructed"!==e)))),r.delayingViewabilityEvents)i=e,o||(o=!0,u());else{var s=e.data.adView.geometry,a=e.data.adView.containerGeometry,c=!!s,l=e.data.adView.measuringElement&&!!a,m=new on({x:c&&l?s.x-a.x:0,y:c&&l?s.y-a.y:0,width:c?s.width:0,height:c?s.height:0}).getRoundedGeometry();m,void 0===r.geometryArrived&&d.checkForViewAttachmentBasedOnAdSessionType(r,e.data.adView)&&(r.geometryArrived=!0,ue.getAggregator().trigger(Ke.OmidRendGeoUpdate)),n.trigger(le.OMID_GEOMETRY_MEASUREMENT_CHANGED,{adGeometry:m,adFound:c})}}};return{start:function(){void 0!==r.impressionViewabilityMeasurement&&l(r.impressionViewabilityMeasurement),c.addEventListener("geometryChange",l),ue.getAggregator().on(Ke.InternallyGeneratedGeometryEvent,l)},addAdGeometryMeasurementChangedListener:function(e){n.on(le.OMID_GEOMETRY_MEASUREMENT_CHANGED,e)}}},ni=function(){"use strict";var e=ue.getAggregator().request(Xe.OmidAdSessionContext);return{accepts:function(){return e&&!e.isNative}}},ri=function(e,t,n){"use strict";var r;var i=function(){var t,i,o,s=e.find(),a=!1;ce.isDef(s)&&null!==s?(o=!0,t={x:(i=s.getBoundingClientRect()).x||i.left,y:i.y||i.top,width:i.width,height:i.height},s.hasOwnProperty("adWasClipped")&&(t.adWasClipped=!0)):(r&&(a=!0,t={x:0,y:0,width:0,height:0}),o=!1),(o&&function(e){return!ce.isDef(r)||!1!==ce(e).compareTo(r)}(t)||a)&&(r=t,n.trigger(le.OMID_GEOMETRY_MEASUREMENT_CHANGED,{adGeometry:t,adFound:o}))};return{start:function(){i(),t.setInterval(i,50)},addAdGeometryMeasurementChangedListener:function(e){n.on(le.OMID_GEOMETRY_MEASUREMENT_CHANGED,e)}}},ii=function(e,t,n,r,i){"use strict";var o,s,a,c,d,u="videoGeometryMeasurementChanged",l=!1,m=!1,g=function(){if(!(ce.isUndef(s)||ce.isUndef(a)||ce.isUndef(c))){d=!0;var e=i.calculateGeometricMeasurement(s,a),t=l&&m,n=l&&e.percentageInView>=50,g={windowDimensions:e.windowDimensions,containerDimensions:e.containerDimensions,adDimensions:e.adDimensions,percentageInView:e.percentageInView,detectionMethod:e.detectionMethod,isMeasurable:!0,isObstructed:e.isObstructed,sliceStatus:e.sliceStatus,isVideoPlaying:l,isVideoPlayingInFullscreen:t,isSoundOn:!0},p=e.omidObstructions;ce.isDef(p)&&""!==p&&(g.omidObstructions=p),t&&(g.percentageInView=100),t||n?g.viewState=le.IN_VIEW:(g.viewState=le.OUT_OF_VIEW,g.outOfViewReason=e.outOfViewReason||le.OUT_OF_VIEW_REASONS.VIDEO),o=g,r.trigger(u,o)}},p=function(e){s=e,g()},f=function(e){a=e,g()},h=function(e){c=e;var t=e.eventType;"AdEnteredFullscreen"===t?m=!0:"AdExitedFullscreen"===t?m=!1:-1!=="AdStarted|AdVideoStart|AdPlaying".indexOf(t)?l=!0:-1!=="AdSkipped|AdUserClose|AdPaused|AdVideoComplete|AdStopped|AdError".indexOf(t)&&(l=!1),g()};return{start:function(){ue.getAggregator().trigger(Ke.AddOutputItem,{output:le.MEDIA_TYPE.VIDEO_CODE},le.MEDIA_TYPE_CODE,{type:le.IMPRESSION_EVENT}),e.addAdContainerGeometryMeasurementChangedListener(p),e.start(),t.addAdGeometryMeasurementChangedListener(f),t.start(),n.addVideoPlaybackEventListener(h),n.start()},getStrategyName:function(){return le.MEASUREMENT_STRATEGY.VIDEO},addMeasurementChangedListener:function(e){r.on(u,e)},isMeasurable:function(){return d}}},oi=function(e,t,n){"use strict";var r;var i=function(){var t,i,o,s=e.find(),a=!1;ce.isDef(s)?(o=!0,t={x:(i=s.getBoundingClientRect()).left,y:i.top,width:i.width,height:i.height},s.hasOwnProperty("adWasClipped")&&(t.adWasClipped=!0)):(r&&(a=!0,t={x:0,y:0,width:0,height:0}),o=!1),(o&&function(e){return!ce.isDef(r)||!1!==ce(e).compareTo(r)}(t)||a)&&(r=t,n.trigger(le.OMID_GEOMETRY_MEASUREMENT_CHANGED,{adGeometry:t,adFound:o}))};return{start:function(){i(),t.setInterval(i,50)},addAdGeometryMeasurementChangedListener:function(e){n.on(le.OMID_GEOMETRY_MEASUREMENT_CHANGED,e)}}},si=function(e,t,n){"use strict";return{accepts:function(){var r=ce(e.mraid).isObj();return n&&(r||t)},isImmediate:function(){return!0},supportsAdContainerGeometry:function(){return!1},start:function(){}}},ai=function(e,t){"use strict";var n="mraidScreenLocationChanged",r="mraid.js",i=!1,o=function(){var r,i,o;try{r=e.mraid.isViewable()?100:0;var s={x:0,y:0,width:0,height:0};o=100===r?[!0]:[!1],i={windowDimensions:s,adDimensions:s,containerDimensions:s,shouldDelegateToDomBasedViewability:!1,isMeasurable:!0,isObstructed:!1,isHidden:!1,percentageInView:r,detectionMethod:le.DETECTION_METHODS.MRAID,sliceStatus:o},t.trigger(n,i)}catch(e){}},s=function(){var t=e.mraid;!0,o(),t.addEventListener("viewableChange",o)},a=function(){var t=e.mraid;(function(){var t=e.mraid;return ce(t).isObj()&&ce.isFunction(t.isViewable)})()&&(i=!0,"loading"===t.getState()?t.addEventListener("ready",(function(){s()})):s())},c=function(){i||a()};return{start:function(){var t;t=!0,(ce.isDef(e.mraid)||sn.containsScriptTagWithSrc(r))&&(t=!1),ue.getAggregator().trigger(Ke.AddOutputItem,{output:ce.stringifyTriState(t)},ze.MRAIDInjectionStatus,{type:le.IMPRESSION_EVENT}),t?ue.getAggregator().trigger(Ke.Exec,r,c):a()},addScreenLocationChangedListener:function(e){t.on(n,e)}}},ci=function(e,t,n){"use strict";var r={};return n&&ce(n).map((function(n,i){var o,s;r[n]=(o=i,s=ce.noop,t.bootstrapOn("useViewabilityNotification")&&(s=function(){e.skipAsFraudulent()||ue.getAggregator().trigger(Ke.Notify,o)}),s)})),{getCallbacks:function(){return r}}},di=function(){"use strict";var t=new fi({tiv:[1e4]}),n=ce([le.IN_VIEW,le.PARTIAL_VIEW_PLUS]);return{timeInViewThresholds:t,type:le.DT_CODES.FULLY_INVIEW,rts:{},isInView:function(e){var t=Sn.max(e.fullPercentInView||0,e.percentInView);return n.contains(e.viewState)&&100===t},applies:function(t,n){return t.on("abcAudit")&&925955==e.anId&&n.usesIASFullyInViewCustomMetric()},minUnit:1e3,shouldIncludeSound:!1}},ui=function(t,n){"use strict";var r,i,o,s=t.on("everySecond"),a=n.isVideo(),c=[1e3,2e3,3e3,4e3,5e3,6e3,7e3,8e3,9e3,1e4,11e3,12e3,13e3,14e3,15e3],d=[1e3,5e3,15e3,3e4,45e3,6e4,9e4],u=[2e3,5e3,15e3],l=function(e,t){var n=t?"viewStateIgnoringRender":"viewState";return-1!==(le.IN_VIEW+"|"+le.PARTIAL_VIEW_PLUS).indexOf(e[n])};return s?(r=new fi({tiv:c}),i=c[0]):a?(r=new fi({tiv:u}),i=u[0]):(r=new fi({tiv:d}),i=d[0]),(o={5e3:e._onInViewMRC5,15e3:e._onInViewMRC15})[i]=e._onInViewMRC,{timeInViewThresholds:r,type:le.DT_CODES.PING,rts:o,isInView:l,isInViewIgnoringRender:function(e){return l(e,!0)},applies:!0,minUnit:1e3,shouldIncludeSound:!1,sendOtherwiseInViewSignal:!0}},li=function(e,t){"use strict";var n,r=e.on("everySecond"),i=t.isVideo(),o=t.usesIASFullyInViewCustomMetric(),s=function(e){var t=Sn.max(e.fullPercentInView||0,e.percentInView);return-1!==(le.IN_VIEW+"|"+le.PARTIAL_VIEW_PLUS).indexOf(e.viewState)&&100===t};return n=new fi(r?{tiv:[1e3,2e3,3e3,4e3,5e3,6e3,7e3,8e3,9e3,1e4,11e3,12e3,13e3,14e3,15e3]}:i?{tiv:[2e3,5e3,15e3]}:{tiv:[1e3,5e3,15e3]}),ue.getAggregator().provide(Xe.IsFullyInViewProvider,{isFullyInView:s}),{timeInViewThresholds:n,type:le.DT_CODES.FULLY_INVIEW,isInView:s,applies:function(){return o},minUnit:1e3,shouldIncludeSound:!1}},mi=function(t,n){"use strict";return{timeInViewThresholds:new fi({tiv:[0]}),type:le.DT_CODES.FULLY_INVIEW,rts:{0:e._onInViewFull},isInView:function(e){var t=Sn.max(e.fullPercentInView||0,e.percentInView);return-1!==(le.IN_VIEW+"|"+le.PARTIAL_VIEW_PLUS).indexOf(e.viewState)&&100===t},applies:function(){return n.usesGroupMCustomMetric()},minUnit:1e3,shouldIncludeSound:!1}},gi=function(t,n){"use strict";var r,i,o,s,a,c,d=Sn.getMaxNumber(),u=n.isVideo(),l=t.id,m=t.sound&&"on"===t.sound,g=!(t.soundExcl&&"groupm_native"===t.soundExcl&&e.groupm_native_publisher)&&m,p=function(e,n){if(!e.adDimensions)return!1;var r,i,o,s,a=n?"percentInViewIgnoringRender":"percentInView",c=e.adDimensions.area(),l=1===e.tabHidden,m=Sn.max(e.fullPercentInView||0,e[a]);return r=ce(t.thresholds).findFirst((function(e,t){if(i=t.lb||0,o=t.ub||d,c>=i&&c<=o)return!0})),s=!l&&m>=r.piv,function(e){return e.method==le.DETECTION_METHODS.AD_PLACEHOLDER}(e)&&function(e){return 0===e.tiv}(t)&&(s=!1),u&&(s=s&&e.isVideoPlaying,g&&(s=s&&e.isSoundOn)),s};return r=new fi(t),i=t.qiv,o={},ce.isDef(e.rts)&&ce.isDef(e.rts[l])&&(a=r&&ce.isFunction(r.getTimeThresholds)&&r.getTimeThresholds()[0],c=ce.isDef(a)?ce.isFunction(a.getTimeInViewForRts)&&a.getTimeInViewForRts():le.RTS_KEY_FOR_VQ,o[c]=e.rts[l]),s=t.minunit?1e3*t.minunit:1e3,{timeInViewThresholds:r,qivThreshold:i,type:le.DT_CODES.CUSTOM,rts:o,isInView:p,isInViewIgnoringRender:function(e){return p(e,!0)},metricId:l,minUnit:s,thresholdType:t.thresholdType,shouldIncludeSound:g,sendOtherwiseInViewSignal:!0}},pi=function(e,t,n){"use strict";var r="groupmCM",i=t.isVideo()?"video":"display",o=t.isMobileApp()?"app":"web",s=t.isDeviceTypeGroupMobile()?"mobile":"desktop",a=ce(e.customViewability).isArray()&&e.customViewability.length>0,c=n.on("customMetric"),d=n.on(r),u=function(e,t){var n,a,c,u;return n=ce(t.mediaTypes).contains(i),a=ce(t.distributionChannels).contains(o),c=!ce.isDef(t.deviceGroups)||ce(t.deviceGroups).contains(s),u=!bn.contains(t.id,"fiv"),bn.contains(t.id,r)&&(u=d),u&&n&&a&&c};return{resolve:function(){var t,n=[];return c&&a&&(t=ce(e.customViewability).filter(u),ce(t).each((function(e,t){n.push(t)}))),n}}},fi=function(e){"use strict";var t=1e3,n=[];if(ce(e.tiv).isArray())ce(e.tiv).each((function(e,t){n.push(new vi(t))}));else if("string"==typeof e.tiv){var r=e.tiv.split("|");if(2===r.length){var i=new hi;n.push(new Ei(i,parseInt(r[1].replace("%")))),n.push(new vi(parseInt(r[0])*t))}else n.push(new vi(parseInt(e.tiv)*t))}else ce.isDef(e.tiv)&&n.push(new vi(e.tiv*t));return{getTimeThresholds:function(){return n}}},hi=function(){"use strict";var e=ue.getAggregator().request(Xe.OmidAdSessionContext).adDuration||-1,t=function(t){if(!n()){var r=ce.isDef(t.ad_duration)?t.ad_duration:t.adRemainingTime;(function(e){return void 0!==e&&e>0})(r)&&(e=Math.ceil(r))}},n=function(){return e>0};return ue.getAggregator().on({omidAdDuration:t,adVideoStart:t,adDurationChange:t}),{getAdDuration:function(){return e},isVideoDurationResolved:n}},vi=function(e){"use strict";var t,n=0;return e>0&&(n=e/1e3),t=1e3*n,{getTimeInViewInSeconds:function(){return n},getTimeInViewForRts:function(){return t}}},Ei=function(e,t){"use strict";var n=0,r=!1,i=function(e){n=0,t>0&&e>0&&(n=Sn.ceil(e*(t/100)))};return i(15),{getTimeInViewInSeconds:function(){return!r&&e.isVideoDurationResolved()&&(r=!0,i(e.getAdDuration())),n},getTimeInViewForRts:function(){return 0}}},Ii=function(e,t,n,r){"use strict";var i=r?"isInViewIgnoringRender":"isInView",o=function(r){e[i](r)?(t.mark(),n.doEligibleJobs(t.getTotalTime())):t.stop()};return{start:function(){e.addMeasurementChangedListener(o)}}},Si=function(e,t,n,r){"use strict";var i,o,s,a,c,d,u=function(e,t){return!t&&e},l=function(e,t,n,r){return!!r||!t&&(e||r)&&n},m=function(e){var u,m=0,p=1===e.tabHidden,f=e.isVideoPlaying,h=e.isSoundOn,v=e.isVideoPlayingInFullscreen;ce(e.sliceStatus).each((function(e,t){s(t,p,f,v)?i[e].mark():i[e].stop(),a[e]=i[e].getTotalTime()})),g("slcVt",a),r&&(ce(e.sliceStatus).each((function(e,t){!function(e,t,n,r,i){return l(e,t,n,r)&&i}(t,p,f,v,h)?o[e].stop():o[e].mark(),c[e]=o[e].getTotalTime()})),g("slcVtVol",c)),d=r&&t&&t.shouldIncludeSound?c:a,u=ce(d).findFirst((function(e,t){return m=Math.max(m,t),t<=0})),ce.isUndef(u)&&n.doEligibleJobs(m)},g=function(e,t){var n={};n[e]=t,ue.getAggregator().trigger(Ke.AddOutputItem,{output:n},{minDt:!1})},p=function(e){ce.isUndef(e.sliceStatus)||(i||function(e){!i&&e.sliceStatus&&(i=[],o=[],a=[],c=[],ce(e.sliceStatus).each((function(e){i.push(new Et(1)),a.push(0),r&&(o.push(new Et(1)),c.push(0))})))}(e),m(e))};return{start:function(){s=r?l:u,e.addMeasurementChangedListener(p)}}},Ai=function(e,t,n){"use strict";return{isInView:e.isInView,isInViewIgnoringRender:e.isInViewIgnoringRender,addMeasurementChangedListener:function(e){t.addMeasurementChangedListener(e,n)}}},yi=function(e,t,n,r,i,o,s,a,c,d){"use strict";var u="measurementChanged",l=!1,m=en.isVideo(),g=o.request(Xe.MobileApp),p=et().applies(n,i),f=n.browserIs(le.BROWSERS.GECKO)||p,h=en.xDomainIframe&&!f,v=new ht(10),E=function(){i.on("viewabilityready")&&!l&&(r.send(le.DT_CODES.VIEWABILITY_READY),o.trigger(Ke.Measurable),l=!0)};o.on(Ke.DelayedViewabilityReady,(function(){I(),E()})),o.on(Ke.DelayedViewabilityReadyCallOnly,E);var I=function(n){n=n||!1;try{var r,i;v.start(),t.hasMeasurementStrategy()?i=(g.isMobileAppEnvironment()||en.isOmidNative())&&t.supportsAdContainerGeometry()?t.getScreenLocationInfo({},n):t.getScreenLocationInfo(a.collect(),n):(i=a.collect(),g.isMobileAppEnvironment()?(i.viewState=le.NA,i.method=le.NA,i.percentInView=le.NA):h&&(i.viewState=le.NA,i.percentInView=le.PIV_NA),m&&d.setVideoSpecificScreenEventFields(i)),r=c.registerLocation(i),n||e.trigger(u,i),v.stop();var l=Sn.round(v.getTime()/v.getCount());return s.addItem({output:l},"lt",{type:le.DT_CODES.UNLOAD}),r}catch(e){o.trigger(Ke.Error,le.ERROR_CODES.CHECK_SCREEN_LOC)}};return{checkScreenLoc:I,stringifyPingTimes:function(){return i.on("everySecond")?"1-2-3-4-5-6-7-8-9-10-11-12-13-14-15":m?"2-5-15":"1-5-15"},isImmediatelyMeasurable:function(){var e=en.xDomainIframe,r=e&&n.browserIs(le.BROWSERS.WEBKIT),i=e&&n.browserIs(le.BROWSERS.MSEDGE),o=!r&&!i&&!(e&&p);return en.isOmid()&&(o=!0),g.isMobileAppEnvironment()?t.isMeasurable():o},requiresDelayedViewabilityEvent:function(){g.isMobileAppEnvironment()&&t.hasMeasurementStrategy()&&t.requiresDelayedViewabilityEvent()},addMeasurementChangedListener:function(t){e.on(u,t)}}},Ti={name:"viewabilityLoopLifecycle",dependencies:[Xe.Viewability,Xe.Features,Xe.Context,Xe.Browser],creator:function(n,r,i,o){"use strict";var s,a=Oi(i),c=[new _i,new Di(a)],d=function(e){"sessionFinish"===e.type&&(ue.getAggregator().trigger(Ke.AddOutputItem,{output:en.getTagTime()},ze.OMIDSessionFinish),ue.getAggregator().trigger(Ke.AdSessionComplete))},u=function(){var e,t=ue.getAggregator().request(Xe.MobileApp).isMobileAppEnvironment();ue.getAggregator().request(Xe.IDS).impressionIsIdentifiable()&&(s=function(e,t){var n,r=t,i=function(t){n||(t&&e(),n=Sn.setInterval(e,r))},o=function(t){n&&(t&&e(),Sn.clearInterval(n),n=null)};return{start:i,stop:o,updateFrequency:function(e,t){r=e,n&&(o(),i(t))}}}(n.checkScreenLoc,a.getPollingFrequency()),(e=ce(c).findFirst((function(e,t){return t.applies(o,r,i)?t:void 0})))?e.start(s):s.start(!0),en.isOmid()?ue.getAggregator().request(Xe.OmidVerificationClient).registerSessionObserver(d,"IAS"):t?l("MOBILE_APP_TEST_EVENT_AD_SESSION_COMPLETE"):(l("beforeunload"),m("pagehide")))},l=function(e){tn.addEvent(t,e,(function(){ue.getAggregator().trigger(Ke.AdSessionComplete)}),!1)},m=function(e){tn.addEvent(t,e,(function(){ue.getAggregator().trigger(Ke.AltAdSessionComplete),ue.getAggregator().trigger(Ke.AdSessionComplete)}),!1)},g=function(){i.isVideo()&&!i.isOmid()&&p(),ue.getAggregator().trigger(Ke.Unload),s&&s.stop(),ue.getAggregator().trigger(Ke.EndAdSession),ue.getAggregator().trigger(Ke.StopAdTalk)},p=function(){var t=new nn(le.DT_CODES.VIDEO_EVENTS);ue.getAggregator().trigger(Ke.SendDt,t.callType,t.enumerator,(function(){var t={id:e.videoId,msg:"unloadComplete",messageType:"misc"};Sn.getWindow().postMessage(JSON.stringify(t),"*")}))};ue.getAggregator().once(Ke.StartViewabilityLoop,u),ue.getAggregator().once(Ke.AdSessionComplete,g)},settings:{tier:le.TIERS.VIEWABILITY}},Oi=function(e){"use strict";return{getPollingFrequency:function(){return e.isVideo()?200:100},getOptimizedPollingFrequency:function(){return 1e3}}},Di=function(e){"use strict";var t,n,r,i,o,s=!0,a=function(c){if(r&&!o&&c<1)return o=!0,void Sn.setTimeout((function(){a(c)}),1e3);i=c<1,!n&&i?(n=!0,t.updateFrequency(e.getOptimizedPollingFrequency(),s)):n&&!i&&(n=!1,t.updateFrequency(e.getPollingFrequency(),s))},c=function(e){a(e.percentInView)};return{applies:function(e,t,n){var i=t.on("viewabilityOptimization");return r=n.usesZeroPivCustomMetric(),i},start:function(e){(t=e).start(s),ue.getAggregator().on(Ke.IoPivChange,a),ue.getAggregator().on(Ke.NewScreenEvent,c)}}},_i=function(){"use strict";var e,t,n,r=!0,i=!1,o=function(s){return n&&!i&&s<1?(i=!0,void Sn.setTimeout((function(){o(s)}),1e3)):(s<1?(e||t.stop(r),e=!0):e&&(e=!1,t.start(r)),e)},s=function(){t.start(r)};return{applies:function(e,t,r){n=r.usesZeroPivCustomMetric();var i=et();return t.on("viewabilityOptimization")&&i.applies(e,t,r)&&r.isDeviceTypeGroupMobile()},start:function(e){(t=e).start(r),ue.getAggregator().on(Ke.IoPivChange,o),ue.getAggregator().on(Ke.NodesAdded,s)}}},Ci=function(r,i,o,s,a,c,d){"use strict";var u,l,m,g,p,f,h,v,E,I,S=sn.getElementsWindow(i),A=(ue.getAggregator().provide(Xe.IframeCalculatorHelper,zi(S)),Yi(i,s)),y=le.AD_IDENTIFIER+"-"+e.asid,T=!1,O=on({}),D=en.isDeviceTypeGroupMobile(),_=en.usesGroupMCustomMetricMobilePassThru(),C=function(){return u||(u=A.calcDims(i,s,m),e.autotagSizeSet&&e.adWidth>1&&e.adHeight>1&&(u.set("width",e.adWidth),u.set("height",e.adHeight)),w()?b(u):o===le.DETECTION_METHODS.AD_PLACEHOLDER&&u.treatAsPlaceholder()),u},w=function(){return o===le.DETECTION_METHODS.VIDEO&&en.embedded},b=function(e){var t=new on(i).getRounded();try{e.set("width",t.width),e.set("height",t.height)}catch(e){ue.getAggregator().trigger(Ke.Error,le.ERROR_CODES.VIDEO_IN_IFRAME_DIMS_CALC)}},$=function(){return!1},N=function(){var e,n=P(),i=A.getClippedDims&&(w()||en.isCeltra());return n?l=m.getPiv():ce.isUndef(l)&&(e=!D&&(en.friendly||ce.isDef(t.mozInnerScreenX))&&a.on("offscreen"),v=C(),h=new on(sn.calcWinDims()),f=new on(e?sn.calcMonDims():{}),E=i?A.getClippedDims():O,l=r.calcPercentInView(v,h,f,E)),l},R=function(){return r.calcInitialViewState(N())},M=function(){return i!==t&&C().isHidden()},P=function(){var e=!!m,t=en.xDomainIframe&&T,n=D&&T&&m.isReady(),r=en.isPageOnShadowDomWhitelist();return e&&(r||t||n)};return function(){var e=Sn.getWindow(),t=Sn.getDoc(),n=i===e,s=t.body,a=ue.getAggregator(),c=new et,u=a.request(Xe.Browser),l=a.request(Xe.Features),f=a.request(Xe.Context),h=!en.xDomainIframe,v=n&&s?t.body:i;if(I=en.friendlyIframe&&!d?e.frameElement:v,tn.addEvent(v,"pointerdown",(function(e){ue.getAggregator().trigger(Ke.AdComponentPointerDown,e)})),tn.addEvent(v,"pointerup",(function(e){ue.getAggregator().trigger(Ke.AdComponentPointerUp,e)})),tn.addEvent(v,"click",(function(e){ue.getAggregator().trigger(Ke.AdComponentClicked,e)})),tn.addEvent(window,"blur",(function(e){ue.getAggregator().trigger(Ke.Blur,e)})),tn.addEvent(v,"touchstart",(function(e){ue.getAggregator().trigger(Ke.AdComponentTouchStart,e)})),tn.addEvent(v,"touchend",(function(e){ue.getAggregator().trigger(Ke.AdComponentTouchEnd,e)})),tn.addEvent(v,"mouseover",(function(e){ue.getAggregator().trigger(Ke.AdComponentMousedOver,e)})),tn.addEvent(v,"mouseout",(function(e){ue.getAggregator().trigger(Ke.AdComponentMousedOut,e)})),c.applies(u,l,f)){if((m=mr(i,h)).start(),T=!0,_&&o!==le.DETECTION_METHODS.AD_PLACEHOLDER){var E=new co(C().getRounded()),S=new po,A=new fo(m.getObservedNode(),S);g=new lo(E.getSlices(),A)}}else _&&(p=new mo(r))}(),{mark:function(){sn.setAttributeOf(I,y,"")},cleanup:function(){sn.removeAttributeOf(I,y)},isNode:function(e){return i===e},isHidden:M,isObstructed:$,getDims:C,getPercentInView:N,getLocationState:R,getOnPageViewability:function(){return M()?le.OUT_OF_VIEW:R()},getDetectionMethod:function(){return o},getContainerDims:function(){return A.allowsOptimization?u:on(s)},refresh:function(){u=void 0,l=void 0,f=void 0,h=void 0,v=void 0,E=void 0,c&&function(){var e,r;if(!en.isDomless()&&(r=i.parentNode)){for(;i!==t&&r&&r!==n&&!e;)e=r===s,r=r.parentNode;e||(s=i.parentNode)}}()},getAdNode:function(){return i},getSliceStatus:function(){var e;return g&&g.isReadyToMeasure()?e=g.getSliceStatus():en.friendly&&p&&ce.isDef(v)&&(e=p.getSliceStatus(v,h,f,E)),e}}},wi=function(e,t){"use strict";var n,r=[],i=ce([]),o=function(){return r[0]&&r[0].getDetectionMethod()===le.DETECTION_METHODS.AD_PLACEHOLDER},s=function(s,a,c,d,u){var l,m=o()||0===r.length,g=Ci(e,s,a,c,t,d,u);o()&&(l=r.shift(),i=ce(r),l.cleanup(),n=void 0),r.push(g),i=ce(r),m&&g.mark(),m&&a!==le.DETECTION_METHODS.AD_PLACEHOLDER&&ue.getAggregator().trigger(Ke.PrimaryAdFound,g)},a=function(){if(n)return n;var e,t=!1,r=0,o=0;return i.each((function(n,i){var s,a=i.getDims();a.hasValidDims()&&(e=i.getPercentInView(),t=e!==le.NA,s=a.area(),r+=s,o+=e/100*s)})),n={totalArea:r,totalInView:o,hasMeasurement:t}},c=function(e){var t=ue.getAggregator().request(Xe.AdRenderStatus);return!e&&!t},d=function(e){var t,n=a();return t=n.hasMeasurement?Sn.round(n.totalInView/n.totalArea*100):le.PIV_NA,(isNaN(t)||c(e))&&(t=0),t},u=function(n){var r=t.bootstrapOn(ze.MobOrTab),i=a().totalArea>=le.MRC_LARGE_AD_SIZE&&t.on("largeAd")&&!r&&!en.isVideo();return e.calcInitialViewState(d(n),i)},l=function(e){var t=-1;return i.each((function(n,r){r.isNode(e)&&(t=n)})),t},m=function(e){return function(){return r[0]&&r[0][e]()}},g=function(e){ce(e).each((function(e,t){const n=-1===l(t),r="object"==typeof t&&"IMG"===t.nodeName&&1===t.height&&1===t.width;n&&!r&&s(t,le.DETECTION_METHODS.MUTATION)}))};return ue.getAggregator().on(Ke.AdComponentAdded,g),ue.getAggregator().on(Ke.AdComponentRemoved,(function(e){ce(e).each((function(e,t){var n=l(t);n>-1&&r.splice(n,1)}))})),{addNodeToAdComponents:g,getDims:m("getDims"),isObstructed:m("isObstructed"),getDetectionMethod:m("getDetectionMethod"),getContainerDims:m("getContainerDims"),getViewState:u,getViewStateIgnoringRender:function(){return u(!0)},getPercentInView:d,getPercentInViewIgnoringRender:function(){return d(!0)},isHidden:m("isHidden"),isUsingPlaceholder:o,hasAd:function(){return!!r.length},refresh:function(){n=void 0,i.each((function(e,t){t.refresh()}))},addAdComponent:s,clearCollection:function(){i.each((function(e,t){t.cleanup()})),r=[],i=ce([]),n=void 0},getOutOfViewReasons:function(e){var t,i=[],o=r[0],s=le.OUT_OF_VIEW_REASONS;return o&&(t=n||u(),c(e)?i.push(s.RENDER):t!==le.OUT_OF_VIEW&&t!==le.PARTIAL_VIEW_MINUS||i.push(s.GEOM),o.isHidden()&&i.push(s.HIDDEN),o.isObstructed()&&i.push(s.OBSTRUCTION)),i},getComponentCount:function(){return r.length},getComponents:function(){return r},getSliceStatus:m("getSliceStatus")}},bi=function(){"use strict";var e,t,n,r=function(e){e?e&&n&&(Sn.execAtEndOfThread((function(){ue.getAggregator().trigger(Ke.DelayedViewabilityReadyCallOnly)})),n=!1):n=!0};return{detectionMethod:function(){return t&&t.detectionMethod},isApplicable:function(e){return e.isBustedIframe()},find:function(){t=t||Fi();var n=sn.crossQuerySelector(Fi().getCssSelector(),!0);return e=n?n.parentNode:e,r(n),n},getAdContainer:function(){return e},allowForAdContainerChange:!0,noIframeAdNode:function(){return t&&t.noIframeAdNode}}},$i=function(t,n){"use strict";var r,i=t||e.contextNode.parentNode,o=sn.findChildWithLargestContent(i,n);return sn.getNodeArea(o)>1&&!o[le.IAS_DETECTOR]&&(r=o),r},Ni=function(){"use strict";var e=ue.getAggregator().request(Xe.OmidAdSessionContext);return{usePlaceholder:!0,detectionMethod:le.DETECTION_METHODS.OMID,isApplicable:function(){return en.isOmidForWeb()&&!en.isOmidNative()},find:function(){return e.element||e.queuedOutputItems.push({code:"oea",value:!0}),e.element},getAdContainer:function(){return e.element&&e.element.parentNode},allowForAdContainerChange:!0}},Ri=function(){"use strict";return{detectionMethod:le.DETECTION_METHODS.IFRAME,find:function(){return t},isApplicable:function(){return en.embedded},getAdContainer:function(){return e.contextNode.parentNode},allowForAdContainerChange:!0}},Mi=function(){"use strict";var e,t=Sn.getDoc().scripts,n=function(){return e||(e=ce(t).findFirst((function(e,t){return bn.contains(t.src,"servedby.flashtalking")}))),e};return{detectionMethod:le.DETECTION_METHODS.BUSTED_IFRAME_FLASHTALKING,isApplicable:function(e,t){return t.on("bustediframe")&&e.embedded&&void 0!==n()},getCssSelector:function(){var t,r=function(){var t,r=e||n();return r&&r.src&&(t=r.src.match(/;(\d+);/)[1]),t}(),i="#ftdiv"+r,o="#ftframe"+r;try{t=ce([i,o]).findFirst((function(e,t){return sn.crossQuerySelector(t,true)}))}catch(e){}return t}}},Pi=function(){"use strict";var e="_tpi";return{isApplicable:function(t,n){var r;try{r=sn.getFrameId()}catch(e){}return n.on("yieldmo")&&r&&bn.contains(r,e)&&sn.crossQuerySelector("[data-href*='ads.yieldmo.com']",!0)},getCssSelector:function(){return"[id='"+sn.getFrameId().replace(e,"")+"']"},detectionMethod:le.DETECTION_METHODS.BUSTED_IFRAME_YIELDMO}},xi=function(){"use strict";var e,t,n=Sn.getDoc(),r=function(){var t,r,i="ebDiv";return e||(r=(t=sn.querySelector(n,"div[id*='ebDiv']"))&&t.id,e=r&&r.split(i)[1]),e},i=function(){var e=sn.crossQuerySelector("iframe[id*='ebAd'][id$='"+r()+"']",!0);return e&&e.id},o=function(){var e,n;return t||(e=i()?i():(n=sn.crossQuerySelector("iframe[id*='ebBannerIFrame_'][id$='"+r()+"']",!0))&&n.id,t=e&&"#"+e),t};return{detectionMethod:le.DETECTION_METHODS.BUSTED_IFRAME_SIZMEK,isApplicable:function(e,t){var n,i,s=Sn.getWindow(),a=e.friendlyIframe&&Sn.getWindow().frameElement,c=a&&on(a).isOneByOne(),d=(n=["bs.serving-sys.com/BurstingPipe/adServer","secure-ds.serving-sys.com/BurstingCachedScripts"],i=Sn.getDoc().scripts,ce(i).findFirst((function(e,t){return ce(n).findFirst((function(e,n){return bn.contains(t.src,n)}))}))),u=s.EBG&&s.EBG.ads&&!ce(s.EBG.ads).isEmpty();return t.on("sizmek")&&d&&u&&c&&r()&&o()},getCssSelector:o}};const Vi=function(){"use strict";let e;const t=()=>{const e=Sn.getWindow(),t=e.IAS_OGURY_CONFIG&&e.IAS_OGURY_CONFIG.REVEAL_DIV_ID;return t?"[id='"+t+"']":""};return{isApplicable:()=>!!t(),getCssSelector:t,detectionMethod:le.DETECTION_METHODS.BUSTED_IFRAME_OGURY,find:()=>{const t=Sn.getWindow(),n=t.IAS_OGURY_CONFIG&&t.IAS_OGURY_CONFIG.REVEAL_DIV_ID;let r;if(n)try{const t=Sn.getTop();if(t&&t.document){const i=t.document.getElementById(n);e=i||void 0,r=e}}catch(e){}return r},getAdContainer:()=>e,allowForAdContainerChange:!1,noIframeAdNode:!0}};var Fi=function(){"use strict";var e,t=ue.getAggregator().request(Xe.Features);return e||(e=[xi(),Pi(),Vi(),Mi()]),ce(e).findFirst((function(e,n){return n.isApplicable(en,t)}))},Li=function(){"use strict";var e,t=function(){Sn.execAtEndOfThread((function(){ue.getAggregator().trigger(Ke.DelayedViewabilityReadyCallOnly)}))};return{usePlaceholder:!1,detectionMethod:le.DETECTION_METHODS.VENDOR_CELTRA,isApplicable:function(e,t){return t.on("celtra")&&e.isCeltra()},find:function(){var n,r=Ui().find();return r&&r.celtra&&r.celtra.loaded&&(n=r.celtra.viewabilityObservee,e=sn.getElementsWindow(n).frameElement||n.parentNode,t()),n},getAdContainer:function(){return e},allowForAdContainerChange:!1}},Ui=function(){"use strict";var t,n="celtra-ad-v3",r="celtra-ad-v4",i=function(){var i,o=e.contextNode.parentNode;return o&&(bn.contains(o.className,n)||bn.contains(o.className,r))?t=o:(i=o&&(sn.querySelector(o,".celtra-ad-v3")||sn.querySelector(o,".celtra-ad-v4")))&&(t=i),t};return{find:i,isApplicable:function(){return void 0!==i()}}},ki=function(){"use strict";var t=ue.getAggregator().request(Xe.MobileApp);return{usePlaceholder:!0,detectionMethod:le.DETECTION_METHODS.AD_HUNT,isApplicable:t.isMobileAppEnvironment,find:function(){return(e=sn.findChildWithLargestContent(Sn.getDoc().body))&&e.hasValidSizeForMobileApp&&!e[le.IAS_DETECTOR]?e:void 0;var e},getAdContainer:function(){return e.contextNode.parentNode},allowForAdContainerChange:!0}};const ji=new class{constructor(){this.cachedIsFoundOnPage=!1}getDocument(){let e;try{e=Sn.getDoc()}catch(e){}return e}hasBrowserSupport(){let e=!1;const t=this.getDocument(),n=!en.isDomless(),r=!(!t||"function"!=typeof t.body.attachShadow);return n&&r&&(e=!0),e}isFoundOnPage(e){const t=Sn.getDoc(),n=e||t.body;let r=!1;if(this.cachedIsFoundOnPage)r=!0;else if(this.hasBrowserSupport())if(n.shadowRoot)r=!0,this.cachedIsFoundOnPage=!0;else{const e=n.querySelectorAll("*");for(let t=0;t<e.length;t++){const n=e[t];if(n&&n.shadowRoot){r=!0,this.cachedIsFoundOnPage=!0;break}}}else r=!1;return r}findElement({root:e,selector:t}){var n;if("matches"in e&&(null===(n=e.matches)||void 0===n?void 0:n.call(e,t))&&e.matches(t))return e;if("shadowRoot"in e&&e.shadowRoot){const n=this.findElement({root:e.shadowRoot,selector:t});if(n)return n}for(const n of e.children){const e=this.findElement({root:n,selector:t});if(e)return e}return null}querySelector({customRootElement:e,selector:t}){const n=Sn.getDoc(),r=e||n.body;return this.findElement({root:r,selector:t})}};var Wi=function(){"use strict";var t,n=function(e){var t=ce.isFunction(e.contextNode.getAttribute)&&e.contextNode.getAttribute("data-ias-container");return t&&"#"+t||e._cl_adpath},r=function(){var t=ue.getAggregator().request(Xe.Features),n=e&&4===e.integration;return!t.on("forceKeepGoogleAdNode")||!n};return{getAdSelectorId:n,detectionMethod:le.DETECTION_METHODS.SPECIFIED_AD,isApplicable:function(){return en.isSpecifiedAd()},find:function(){var i=n(e),o=sn.crossQuerySelector(i),s=en.isPageOnShadowDomWhitelist(),a=function(e){return r()&&sn.getNodeArea(e)<1}(o);return o?(t=sn.getParent(o),a&&(t=o,o=sn.findElementsWithSize(o))):s&&ji.isFoundOnPage()&&(o=ji.querySelector({selector:i}),t=sn.getParent(o)),o},getAdContainer:function(){return t},allowForAdContainerChange:!0,shouldValidateAdNode:r}},Gi=function(){"use strict";var t;return{detectionMethod:le.DETECTION_METHODS.SPECIFIED_AD_COMPOUND,isApplicable:function(){return en.isCompoundAd()},find:function(){var n,r,i=[];return(n=e._cl_adpath,/\[(.*)\]/.exec(n)[1].split(",")).forEach((function(e){(r=sn.crossQuerySelector(e))&&(t=sn.getParent(r),sn.getNodeArea(r)<1&&(t=r,r=sn.findElementsWithSize(r))),i.push(r)})),i},getAdContainer:function(){return t},allowForAdContainerChange:!0}},Bi=function(){"use strict";return{usePlaceholder:!0,detectionMethod:le.DETECTION_METHODS.AD_HUNT,isApplicable:function(){return!0},find:$i,getAdContainer:function(){return e.contextNode.parentNode},allowForAdContainerChange:!0}},Hi=function(){"use strict";return{detectionMethod:le.DETECTION_METHODS.VIDEO,find:ue.getAggregator().request(Xe.Video).findAdNode,isApplicable:en.isVideo,getAdContainer:function(){return e.contextNode.parentNode},allowForAdContainerChange:!0}},Yi=function(e,t){"use strict";var n,r,i=[Ji(),Ki(),qi()];return r=ce(i).findFirst((function(n,r){return r.isApplicable(e,t)})),(n=Xi()).isApplicable(t)&&(n.setBaseStrategy(r),r=n),r},qi=function(){"use strict";return{calcDims:function(e,t){var n,r,i=new on(e);return sn.isClippable(e,t)&&(n=sn.getClippedDimensions(e,t),r=i.getRounded(),i.set("height",n.height<r.height?n.height:r.height||1),i.set("width",n.width<r.width?n.width:r.width||1)),i},allowsOptimization:!1,isApplicable:function(e){var t=(en.isSpecifiedAd()||en.isBustedIframe())&&sn.nodeIsInWindow(e,Sn.getTop()),n=!sn.elementIsEmbedded(e);return t||n}}},Ki=function(){"use strict";var e=ue.getAggregator().request(Xe.IframeCalculatorHelper);return{calcDims:e.calcDims,getClippedDims:e.getClippedDims,allowsOptimization:!0,isApplicable:function(e){return!(en.isSpecifiedAd()||en.isBustedIframe())&&sn.elementIsEmbedded(e)}}},Ji=function(){"use strict";var e=ue.getAggregator().request(Xe.IframeCalculatorHelper);return{calcDims:function(t){var n=e.calcDims(),r=new on(t).getRounded();return n.set("height",r.height),n.set("width",r.width),n},getClippedDims:e.getClippedDims,allowsOptimization:!1,isApplicable:function(e,t){var n=(en.isSpecifiedAd()||en.isBustedIframe())&&en.embedded&&!sn.nodeIsInWindow(t,Sn.getTop()),r=en.isCeltra()&&sn.elementIsEmbedded(e);return n||r}}},Xi=function(){"use strict";var e;return{calcDims:function(t,n,r){var i=ce.isDef(r)?r.getAdNodeDimensions():void 0;return e&&ce.isUndef(i)&&(i=e.calcDims(t,n)),i},isApplicable:function(e){var t=et(),n=ue.getAggregator(),r=n.request(Xe.Browser),i=n.request(Xe.Features),o=n.request(Xe.Context),s=en.isPageOnShadowDomWhitelist();return(o.isDeviceTypeGroupMobile()||s)&&t.applies(r,i,o)},allowsOptimization:!1,setBaseStrategy:function(t){e=t}}},zi=function(e){"use strict";e=e||Sn.getWindow();var t=function(n,r){n=n||e,r=r||{top:0,left:0,width:Sn.getMaxNumber(),height:Sn.getMaxNumber()};for(var i,o=n.parent.frames,s=!1,a=0,c=o.length;a<c;a++)if(o[a]==n){i=o[a],s=!0;break}if(s){var d=sn.getRect(i.frameElement);r.left+=d.left,r.top+=d.top;try{r.width=Sn.min(r.width,d.width),r.height=Sn.min(r.height,d.height)}catch(e){ue.getAggregator().trigger(Ke.Error,le.ERROR_CODES.GET_AD_DIMENSIONS)}n!==Sn.getTop()&&t(n.parent,r)}return r},n=function(){var n,r,i,o,s,a,c,d,u,l,m,g={};try{l=Sn.getMaxNumber(),m=Sn.getMaxNumber(),en.friendly?(a=(o=t()).left,c=o.top,l=o.width,m=o.height,d=(s=sn.browserWindowPosition()).scrX+a,u=s.scrY+c):ce.isDef(e.mozInnerScreenX)&&(d=Sn.round(e.mozInnerScreenX),u=Sn.round(e.mozInnerScreenY)),g={scrX:d,scrY:u,iFrameClippingWidth:l,iFrameClippingHeight:m},ce.isDef(e.innerWidth)?(r=e.innerWidth,i=e.innerHeight):e.frameElement&&ce.isDef(e.frameElement.clientWidth)&&(r=e.frameElement.clientWidth,i=e.frameElement.clientHeight),n={width:r,height:i},g.height=n.height,g.width=n.width}catch(e){ue.getAggregator().trigger(Ke.Error,le.ERROR_CODES.GET_AD_DIMENSIONS)}return g};return{calcDims:function(){return new on(n())},getClippedDims:function(){var e=n();return new on({scrX:e.scrX,scrY:e.scrY,width:e.iFrameClippingWidth,height:e.iFrameClippingHeight})}}},Qi=function(){"use strict";return{createInstance:function(e,t,n){return en.isDomless()?new eo:new Zi(e,t,n)}}},Zi=function(r,i,o){"use strict";var s,a,c=ue.getAggregator().request(Xe.Browser),d=e&&e.contextNode&&e.contextNode.parentNode?e.contextNode.parentNode:null,u=wi(i,o),l=function(){var e,t,n,r,i;s=s||function(e,t){var n=te&&te.measurementConfig&&te.measurementConfig.tagDeliveryType,r=e.isBustedIframe()&&n===J.Iframe,i=[Gi(),Wi()],o=[Ni(),ki(),Hi(),bi(),Li(),Ri()],s=i.concat(o);return r?s.unshift(Bi()):s.push(Bi()),ce(s).findFirst((function(n,r){return r.isApplicable(e,t)}))}(en,o),e=s.find(),en.friendlyIframe&&en.isBlockingSizmekTag()&&h(e),!e&&s.usePlaceholder?(m(),p()):e&&(n=ce(e).isArray()?e:[e],t=s.getAdContainer(),r=s.allowForAdContainerChange,i=s.noIframeAdNode&&s.noIframeAdNode(),ce(n).each((function(e,n){u.addAdComponent(n,ce.resolve(s.detectionMethod),t,r,i)})))},m=function(){var t;u.hasAd()||(t=sn.getPlaceholderSpan(),d.insertBefore(t,e.contextNode.nextSibling),u.addAdComponent(t,le.DETECTION_METHODS.AD_PLACEHOLDER,sn.getParent(t)))},g=function(e,t){var n=!1;ce(e).each((function(e,t){t.addedNodes&&t.addedNodes.length>0&&(n=!0)})),n&&(ue.getAggregator().trigger(Ke.NodesAdded),t.disconnect())},p=function(){en.isDeviceTypeGroupMobile()&&c.hasMutationObserver()&&Sn.getMutationObserver(g).observe(d,{childList:!0})},f=function(e,t){var n,r=!1;ce(e).each((function(e,t){switch(t.type){case"childList":ce(t.addedNodes).each((function(e,t){t.nodeName&&"script"===t.nodeName.toLowerCase()&&(r=!0)}));break;case"attributes":t.target.height*t.target.width<=1&&(r=!0)}})),r&&((n=xi()).isApplicable(en,o)&&(t.disconnect(),s=bi(),u.clearCollection(),ue.getAggregator().trigger(Ke.NodesAdded)),setTimeout((function(){n.isApplicable(en,o)&&(t.disconnect(),s=bi(),u.clearCollection(),ue.getAggregator().trigger(Ke.NodesAdded))}),0))},h=function(e){var t,n;if(!a&&c.hasMutationObserver()&&sn.isWindow(e))try{a=Sn.getMutationObserver(f),t=e&&e.frameElement,n=e&&e.document&&e.document.body,a.observe(t,{attributes:!0,attributeFilter:["height","width"]}),a.observe(n,{childList:!0,subtree:!0})}catch(e){}};return function(e){var r=!1;if(!ce.isUndef(t.MutationObserver)){var i=new t.MutationObserver((function(e){Sn.execAtEndOfThread((function(){r&&ce(e).each((function(e,t){t.addedNodes.length&&ue.getAggregator().trigger(Ke.AdComponentAdded,t.addedNodes),t.removedNodes.length&&ue.getAggregator().trigger(Ke.AdComponentRemoved,t.removedNodes)}))}))})),o=function(){r=!0,Sn.setTimeout((function(){r=!1}),40)};ue.getAggregator().on(Ke.AdComponentClicked,o),ue.getAggregator().on(Ke.AdComponentTouchEnd,o),ue.getAggregator().on(Ke.AdComponentMousedOver,o),ue.getAggregator().on(Ke.AdComponentClicked,Lr.adComponent.trackClick),ue.getAggregator().on(Ke.AdComponentMousedOver,Lr.adComponent.trackMouseOver),ue.getAggregator().on(Ke.AdComponentMousedOut,Lr.adComponent.trackMouseOut),ue.getAggregator().on(Ke.AdComponentTouchEnd,Lr.mobile.trackTouchEnd),ue.getAggregator().on(Ke.AdComponentTouchStart,Lr.mobile.trackTouchStart),ue.getAggregator().on(Ke.Blur,Lr.adComponent.trackBlur),ue.getAggregator().on(Ke.AdComponentPointerDown,Lr.mobile.trackPointerDown),ue.getAggregator().on(Ke.AdComponentPointerUp,Lr.mobile.trackPointerUp),tn.addEvent(t,Je.BEFORE_UNLOAD,Lr.finalizeAllCollectedData,!1),tn.addEvent(t,Je.PAGE_HIDE,Lr.finalizeAllCollectedData,!1),tn.whenReady((function(){try{i.observe(n.body,{attributes:!0,childList:!0,characterData:!0})}catch(t){e.add(le.ERROR_CODES.AC_WATCHER)}}),Sn.getDoc())}}(r),{find:function(){return u.isUsingPlaceholder()||!u.hasAd()?l():u.refresh(),u},getDetectionMethod:function(){}}},eo=function(){"use strict";var e=function(){return null};return{find:e,getDetectionMethod:e}},to=function(e){"use strict";var t=new oo,n=new so,r=_t().getUserAgent().toLowerCase(),i=function(){var e,t=["FBAN","FBAV","Twitter","Instagram","Flipboard","Snapchat","LinkedInApp","Pinterest"],n=!1;for(e=0;e<t.length;e++)if(r.indexOf(t[e].toLowerCase())>-1){n=!0,ue.getAggregator().trigger(Ke.AddOutputItem,{output:t[e].substring(0,2)},ze.Mapp1ExclusionListMatch,{type:le.IMPRESSION_EVENT});break}return n};return function(){var r="",o=ue.getAggregator().request(Xe.OmidAdSessionContext),s=en.isDomless()||o&&"app"===o.environment,a=o&&"web"===o.environment,c=e.bootstrapOn(ze.MobOrTab),d=e.bootstrapOn(ze.MobAppWebview),u=e.bootstrapOn(ze.MobApp),l=c&&d||u;try{s||!a&&l&&!i()?(r=t.detect(),t.hasDetectedMobileApp()&&("s_serv"!==r&&"u_cars"!==r||(ao[ao.length-1].detectionRules.userAgent[0]="/"),n.detect(),ue.getAggregator().trigger(Ke.AddOutputItem,{output:"1"},ze.MobileAppEnvironment,{type:le.IMPRESSION_EVENT}),ue.getAggregator().trigger(Ke.AddOutputItem,{output:r},ze.MatchedMobileAppDetectionRule,{type:le.IMPRESSION_EVENT}))):a&&ue.getAggregator().trigger(Ke.AddOutputItem,{output:"a_oweb"},ze.MatchedMobileAppDetectionRule,{type:le.IMPRESSION_EVENT})}catch(e){ue.getAggregator().trigger(Ke.Error,le.ERROR_CODES.MOBILE_APP)}}(),{excludedByUserAgent:i,isMobileAppEnvironment:function(){return t.hasDetectedMobileApp()},isSafeToInjectMraid:function(){return n.isSafeToInjectMraid()}}};const no={url:{STRINGIFIED_METHOD:"u",detect:function(r){"use strict";var i;if(en.isDomless())return!1;const o=Sn.getWindow().location.href,s=[o];try{s.push(top.location.href)}catch(e){}try{s.push(parent.location.href)}catch(e){}if(en.embedded){try{s.push(parent.document.referrer)}catch(e){}try{s.push(n.referrer)}catch(e){}}try{"jsi"!==(null===(i=te.adTag)||void 0===i?void 0:i.tagType)&&s.push(t.location.href)}catch(e){}try{s.push(e.jsref)}catch(e){}return s.sort((function(e,t){return e.length>t.length?1:e.length<t.length?-1:0})),!!ce(r).findFirst((function(e,t){let n,r,i=!1;const a="mobfox"===t?s:[o];for(r=0;r<a.length;r++){n=a[r];const e="string"==typeof t?[t]:t;if(ce(e).isArray()&&e)for(let t=0;t<e.length&&(i=n.indexOf(e[t])>-1,!1!==i);t++);if(i)break}return i}))}},userAgent:{STRINGIFIED_METHOD:"a",detect:function(e){"use strict";return!en.isDomless()&&!!ce(e).findFirst((function(e,t){let n=!1;const r=_t().getUserAgent();return"string"==typeof t&&(n=-1!==r.indexOf(t)),n}))}},javascript:{STRINGIFIED_METHOD:"j",detect:function(e){"use strict";return!!ce(e).findFirst((function(e,t){let n=!1;return n=ce.isDef(bn.stringToProp(t)),n}))}},scriptSrc:{STRINGIFIED_METHOD:"s",detect:function(e){"use strict";return!en.isDomless()&&!!ce(e).findFirst((function(e,t){return sn.containsScriptTagWithSrc((function(e){let n=!1;return n=ce.isDef(e)&&-1!==e.indexOf(t),n}))}))}}},ro=function(){"use strict";const e=function(e,t){let n;const r=no[e];return r.detect(t)&&(n=r.STRINGIFIED_METHOD),n};return{process:function(t){return ce(t).map(e).join("")}}};var io=[{STRINGIFIED_APPDET:"omid",detectionRules:{javascript:["omidSupported"]}},{STRINGIFIED_APPDET:"file",detectionRules:{url:["file:"],scriptSrc:["file:"]}},{STRINGIFIED_APPDET:"cont",detectionRules:{url:["content:"]}},{STRINGIFIED_APPDET:"appl",detectionRules:{url:["applewebdata:"]}},{STRINGIFIED_APPDET:"adma",detectionRules:{javascript:["ADMARVEL"]}},{STRINGIFIED_APPDET:"admb",detectionRules:{userAgent:["afma-sdk"],url:["afma-sdk"]}},{STRINGIFIED_APPDET:"imbi",detectionRules:{javascript:["InmobiObj"]}},{STRINGIFIED_APPDET:"mopb",detectionRules:{url:["ads.mopub.com"],javascript:["mopubFinishLoad"]}},{STRINGIFIED_APPDET:"pand",detectionRules:{javascript:["PandoraApp"]}},{STRINGIFIED_APPDET:"sads",detectionRules:{javascript:["mraid.sasSendMessage"]}},{STRINGIFIED_APPDET:"ogry",detectionRules:{url:["ogury.io"],scriptSrc:["OguryFR"]}},{STRINGIFIED_APPDET:"cnvt",detectionRules:{url:["adsx.greystripe.com/openx/www/delivery/ia.php"]}},{STRINGIFIED_APPDET:"mobf",safeToInjectMraid:!0,detectionRules:{url:["mobfox"]}},{STRINGIFIED_APPDET:"innr",detectionRules:{url:["inner-active.mobi"]}},{STRINGIFIED_APPDET:"apnx",detectionRules:{javascript:["anjam"]}},{STRINGIFIED_APPDET:"aers",detectionRules:{userAgent:["AerServ"]}},{STRINGIFIED_APPDET:"tapj",detectionRules:{url:[["tapjoyads","app_id"]]}},{STRINGIFIED_APPDET:"quan",detectionRules:{userAgent:["QuantcastSDK"]}},{STRINGIFIED_APPDET:"cars",safeToInjectMraid:!0,detectionRules:{url:[["carsales",".android"],["carsales",".ios"]]}},{STRINGIFIED_APPDET:"kkao",detectionRules:{userAgent:["KAKAOTALK"]}},{STRINGIFIED_APPDET:"mrai",detectionRules:{javascript:["mraid"]}}],oo=function(){"use strict";var t,n=function(e,t){var n,r=ro().process(t.detectionRules);return r&&(n=r+"_"+t.STRINGIFIED_APPDET),n};return{detect:function(){return""===(t=(t=ce(io).map(n)).length>0?t[0]:"")&&e.hasOwnProperty("serverSideAppDetection")&&0!==e.serverSideAppDetection.length&&(t="s_serv"),t},hasDetectedMobileApp:function(){return void 0!==t&&""!==t}}},so=function(){"use strict";var e=[],t=[],n=function(t,n){var r,i=ro().process(n.detectionRules);return i&&(e.push(n.STRINGIFIED_SDK+"*"+i),r=n),r};return{detect:function(){return(t=ce(ao).map(n)).length>0&&ue.getAggregator().trigger(Ke.AddOutputItem,{output:function(){return e.join(".")}},ze.AppSDKsDetected,{type:le.IMPRESSION_EVENT}),t.length>0},isSafeToInjectMraid:function(){return 1===t.length&&ce.isDef(t[0].safeToInjectMraid)&&t[0].safeToInjectMraid}}},ao=[{STRINGIFIED_SDK:"adma",safeToInjectMraid:!0,detectionRules:{javascript:["ADMARVEL"],url:["AdMarvel"]}},{STRINGIFIED_SDK:"admb",safeToInjectMraid:!0,detectionRules:{userAgent:["afma-sdk"],url:["afma-sdk"]}},{STRINGIFIED_SDK:"imbi",safeToInjectMraid:!0,detectionRules:{javascript:["InmobiObj"]}},{STRINGIFIED_SDK:"mmed",detectionRules:{url:["mmsdk"],scriptSrc:["mmsyscache"]}},{STRINGIFIED_SDK:"mopb",safeToInjectMraid:!0,detectionRules:{javascript:["mopubFinishLoad"],url:["ads.mopub.com"]}},{STRINGIFIED_SDK:"pand",detectionRules:{javascript:["PandoraApp"]}},{STRINGIFIED_SDK:"ambe",safeToInjectMraid:!0,detectionRules:{url:["amobee"]}},{STRINGIFIED_SDK:"smat",safeToInjectMraid:!0,detectionRules:{javascript:["smaato_bridge"]}},{STRINGIFIED_SDK:"afrm",safeToInjectMraid:!0,detectionRules:{javascript:["Adform"]}},{STRINGIFIED_SDK:"vrve",safeToInjectMraid:!0,detectionRules:{javascript:["vrvsdk"]}},{STRINGIFIED_SDK:"sads",detectionRules:{javascript:["mraid.sasSendMessage"],url:["smartadserver.com"]}},{STRINGIFIED_SDK:"ogry",safeToInjectMraid:!0,detectionRules:{url:["ogury.io"],scriptSrc:["OguryFR"]}},{STRINGIFIED_SDK:"cnvt",detectionRules:{url:["adsx.greystripe.com/openx/www/delivery/ia.php"]}},{STRINGIFIED_SDK:"mobf",safeToInjectMraid:!0,detectionRules:{url:["mobfox"]}},{STRINGIFIED_SDK:"innr",detectionRules:{url:["inner-active.mobi"]}},{STRINGIFIED_SDK:"apnx",detectionRules:{javascript:["anjam"]}},{STRINGIFIED_SDK:"aers",safeToInjectMraid:!0,detectionRules:{userAgent:["AerServ"]}},{STRINGIFIED_SDK:"tapj",detectionRules:{url:[["tapjoyads","app_id"]]}},{STRINGIFIED_SDK:"quan",detectionRules:{userAgent:["QuantcastSDK"]}},{STRINGIFIED_SDK:"kkao",detectionRules:{userAgent:["KAKAOTALK"]}},{STRINGIFIED_SDK:"mrad",safeToInjectMraid:!0,detectionRules:{userAgent:["unmatchabledetectionstring"]}}],co=function(e){"use strict";var t=[],n=function(e,t,n){return new go(0,e,n,n+t)};return function(){if(e.height<10)t.push({geometry:new go(0,e.width,0,e.height),percentageInViewContribution:100,isInView:!1});else for(var r,i=Math.floor(e.height),o=i%10,s=(i-o)/10,a=0;a<10;a++){var c=a<o?s+1:s,d={geometry:n(e.width,c,r||0),percentageInViewContribution:10,isInView:!1};t.push(d),r=d.geometry.value().bottomY}}(),{getSlices:function(){return t}}},uo=function(){"use strict";var e,t=le.VIEWABILITY_IN_VIEW_THRESHOLDS_MOBILE_GRID.length,n=le.VIEWABILITY_IN_VIEW_THRESHOLDS_MOBILE_GRID,r=[];return{getConfig:function(i){if(e)return e;i.height<t&&(t=1,n=[100]);for(var o=0;o<t;o++)r.push(!1);return e={numberOfSlices:t,defaultSliceArray:r,percentInViewSliceArray:n}}}},lo=function(e,t){"use strict";var n={mbrd:!1,mbvs:[],mbe:"n",mbv:9,mbs:[],mbm:1,mbivs:[]},r=function(e,t){var n,r=0,i=function(e,t){var n=[],r=e.geometry.value();return ce(t).each((function(t,i){if(e.geometry.doesIntersect(i)){var o=i.value(),s=Math.max(r.leftX,o.leftX),a=Math.min(r.rightX,o.rightX),c=Math.max(r.topY,o.topY),d=Math.min(r.bottomY,o.bottomY);n.push(new go(s,a,c,d))}})),n}(e,t);return ce(i).each((function(e,t){n=t.value(),r+=n.area})),r},i=function(t){ce(e).each((function(e,n){n.isInView=r(n,t)>=n.geometry.value().area}))};return t.addListener(i),{getPercentInView:function(){var t=function(){var t=0;return n.mbs=[],ce(e).each((function(e,r){n.mbs.push(r.isInView),r.isInView&&(t+=r.percentageInViewContribution)})),t}();return n.mbrd=1,t!==n.mbp&&n.mbivs.push([en.getTagTime(),t]),n.mbp=t,t},removePixels:function(){void 0!==t&&t.stop()},getPixelStateForDebug:function(){return n.mbm=1,n.mbpr=[],n.mbir=[],ce(e).each((function(e,t){n.mbpr.push(le.NA),n.mbir.push(!1)})),n},isReadyToMeasure:function(){return!0},getSliceStatus:function(){var t=[];return ce(e).each((function(e,n){t.push(n.isInView)})),t}}},mo=function(e){"use strict";var t=uo();return{getSliceStatus:function(n,r,i,o){var s,a=[],c=n.getRounded(),d=c.height,u=c.scrY,l=new on({scrX:c.scrX,width:c.width}),m=t.getConfig(c).numberOfSlices;l.set("height",Sn.floor(d/m));for(var g=0;g<m;g++)l.set("scrY",Sn.ceil(u+d/m*g)),s=100===e.calcPercentInView(l,r,i,o),a.push(s);return a}}},go=function(e,t,n,r){"use strict";var i=Math.ceil(e),o=Math.ceil(t),s=Math.ceil(n),a=Math.ceil(r),c=o-i,d=a-s,u=c*d,l=function(){return{leftX:i,rightX:o,topY:s,bottomY:a,width:c,height:d,area:u}};return{value:l,doesIntersect:function(e){var t=l(),n=e.value();return n.leftX<t.rightX&&n.rightX>t.leftX&&n.topY<t.bottomY&&n.bottomY>t.topY}}},po=function(){"use strict";return{createInstance:function(e,t){return new IntersectionObserver(e,t)}}},fo=function(e,t){"use strict";var n,r=[],i=[],o=function(e,t){-1===e.indexOf(t)&&e.push(t)},s=function(e){var t,n=function(){var e=[];return ce(i).each((function(t,n){var r=n.value();o(e,r.topY),o(e,r.bottomY)})),e=e.sort((function(e,t){return e-t}))}();i=[];for(var r=0;n.length>r&&(t=r,n.length!==t+1);r++){var s=n[r],a=n[r+1];i.push(new go(0,e,s,a))}},a=function(e,t){i.push(e),s(t),ce(r).each((function(e,t){t(i)}))},c=function(){n.unobserve(e),n.disconnect()};return(n=t.createInstance((function(e){var t,n,r,i,o,s,d=e.pop(),u=d.boundingClientRect,l=u.width,m=d.intersectionRatio,g=d.intersectionRect,p=(t=u,r=(n=g).left-t.left,i=r+n.width,o=n.top-t.top,s=o+n.height,new go(r,i,o,s));a(p,l),1===m&&c()}),{threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]})).observe(e),{addListener:function(e){r.push(e)}}},ho=function(){"use strict";var e=function(e){var t=!1;return vo.forEach((function(n){e===n.PARTNER_NAME&&(t=!0)})),t},t=function(t,r){return t.omidNativeInfo&&t.omidNativeInfo.partnerName&&e(t.omidNativeInfo.partnerName)?r&&n(r.onScreenContainerGeometry):r&&n(r.onScreenGeometry)},n=function(e){return e&&e.hasOwnProperty("x")&&e.hasOwnProperty("y")&&e.hasOwnProperty("width")&&e.hasOwnProperty("height")};return{detect:e,checkAdViewGeometryBasedOnWhitelist:t,checkGeometryObject:n,checkForViewAttachmentBasedOnAdSessionType:function(e,n){if(n&&n.reasons&&n.reasons.indexOf("notFound")<0&&e.adSessionType&&(e.adSessionType.indexOf("native")>-1||e.adSessionType.indexOf("javascript")>-1||e.adSessionType.indexOf("html")>-1&&t(e,n)))return!0}}},vo=[{PARTNER_NAME:"IAB"},{PARTNER_NAME:"IAS"},{PARTNER_NAME:"com.integralads.omid.iassdk"}],Eo=function(){"use strict";return{listenForResult:function(){ue.getAggregator().on(Ke.VideoBlockResult,(function(t){var n=ue.getAggregator().request(Xe.AdNode),r=!1,i="blockAd"+e.videoId;"failed"===t.action&&(r=!0),n&&ce.isDef(n.blockAd)?n.blockAd(r):n&&ce.isDef(n[i])&&n[i](r)}))}}};const Io=function(){"use strict";const e=[];return{registerEvent:(t,n)=>{const r=function(e,t){var n,r;const i=e=>e.getVolumeFromContext(s),o=ue.getAggregator().request(Xe.VideoTranslator).translate(e.messageType),s=(e=>{const t=e.eventData||{},n=ce({}).mixin(t);return n.ext_passthrough&&delete n.ext_passthrough,n})(e),a=(e=>{let t;const n=e.eventData&&e.eventData.ext_passthrough,r=(e,t)=>{const n={};return n[`x_${e}`]=t,n};return n&&(t=ce(n).mapToObj(r)),t})(e),c=null===(n=te.measurementConfig)||void 0===n?void 0:n.birthdate,d={t:e.time-c,tp:o,sl:t};try{if(void 0!==e.volumeHandler){const t=i(e.volumeHandler);if(void 0!==t){const n=parseFloat(t),i=null===(r=null==e?void 0:e.latestScreenEvent)||void 0===r?void 0:r.percentInView,o="number"==typeof i,s="AdVideoComplete"===e.messageType;o&&s&&n>0&&i>=50?d.avoc=1:o&&s&&(d.avoc=0)}}}catch(e){}ce(d).mixin(s),ce(d).mixin(a);const u=ce({indicatesPlaying:()=>-1!=="showAd|adImpression|adVideoStart|resumeAd".indexOf(o),indicatesNotPlaying:()=>-1!=="adVideoComplete|adStopped|stopAd|pauseAd".indexOf(o),indicatesFullscreen:()=>{const e=Sn.getWindow();return!("resizeAd"!==o&&"initAd"!==o||"fullscreen"!==s.viewMode&&s.width!==e.screen.width)},indicatesNormalSize:()=>"resizeAd"===o&&"normal"===s.viewMode,indicatesQuartile:()=>-1!=="adVideoFirstQuartile|adVideoMidpoint|adVideoThirdQuartile|adVideoComplete".indexOf(o),indicatesCompletion:()=>-1!=="adStopped|adVideoComplete|adSkipped|adError".indexOf(o),getVolume:i,updateScreenLoc:e=>{d.sl=e,u.sl=e},trigger:()=>{"adImpression"===o?ue.getAggregator().persistentTrigger(o,s,a):ue.getAggregator().trigger(o,s,a)},toString:()=>"{"+ce(d).toParams()+"}"}).mixin(d);return u}(t,n);return e.push(r),r},toString:()=>"{"+ce({vEventCount:e.length,vEvents:"["+e.join(",")+"]"}).toParams()+"}",isEmpty:()=>0===e.length}};var So=function(){"use strict";var e,t,n,r=function(r){n=ce.isDef(r)?0===r:n,t&&n&&e.addState({isFullyInView:function(){return!1}})},i=function(){e&&e.hasAlwaysBeen(!0)&&ue.getAggregator().trigger(Ke.SendDt,le.DT_CODES.QUARTILE_FULLY_INVIEW)},o=function(){t=!0,r()},s=function(e){var t=(new yo).getVolumeFromContext(e);r(t)};return{isApplicable:function(e){return e.usesGroupMCustomMetric()},start:function(n){ue.getAggregator().on({adVideoStart:o,adImpression:o,volumeChanged:s,adVideoMidpoint:i}),e=n.createViewabilityTracker("mpt",(function(e){var n=ue.getAggregator().request(Xe.IsFullyInViewProvider);return!t||n&&n.isFullyInView(e)}))}}},Ao=function(){"use strict";var e={AdPaused:"pauseAd",AdVolumeChange:"volumeChanged",AdPlaying:"resumeAd"};return{translate:function(t){var n=t.charAt(0).toLowerCase()+t.slice(1);return t in e&&(n=e[t]),n}}};const yo=function(){"use strict";return{getVolumeFromContext:e=>{let t,n=-1;return ce.isDef(e)&&(ce.isDef(e.volume)?n=e.volume:ce.isDef(e.adVolume)&&(n=e.adVolume)),-1!==n&&(t=n),t}}};var To=function(t,n,r){"use strict";var i,o,s,a="IASid"+t,c="getIasVidBridgeVersion"+t,d=[],u=le.OUT_OF_VIEW,l=!1,m=!1,g=!1,p=!0,f=new Io,h=So(),v=new Eo,E=new yo,I=new vn,S=function(e){var t;return l=!0,t=A(e),d.push(t),s&&D(),t},A=function(e){var n,i,o={};try{o=JSON.parse(unescape(e&&e.data?e.data:e))}catch(e){o={}}if(o.id==t)if(en&&en.isVastAudio()&&o.messageType&&o.eventData){var s=!!o.eventData.volume,a=-1==="AdVideoComplete|AdStopped|AdSkipped|AdPaused|AdError|AdUserClose".indexOf(o.messageType),c=s&&a;o.eventData.width=c?le.RENDER.WIDTH_THRESHOLD:0,o.eventData.height=c?le.RENDER.WIDTH_THRESHOLD:0,p=s,m=a,u=!!c&&le.IN_VIEW,n=f.registerEvent(o,c?"i":"o")}else o.latestScreenEvent=r.getLatestEvent(),o.volumeHandler=E,(n=f.registerEvent(o,r.getCurrentLoc())).indicatesPlaying()?(m=!0,u=!!g&&le.IN_VIEW):n.indicatesNotPlaying()?(m=!1,u=le.OUT_OF_VIEW):n.indicatesFullscreen()?(g=!0,u=m?le.IN_VIEW:le.OUT_OF_VIEW):n.indicatesNormalSize()&&(g=!1,u=!m&&le.OUT_OF_VIEW),(i=parseFloat(n.getVolume(E)))>0?p=!0:0===i&&(p=!1);return n},y=function(){i||(ce(["*[data-integralas-vid-"+t+"]",".integral-vid-"+t,"ias-ad","object","embed"]).findFirst((function(e,t){var n=Sn.getDoc().querySelectorAll(t);return i=function(e){return ce(ce(e).toArray()).findFirst((function(e,t){return ce.isFunction(t[a])}))}(n),i})),!i&&n.on("novidnodeerr")&&Math.random()<.1&&__IntegralASDiagnosticCall("novidnode",{message:"node not found*10"},e));return i},T=function(){var n=y();return n&&!l&&function(n){var r,i,o=En().wrapToGlobal(S);try{i=n[c]||n.getIasVidBridgeVersion,r=ce.isFunction(i)&&"2"===i.call(n)?unescape(n[a].call(n,t,o)):unescape(n[a].call(n,t)),l=!0,function(e){ce.isStr(e)&&(ue.getAggregator().provide(Xe.VideoChannel,(function(){return e})),ue.getAggregator().trigger(Ke.AddOutputItem,{output:e},ze.VideoChannel,{type:le.IMPRESSION_EVENT}))}(r||"n")}catch(t){__IntegralASDiagnosticCall("handshakefailure",t,e)}}(n),n},O=function(e){var t=E.getVolumeFromContext(e);p=!!ce.isDef(t)&&t>0},D=function(){I.init(),ce(d).each((function(e,t){t&&(ce.isUndef(t.sl)&&t.updateScreenLoc(r.getCurrentLoc()),t.trigger(),t.indicatesCompletion()&&ue.getAggregator().trigger(Ke.AdSessionComplete),t.indicatesQuartile()&&(t.tp!==Ke.AdVideoComplete&&ue.getAggregator().trigger(Ke.SendDt,le.DT_CODES.VIDEO_EVENTS),ue.getAggregator().trigger(Ke.VideoQuartileEvent,t)))})),d=[],s=!0},_=function(){return g&&m};return tn.addEvent(Sn.getWindow(),"message",(function(e){S(e)})),ue.getAggregator().on({volumeChanged:O}),ue.getAggregator().provide({videoEventsString:f,videoVersion:function(){var e,t=T();try{e=t.getVersion()}catch(t){e=-1,ue.getAggregator().trigger(Ke.Error,le.ERROR_CODES.NO_VIDEO_AD_INTERFACE)}return e},videoTranslator:function(){return o=o||new Ao},adNode:T}),T(),v.listenForResult(),h.isApplicable(en)&&h.start(r),{findAdNode:T,getViewStateOverride:function(){return u},isHandshakeComplete:function(){return l},triggerInitializationEvents:D,setVideoSpecificScreenEventFields:function(e){var t=e.viewState===le.NA;if(e.isVideoPlaying=!0,e.isSoundOn=p,e.isVideoPlayingInFullscreen=!1,u){if(u===le.OUT_OF_VIEW){var n=e.reason?e.reason.split("."):[];n[n.length]=le.OUT_OF_VIEW_REASONS.VIDEO,e.reason=n.join(".")}e.viewState=t?e.viewState:u,e.isVideoPlaying=u===le.IN_VIEW}if(_()&&(e.percentInView=100,e.isVideoPlayingInFullscreen=!0),en&&en.isVastAudio&&en.isVastAudio()){var r=le.RENDER.WIDTH_THRESHOLD,i=le.RENDER.HEIGHT_THRESHOLD,o=m&&p,s=new on({scrX:0,scrY:0,width:o?r:0,height:o?i:0});e.adDimensions=s,e.containerDimensions=s,e.viewState=o?le.IN_VIEW:le.OUT_OF_VIEW,e.viewStateIgnoringRender=o?le.IN_VIEW:le.OUT_OF_VIEW,e.posViewState=o?le.IN_VIEW:le.OUT_OF_VIEW,e.percentInView=o?100:0,e.percentInViewIgnoringRender=o?100:0,e.isHidden=o?0:1,e.tabHidden=o?0:1}}}},Oo=function(){"use strict";var e=le.PERF_TIMELINE_TRACKER_CONFIG.WRAPPERS.AS.COUNT;return new bo(le.PERF_TIMELINE_TRACKER_CONFIG.WRAPPERS.AS.TYPE,e)},Do=function(){"use strict";var e,t,n={},r=0,i=function(n){(n||e)&&(r+=5,t.onTick(r,(function(){e?i():ue.getAggregator().trigger(Ke.SendDt,le.DT_CODES.PERFORMANCE)})),e=!1)},o=function(){t=new vt,r=0,i(!0),t.start()},s=function(r,i,s,a){var c=n[r];a?(ce.isDef(c[i])||(c[i]=[]),c[i].push(s)):c[i]=s,t&&t.isActive()||o(),e=!0},a=function(n,r,i){ue.getAggregator().trigger(Ke.AddOutputItem,{output:r},n,i),t&&t.isActive()||o(),e=!0},c=function(t){ce(n).each((function(r,i){!function(t,r){var i=n[t],o={type:r,oneTime:!0,minDt:!0,asION:!0};ce(i).isEmpty()||(ue.getAggregator().trigger(Ke.AddOutputItem,{output:i},t,o),n[t]={}),e=!1}(r,t)}))};return{start:function(){ue.getAggregator().on(Ke.PreSendDt,(function(e){c(e),t&&t.kill()})),ue.getAggregator().on(Ke.AddThrottledProp,s),ue.getAggregator().on(Ke.AddThrottledOutputItem,a)},addFieldTypes:function(e){ce(e).each((function(e,t){n[t]={}}))}}},_o=function(){"use strict";var e={},t=function(t){return!e[t]&&(e[t]=new ht(1,te.measurementConfig.birthdate)),e[t]},n=function(e){t(e).start()},r=function(e){var n=t(e);n.stop(),ue.getAggregator().trigger(Ke.AddThrottledProp,"im",e,n.getTime())};return{start:function(){ue.getAggregator().on({markTime:n,measureTime:r})},isApplicable:function(e){return e.on("pIntervals")}}},Co=function(){"use strict";var e=le.PERF_TIMELINE_TRACKER_CONFIG.WRAPPERS.JS.COUNT;return new bo(le.PERF_TIMELINE_TRACKER_CONFIG.WRAPPERS.JS.TYPE,e)},wo=function(e){"use strict";var t={},n=e instanceof Array&&e.length>0;return n&&(ce(e).each((function(e,n){var r;t[(r=n).getType()]=r})),ue.getAggregator().on(Ke.PerfCheckpoint,(function(e){var n=t[e.type];if(n)try{n.addPoint(e),n.isFinished()&&ue.getAggregator().trigger(Ke.AddThrottledProp,le.DT_SLOT.IM,"pci",n.toString())}catch(e){}}))),ue.getAggregator().provide(Xe.PerfActive,(function(){return n})),{isActive:n}},bo=function(e,t){"use strict";var n=0,r=[],i=function(){var e,t={};return r.sort((function(e,t){return e.timestamp-t.timestamp})),ce(r).each((function(r,i){e&&(t[i.code]=i.timestamp-e),i.timestamp,r===n&&(e=i.timestamp)})),t};return{addPoint:function(e){r.push(e)},toString:function(){return ce(i()).toION()},getType:function(){return e},setBaseOrdinal:function(e){n=e},isFinished:function(){return r.length===t}}},$o=function(){"use strict";function e(){}return e.build=function(){var e,t=[];t.push((e=le.PERF_TIMELINE_TRACKER_CONFIG.RENDER.COUNT,new bo(le.PERF_TIMELINE_TRACKER_CONFIG.RENDER.TYPE,e)));var n,r=(n=ue.getAggregator().request(Xe.VideoChannel))?{jv3:No,av3:No,jvw:Co,avw:Oo}[n]:void 0;return r&&t.push(r()),t},e}(),No=function(){"use strict";var e=le.PERF_TIMELINE_TRACKER_CONFIG.VANS.COUNT;return new bo(le.PERF_TIMELINE_TRACKER_CONFIG.VANS.TYPE,e)},Ro={IDS:{BLOCK_TIME:"pBlk",ON_LOAD:"pLoad",IN_BROWSER_DELAY:"pWait"},recordBlockingTime:function(){"use strict";ue.getAggregator().trigger(Ke.MeasureTime,Ro.IDS.BLOCK_TIME)},setupOnLoadTracking:function(){"use strict";tn.addEvent(t,"load",(function(){ue.getAggregator().trigger(Ke.MeasureTime,Ro.IDS.ON_LOAD)}))},setupBrowserDelayTracking:function(){"use strict";var e=new vt;e.onTick({4:function(){ue.getAggregator().trigger(Ke.MarkTime,Ro.IDS.IN_BROWSER_DELAY)},5:function(){ue.getAggregator().trigger(Ke.MeasureTime,Ro.IDS.IN_BROWSER_DELAY)}}),e.start()}},Mo={name:"postMessageDetector",dependencies:[],creator:function(){"use strict";var t,n=!1,r="pmdetector"+e.asid,i=function(e){(e&&e.data)===r&&(n=!0)};t=Sn.getWindow(),tn.addEvent(t,"message",i),t.postMessage(r,"*"),Sn.execAtEndOfThread((function(){ue.getAggregator().trigger(Ke.AddThrottledProp,le.DT_SLOT.IM,"pom",ce.stringifyTriState(n)),tn.removeEvent(t,"message",i)}))},settings:{tier:le.TIERS.ENVIRONMENT,applies:function(e,t,n){"use strict";return e.on("pmdetect")&&t.hasPostMessage()}}},Po={name:"safeFrameDetector",dependencies:[],creator:function(){"use strict";ue.getAggregator().trigger(Ke.AddThrottledProp,le.DT_SLOT.IM,ze.SafeFrame,ce.stringifyTriState(en.isSafeFrame()))},settings:{tier:le.TIERS.ENVIRONMENT,applies:function(e,t,n){"use strict";return e.on("sfdetect")}}},xo=function(t,n,r,i,o,s,a){"use strict";var c="adsafe_jsinfo=",d=function(e){return"&"===e.slice(-1)?"":"&"},u=function(u){var l=i.baseUrl,m=te.measurementConfig.spImpMaxLength;if(Mt.checkIfFirstPartyBlockingApplies({impressionUrl:l})?l=Mt.modifyUrlForFirstPartyBlocking({impressionUrl:l}):en.integratedBlockingApplies(l)&&(l=function(t){var n=ue.getAggregator().request(Xe.MobileApp),r=n&&n.isMobileAppEnvironment&&n.isMobileAppEnvironment(),i=t+"adContainerId="+e.contextNode.getAttribute("data-ias-container")+"&cbFunctionName="+e.contextNode.getAttribute(le.CALLBACK_IDENTIFIER.toString());i=r?i.replace("monitoring","blocking"):i.replace("skeleton.js",e.integration+".js");var o=e.protocol+":"+e.staticServer+e.integration+"a.js",s=e.protocol+":"+e.staticServer+e.integration+".js";return i+"&true_pb="+encodeURIComponent(e.passback)+(r?"&redirectUrl="+encodeURIComponent(s):"")+(r?"&passback=":"&adsafe_pb=")+encodeURIComponent(o)+"&"}(l)),l=l.replace(le.UNIQUE_ID_TOKEN,e.asid),l+=function(e,r,i){var o,s="";try{(o=r-e-te.measurementConfig.spImpJsInfoMinLength)>0&&(s+=ko(i,o,c.length,n.on("partialUrls")).join("&"))}catch(e){t.add(le.ERROR_CODES.IMPRESSION_URLS)}return s}(l.length,m,u),l+=d(l),l+=function(e,i){var d="";try{d+=Fo(i-e,c,t,n,r,o,s,a,i)}catch(e){t.add(le.ERROR_CODES.JSINFO),d+="adsafe_jsinfo=e:"+t.toString()}return d}(l.length,m),i.macroUrl&&(l+=d(l),l+=i.macroUrl),e.staticFwjsMacros&&(l+=d(l),l+=e.staticFwjsMacros),en.isAMZN()&&-1===l.indexOf("gdpr_consent")){var g=ue.getAggregator().request(Xe.TCString);ce.isDef(g)&&(l+=d(l),l+="gdpr_consent="+g)}return l};return{send:function(t){try{var n=u(t);e.impUrl=n,i.sendImpression(n),ue.getAggregator().trigger(Ke.ImpressionSent),function(){if(e.rts&&e.rts.tracked){var t=e.rts.tracked;ue.getAggregator().trigger(Ke.Notify,t)}}()}catch(t){__IntegralASDiagnosticCall("impsend",t,e)}}}},Vo=function(){try{var n,r,i,o,s,a,c=e.perf;ue.getAggregator().trigger(Ke.AddOutputItem,{output:en.getTagTime()},ze.StaticImpressionRFWCallResponseTime);c.markEnd("ec"),n=c.getEnd("ec"),r=t.performance&&"function"==typeof t.performance.getEntriesByName&&t.performance.getEntriesByName(e.impUrl)[0],i=function(t){var n=c.getStart("bd"),r=c.getStart(Se);return e.jsDoSplit?Math.round(t-n):Math.round(t-r)}(n),o=function(e){return Math.round(e&&e.duration)}(r),s=function(e,t){var n=t&&t.responseEnd;return Math.round(e-n)}(n,r),ce.isNumeric(i)&&ce.isNumeric(o)&&ce.isNumeric(s)&&(a={ttecl:i,ecd:o,tsecr:s},ue.getAggregator().trigger(Ke.AddThrottledProp,le.DT_SLOT.IM,"imprf",ce(a).toION()))}catch(e){ue.getAggregator().trigger(Ke.Error,le.ERROR_CODES.IMPRESSION_PERFORMANCE)}};const Fo=(t,n,r,i,o,s,a,c,d)=>{"use strict";const u=e=>{let t="";return e&&(t=`,${e}`),t},l=(e,n)=>e.length+n.length+5<=t;return(t=>{let r="";const s=je.TcfApi,a=We.TcfApiLocator,c=!en.isDomless()&&(({apiFunctionName:e,apiFrameLocatorName:t})=>{let n=!1;try{n=!!Ge({apiFunctionName:e,apiFrameLocatorName:t})}catch(e){}return n})({apiFunctionName:s,apiFrameLocatorName:a});return c&&i.on("consentDetection")?r+=(e=>{let t=n;const{primary:r}=e,i=r.find((e=>e.includes("id:")));return t+=u(`${ze.CmpApi}:1`),t+=u(i),o.impressionIsIdentifiable(!0),t})(t):r+=(t=>{const r=ce.encodeInvalidUrlChars(t.primary.join(","),e.encodeInvalidUrlChars);let i=0,s=n;return l(s,r)?(s+=u(r),o.impressionIsIdentifiable(!0),ce(t.secondary).each(((t,n)=>{const r=ce.encodeInvalidUrlChars(n,e.encodeInvalidUrlChars);l(s,r)?s+=u(r):i+=1}))):i+=t.primary.length,s+=",ov:"+i})(t),r})((()=>{let e,t,n;return n=(()=>{const e={viewState:le.NA};let t,n=e;return en.isDomless()?n=c.checkScreenLoc(!0)||e:i.on("impFailSafe")?Sn.getDoc().body&&(t=c.checkScreenLoc(!0),n=t||e):ce.isDef(Sn.getDoc().body)&&(n=c.checkScreenLoc(!0)),c.isImmediatelyMeasurable()||c.requiresDelayedViewabilityEvent(),n})(),e=Lo(n.viewState,o,i),t=Uo(n,r,i,o,s,a,c,d),ue.getAggregator().trigger(Ke.EligibleRender),{primary:e,secondary:t}})())};var Lo=function(t,n,r){"use strict";var i=ue.getAggregator().request(Xe.Page);return["id:"+e.asid,"c:"+n.getCacheBustId(),"sl:"+t,"em:"+en.embedded,"fr:"+en.friendly,"thd:"+ce.stringifyTriState(i.supportsVisAPI())]},Uo=function(t,n,r,i,o,s,a,c){"use strict";const{measurementConfig:d,privacySandbox:u}=te;var l,m="NotFound",g=[];if(g.push("mn:"+e.mn),g.push("rg:"+e.region),e.iasProxyPartnerDomain&&g.push("ipp:"+encodeURIComponent(e.iasProxyPartnerDomain)),g.push("pt:"+function(){var e=a.stringifyPingTimes();return t.viewState!==le.NA&&(e+=t.details),e}()),g.push("mu:"+c),g.push(ce(s.params()).toParams()),r.on("mrcAudit")&&!en.isDomless()&&g.push("dvs:"+Sn.getDoc().visibilityState),o.iterate((function(e,t){var n=!t.props||ce.isUndef(t.props.type),r=!t.props||t.props.type===le.IMPRESSION_EVENT;(n||r)&&g.push(e+":"+t.output())})),n.toString()&&g.push("e:"+n.toString()),g.push(r.output()),g.push("tt:"+te.adTag.tagType),en&&en.isVastAudio&&en.isVastAudio()&&g.push("vau:1"),en){var p=void 0;en.isVideo()&&(p="v"),(en.isVastAudio()||en.isOmidAudio())&&(p="a"),p&&g.push(`xmtp:${p}`)}g.push("et:"+(Sn.now()-d.birthdate)),e.perf.mark("si"),r.on("swapids")?g.push("oid:"+e.oid):g.push("uid:"+i.unq),g.push("v:19.8.657"),g.push("sp:"+(e.isSplitMode?1:0)),g.push("st:"+(d.staticMode?1:0)),g.push("fwm:"+("true"===e.fwMonitoring?1:0)),r.on("resolution")&&(g.push("wr:"+ce(sn.windowSize()).toArray().join(".")),g.push("sr:"+ce(sn.screenSize()).toArray().join(".")));var f=/iasProxyPartnerId=([\d]+)/g.exec(e.scriptUrl),h=f&&f[1],v=e.proxyPartnerId||h||"";return v&&g.push("ppi:"+v),l=function(){var t,n="ias_xpc",r=String(e.scriptUrl).toLowerCase(),i=r.indexOf(n);if(i>-1){var o=r.substring(i+n.length+1),s=o.indexOf("&");t=s>-1?o.substring(0,s):o}else t=m;return t||""}(),m!==l&&g.push("x_xpc:"+l),u&&u.isProtectedAudienceAuction&&g.push(`${ze.ProtectedAudienceApi}:1`),g},ko=function(e,t,n,r){"use strict";var i,o,s="adsafe_url=",a="&adsafe_type=",c=[],d=function(e){return-1!==e.key.indexOf("q")||-1!==e.key.indexOf("g")},u=function(e){var i,o,d,u=e.val,l=e.key,m=(o=l,d=s.length+a.length+c.join("&").length+o.length+n,t-d);r&&m<u.length&&m>0&&(u=u.substr(0,m)),(u.length||""===e.val||""===e.type)&&function(e){var n=c.join("&").length;return e.length+n<=t}(i=s+u+a+l)&&c.push(i)};return e&&e.length&&(i=ce(e).map((function(e,t){if(d(t))return t})),o=ce(e).map((function(e,t){if(!d(t))return t})),ce(i.concat(o)).each((function(e,t){u(t)}))),c},jo=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};const Wo=e=>Math.round(e/1048576)<2*Math.round(Go()/1048576),Go=()=>{var e;const t=Sn.getWindow().performance;return(null===(e=null==t?void 0:t.memory)||void 0===e?void 0:e.jsHeapSizeLimit)||1073741824},Bo=()=>jo(void 0,void 0,void 0,(function*(){const e=(yield jo(void 0,void 0,void 0,(function*(){let e=!1;try{if(ue.getAggregator().request(Xe.Browser).browserIs(le.BROWSERS.CHROME)){const t=(yield navigator.storage.estimate()).quota||0;e=Wo(t)}}catch(e){}return e})))?"1":"0";ue.getAggregator().trigger(Ke.AddOutputItem,{output:e},"igt")}));var Ho=function(){"use strict";return{isApplicable:function(e){var t=Sn.getWindow();return!(!t.navigator||!t.navigator.plugins)},start:function(e){var t,n,r,i=Sn.getWindow(),o=Jo(i.navigator.plugins),s=o.hash();n=s.join("."),ue.getAggregator().trigger(Ke.AddOutputItem,{output:n},ze.PluginList,{type:le.IMPRESSION_EVENT}),s.length&&(t=o.decode(s),r=t.join("."),ue.getAggregator().trigger(Ke.AddOutputItem,{output:r},ze.PluginDecoded,{type:le.DT_CODES.ADTALK}))}}},Yo=function(e,t){"use strict";return{start:function(){try{var n=qo(),r=n.getMethodName(e),i=new It(t.getEnabledScriptUrl(e));new Xo((o=Sn.getDoc()).body||o.head||o.documentElement,i).getWindow()[r]=n.getMethod(t)}catch(e){ue.getAggregator().trigger(Ke.Error,le.ERROR_CODES.FEATURE_SCRIPT)}var o}}},qo=function(){"use strict";var t=function(t,n,r){t===e.asid&&(r.unshift(n),ue.getAggregator().trigger.apply(null,r))};return{getMethod:function(n){return function(r){var i={asid:e.asid,constant:le,features:n,context:en,dtBaseURL:te.baseUrls.dtBaseUrl,spg:zo};"function"==typeof r&&r(t,i)}},getMethodName:function(e){return"register_"+e}}},Ko=function(){"use strict";return{start:function(e,t){ce(e).each((function(e,n){t.getEnabledScriptUrl(n)&&Yo(n,t).start()}))}}},Jo=function(e){"use strict";var t=function(e){return e.filename.replace(/\.plugin$/,"")};return{hash:function(){for(var n,r,i,o=0,s=e.length,a=[];o<s;o++)r=t(e[o]),i=bn.hashCode(r),n=ce.toBase(i,62).slice(-4),a.push(n);return a},decode:function(n){var r,i;return r=Sn.floor(Sn.random()*n.length),i=encodeURIComponent(t(e[r])),[n[r],i]}}},Xo=function(t,n){"use strict";var r,i=function(){return"about:blank"};return function(n){var o;(r=sn.createHiddenIframe()).setAttribute("src",te.trustedTypesPolicy.createScriptURL(i())),r.setAttribute("class","_ntnrjf7826-hj"),r.setAttribute("tabindex","-1"),(t||e.contextNode.parentNode).appendChild(r),o=function(e){return e.contentWindow.document}(r);var s=["<head></head>",'<body onload="',"var d = document;","var s = d.createElement('script');","d.getElementsByTagName('head')[0].","appendChild(s).src","='"+n+"'\">"].join("");o.open().write(te.trustedTypesPolicy.createHTML(s)),o.close()}(n),{getWindow:function(){return r.contentWindow}}},zo=function(t){"use strict";var n=new ct;n.listen((function(n){return n&&n.scaInfoOriginatorASID&&n.scaInfoOriginatorASID!==e.asid&&n.cache&&t.allExpectedKeysPresent(n.cache)}),(function(e,r){n.stop(),Sn.setTimeout((function(){t.isDtCallAlreadySent()||(ue.getAggregator().trigger(Ke.AddThrottledProp,le.DT_SLOT.FF,"spg",r.scaInfoOriginatorASID),ce(r.cache).each((function(e,n){t.addToCache(e,n)})))}),Sn.round(1e3*Sn.random()))})),ue.getAggregator().on(Ke.AddToSpg,(function(e,n){t.addToCache(n,e),t.isFull()&&(t.sendToOtherTags(),Sn.setTimeout(t.sendToOtherTags,1300),Sn.setTimeout(t.sendToOtherTags,3200))}))},Qo={name:"spg",dependencies:["spgCache"],creator:zo,settings:{tier:le.TIERS.PRE_IMPRESSION_FRAUD,applies:function(e,t,n){"use strict";return e.on("spg")}}},Zo={name:"spgCache",dependencies:[],creator:function(){"use strict";var t=["asp","ch","fsc","mvn","no","sd"],n={},r=!1,i=function(){return o(n)},o=function(e){return ce(e).keys().sort().toString()===t.toString()},s=function(){r||(r=!0,ce(n).each((function(e,t){ue.getAggregator().trigger(Ke.AddOutputItem,t,e,{type:le.DT_CODES.SCA,minDt:!0,sendOnce:!0})})),ue.getAggregator().trigger(Ke.SendMinDt,le.DT_CODES.SCA))};return{allExpectedKeysPresent:o,isDtCallAlreadySent:function(){return r},addToCache:function(e,t){t&&t.output&&!i()&&(n[e]=t),i()&&s()},isFull:i,sendToOtherTags:function(){(new dt).send({scaInfoOriginatorASID:e.asid,cache:n})}}},settings:{}},es=function(){for(var e=[De,Oe,_e,Un,xn,Vn,Rn,Ln,Fn,Mn,Mo,Po,At,pr,Ti,Zo,Qo],t=0;t<e.length;t+=1)ue(e[t].name,e[t].dependencies,e[t].creator,e[t].settings)};const ts=new RegExp("^(ft|ftias)_?.*_(\\d+)$"),ns="?iasend?",rs=({aggregator:e,ftInstance:t,macros:n})=>{try{const r=(({ftInstance:e,macros:t})=>{const n=Object.keys(t),r=n.map((e=>`${e}=${t[e]}`)).join("&")+ns;let i=e.replaceMacros(r);const o=i.indexOf(ns);return o>0&&(i=i.substring(0,o)),i.split("&").reduce(((e,t)=>{const r=t.split("="),i=r?r[0]:void 0,o=r?r[1]:void 0;return i&&n.includes(i)&&i&&o&&(e[i]=o),e}),{})})({ftInstance:t,macros:n});for(const[t,n]of Object.entries(r)){const r="string"==typeof n?n:"number"==typeof n?n.toString():n;e.trigger(Ke.AddOutputItem,{output:r},t,{type:le.DT_CODES.ADSERVER_MACROS,standalone:!0})}Object.keys(r).length>0&&e.trigger(Ke.SendDt,le.DT_CODES.ADSERVER_MACROS)}catch(e){}},is=({checkInterval:e,collectorTimeout:t,aggregator:n,macros:r,contextNode:i,scopedWindow:o})=>{const s=Sn.setInterval((()=>{const e=(({contextNode:e,scopedWindow:t})=>{var n;const r=null===(n=null==e?void 0:e.getAttribute(le.CALLBACK_IDENTIFIER.toString()))||void 0===n?void 0:n.match(ts);if(!r||r.length<3)return;const i=r[2],o=t?t[`ft${i}`]:null;return o&&"function"==typeof o.replaceMacros?o:void 0})({contextNode:i,scopedWindow:o});e&&(Sn.clearInterval(s),rs({aggregator:n,ftInstance:e,macros:r}))}),e);Sn.setTimeout((()=>{Sn.clearInterval(s)}),t)};class os{constructor({macros:e,collectorTimeout:t,checkInterval:n,aggregator:r,scopedWindow:i}){this.macros={},this.collectorTimeout=5e3,this.checkInterval=500,this.aggregator=ue.getAggregator(),this.collectorTimeout=null!=t?t:this.collectorTimeout,this.checkInterval=null!=n?n:this.checkInterval,this.aggregator=r||this.aggregator,this.scopedWindow=i||("undefined"!=typeof window?window:void 0),this.macros=e||this.macros}applies({contextNode:e,features:t}){var n;const r=null!=this.scopedWindow,i=null!=t&&1==t.on("ftPostRedirectMacros"),o=null!=e&&null!=e.getAttribute(le.CALLBACK_IDENTIFIER.toString())&&ts.test(null!==(n=null==e?void 0:e.getAttribute(le.CALLBACK_IDENTIFIER.toString()))&&void 0!==n?n:"");return!!(r&&i&&o)}start({contextNode:e}){this.aggregator.on(Ke.ImpressionSent,(()=>{is({checkInterval:this.checkInterval,collectorTimeout:this.collectorTimeout,aggregator:this.aggregator,macros:this.macros,contextNode:e,scopedWindow:this.scopedWindow})}))}}class ss{constructor({contextNode:e,features:t,bootstrapper:n,macroCollector:r}){this.contextNode=e,this.features=t,this.macroCollectors=r||[new os({macros:n.ftMacros})]}start(){for(const e of this.macroCollectors)e.applies({contextNode:this.contextNode,features:this.features})&&e.start({contextNode:this.contextNode})}}const as=e=>{try{new cs(e)}catch(e){}};class cs{constructor(e){this.context=e,this.extractSignalsTriggered=!1,ue.getAggregator().on(Ke.StartViewabilityLoop,(()=>{this.extractSignalsTriggered||(this.extractSignalsTriggered=!0,Sn.setTimeout((()=>{this.extractSignals()}),250))}))}extractSignals(){const e=this.detectEngine();this.executeDomlessSafeFunctions(),this.context.isDomless()||this.executeDomDependentFunctions(e)}executeDomlessSafeFunctions(){try{us()}catch(e){}}executeDomDependentFunctions(e){try{ds(e)}catch(e){}}detectEngine(){return hs(this.context.isDomless())}}const ds=e=>{const t=[()=>fs(e),Is,As,Os,Ss,vs,ys,Ts,_s,Ds];"b"!==e&&"e"!==e&&"o"!==e||t.push(Cs),t.push(bs,$s,Ns);const n=e=>{if(e>=t.length)return;const r=t[e];if(r)try{r()}catch(e){}Sn.setTimeout((()=>n(e+1)),10)};n(0)},us=()=>{Es()},ls=function(e,t){ue.getAggregator().trigger(Ke.AddThrottledProp,"sca",e,t)},ms=(e,t)=>{try{const n=Object.getOwnPropertyDescriptor(e,t);return!!n&&"function"==typeof n.get}catch(e){return!1}},gs=(e,t)=>{try{const n=e=>{try{return void Date.prototype.getYear.call(e)}catch(e){let t=e.message+"";t=t.replace(/\r?\n/g,"");const n=t.indexOf("function");return-1!==n?t.substring(n).trim():t.trim()}},r=n((function(){return!0}));if(!((null==r?void 0:r.includes("RANDOM_STRING"))||!1)){let n=Function.prototype.toString.call(e);return n=n.replace(/\r?\n/g,""),!t.test(n)}const i=n(e);return!(!i||t.test(i))}catch(e){return!1}},ps=e=>e.replace(/[^A-Za-z0-9\-._~/|+*%]/g,""),fs=e=>{try{let t,n;const r=Error.prepareStackTrace,i=()=>{let e=!1,i=!1;try{t=new Error,Object.defineProperty(t,"stack",{configurable:!1,enumerable:!1,get:()=>(e=!0,"")});try{Error.prepareStackTrace=function(){return i=!0,""},Error.stackTraceLimit=0,n=new Error,console.debug(t,n)}catch(e){}finally{Error.prepareStackTrace=r,Error.stackTraceLimit=10}}catch(e){}return{cdpDetected:e,cdpUpdatedDetected:i}},o=()=>{try{throw new Error("")}catch(e){return(e.stack+"").includes("*")}},s={};if("g"!==e){const{cdpDetected:e,cdpUpdatedDetected:t}=i();e&&(s.cdp=ce.stringifyTriState(!0)),t&&(s.ndp=ce.stringifyTriState(!0)),(e||t)&&ls("bdp",ce(s).toION())}"g"===e&&o()&&(s.rdp=ce.stringifyTriState(!0),ls("bdp",ce(s).toION()))}catch(e){}},hs=e=>{var t,n,r,i,o;let s;if(e)s="d";else{s="u";try{const e=Sn.getWindow(),a=Sn.getDoc();s=ce.isDef(a.documentMode)?"t":ce.isDef(e.netscape)&&"MozAppearance"in a.documentElement.style?"g":ce.isDef(e.opera)||ce.isDef(e.opr)||ce.isDef(null===(t=e.chrome)||void 0===t?void 0:t.search)?"o":ce.isDef(e.Blob)&&-1!==e.Blob.prototype.toString().indexOf("BlobPrototype")?"h":ce.isDef(null===(n=e.external)||void 0===n?void 0:n.getHostEnvironmentValue)||ce.isDef(null===(r=a.documentElement)||void 0===r?void 0:r.style)&&-1!==Object.getOwnPropertyNames(a.documentElement.style).indexOf("msHighContrastAdjust")||ce.isDef(null===(i=e.speechSynthesis)||void 0===i?void 0:i.preload)?"e":(ce.isDef(e.chrome)||ce.isDef(e.PERSISTENT)||ce.isDef(null===(o=e.google)||void 0===o?void 0:o.gears))&&-1===Object.prototype.toString.call(HTMLElement).indexOf("Constructor")?"b":"webkitAppearance"in a.documentElement.style?"w":"u"}catch(e){s="u"}}return ls("eng",s),s},vs=()=>{const e={exs:(()=>{let e="";try{e=""+Sn.getWindow().external,e=""===e?"empty":e.replace(/[[\]\s]/g,""),e=ps(e.substring(0,50))}catch(t){e="err"}return e})()};ls("exr",ce(e).toION())},Es=()=>{const e={lts:(()=>{try{const e=new Date,t=e.getFullYear().toString(),n=("0"+(e.getMonth()+1)).slice(-2),r=("0"+e.getDate()).slice(-2),i=("0"+e.getHours()).slice(-2),o=("0"+e.getMinutes()).slice(-2);return`${t}-${n}-${r}${i}.${o}.${("0"+e.getSeconds()).slice(-2)}`}catch(e){return"err"}})(),tzo:(()=>{try{return(new Date).getTimezoneOffset()}catch(e){return-1}})(),tzn:(()=>{try{return ps(Intl.DateTimeFormat().resolvedOptions().timeZone)}catch(e){return"err"}})()};ls("tss",ce(e).toION())},Is=()=>{const e={ori:ce.stringifyTriState((()=>{let e=!1;try{e=ce.isDef(Sn.getWindow().orientation)}catch(t){e=!1}return e})()),ges:ce.stringifyTriState((()=>{let e=!1;try{const t=Sn.getWindow();e=ce.isDef(t.GestureEvent)}catch(t){e=!1}return e})()),tch:ce.stringifyTriState((()=>{let e=!1;try{e=ce.isDef(Sn.getWindow().ontouchstart)||navigator.maxTouchPoints>1}catch(t){e=!1}return e})())};ls("mob",ce(e).toION())},Ss=()=>{const e=Sn.getWindow(),t=[{key:"not",check:()=>!(!e.Notification&&!e.webkitNotifications)},{key:"csi",check:()=>{var t;return!!(null===(t=e.chrome)||void 0===t?void 0:t.csi)}},{key:"msl",check:()=>!!navigator.msLaunchUri},{key:"hdl",check:()=>!!e.HTMLDataListElement},{key:"aps",check:()=>!!e.ApplePaySession},{key:"hae",check:()=>!!e.HTMLAudioElement},{key:"ito",check:()=>!!e.IntersectionObserver},{key:"sec",check:()=>!!e.isSecureContext},{key:"pha",check:()=>!(!e.callPhantom&&!e._phantom),sendIfTrue:!0},{key:"plr",check:()=>!(!e.__pwInitScripts&&!e.__playwright__binding__),sendIfTrue:!0}],n={};for(const{key:e,check:r,sendIfTrue:i}of t)try{const t=r();if(i&&!t)continue;n[e]=ce.stringifyTriState(t)}catch(t){n[e]=ce.stringifyTriState(!1)}ls("prp",ce(n).toION())},As=()=>{try{const e=()=>{try{const e=Object.getOwnPropertyDescriptor(Navigator.prototype,"appName");return!(!e||!e.get)&&(e.get.call(navigator),!1)}catch(e){return!0}},t={};navigator!==clientInformation&&(t.nci=String(ce.stringifyTriState(!0))),e()&&(t.anc=String(ce.stringifyTriState(!0))),function(e){try{return Date.prototype.getFullYear.call(e),!0}catch(e){return!!e.stack.includes("Proxy.getFullYear")}}(navigator)&&(t.npx=String(ce.stringifyTriState(!0))),Object.keys(t).length>0&&ls("nic",ce(t).toION())}catch(e){}},ys=()=>{var e;let t,n=!1;try{const r=null===(e=Sn.getTop())||void 0===e?void 0:e.document,i=Object.getOwnPropertyDescriptor(r,"referrer");i&&"function"==typeof i.get&&(n=!0,t=i.get.toString().replace(/[\n\r]/g,"").substring(0,50),t=ps(t))}catch(e){n=!1}const r={};n&&(r.tam=String(ce.stringifyTriState(n)),t&&(r.ref=t)),Object.keys(r).length>0&&ls("ret",ce(r).toION())},Ts=()=>{try{const e=Sn.getDoc(),t=ms(e,"visibilityState"),n=ms(e,"hidden");let r=!1;if("undefined"!=typeof IntersectionObserverEntry){const e=Object.getOwnPropertyDescriptor(IntersectionObserverEntry.prototype,"isIntersecting");if(e&&"function"==typeof e.get){const t=/isIntersecting\s*\(\)\s*\{\s*\[native\s+code\]\s*\}/;r=gs(e.get,t)}}const i={};t&&(i.vis=String(ce.stringifyTriState(t))),n&&(i.hid=String(ce.stringifyTriState(n))),r&&(i.itt=String(ce.stringifyTriState(r))),Object.keys(i).length>0&&ls("viw",ce(i).toION())}catch(e){}},Os=()=>{try{const e=()=>{try{const e=Object.getOwnPropertyDescriptor(Navigator.prototype,"webdriver");if(e&&"function"==typeof e.get){const t=/^function\s+(?:get\s+)?webdriver\(\)\s*{\s*\[native code\]\s*}$/;return gs(e.get,t)}return!1}catch(e){return!1}},t={};(()=>{try{return navigator.hasOwnProperty("webdriver")}catch(e){return!1}})()&&(t.wop=String(ce.stringifyTriState(!0))),e()&&(t.wgt=String(ce.stringifyTriState(!0))),Object.keys(t).length>0&&ls("wdt",ce(t).toION())}catch(e){}},Ds=()=>{try{const e="ias-sb-10px",t=t=>{var n;let r=null;try{const i=null===(n=Sn.getTopmostAccessibleWindow())||void 0===n?void 0:n.document;if(!i)return null;const o=i.createElement("style");o.textContent="."+e+"::-webkit-scrollbar { width: 10px !important; }",(i.head||i.documentElement).appendChild(o);const s=i.createElement("div");s.classList.add(e);const a={left:"-10000px",top:"-10000px",width:"100px",height:"20px",visibility:"hidden"};t&&(a.overflow="scroll"),tn.styleElement(s,a);const c=i.createElement("div"),d={width:"100%",height:"1000px"};tn.styleElement(c,d),s.appendChild(c),i.body.appendChild(s);const u=s.offsetWidth,l=s.clientWidth;ce.isNumeric(u)&&ce.isNumeric(l)&&(r=u-l),s.parentNode&&s.parentNode.removeChild(s),o.parentNode&&o.parentNode.removeChild(o)}catch(e){}return r},n=t(!0),r=t(!1);if(ce.isNumeric(n)||ce.isNumeric(r)){const e={wit:ce.isNumeric(n)?n:"na",wot:ce.isNumeric(r)?r:"na"};ls("dvw",ce(e).toION())}}catch(e){}},_s=()=>{let e=0,t=0;try{let n=Sn.getWindow();const r=Sn.getTop();do{if(!n)break;if(n===r)break;const i=n.parent;e+=1;try{i.document}catch(e){t+=1}n=i}while(e<20)}catch(n){e=-2,t=-2}ls("ifr",ce({act:e,eff:t}).toION())};function Cs(){(function(){const e=Sn.getWindow().navigator;return e.userAgentData&&ce.isFunction(e.userAgentData.getHighEntropyValues)?e.userAgentData.getHighEntropyValues(["architecture","bitness","formFactor","model","platform","platformVersion","uaFullVersion","wow64"]).then((e=>["architecture","model","platformVersion","uaFullVersion","bitness"].every((t=>""===e[t])))).catch((()=>!1)):Promise.resolve(!1)})().then((e=>{if(e){const e={ent:ce.stringifyTriState(!0)};ls("uai",ce(e).toION())}})).catch((()=>{}))}const ws=e=>new Promise((t=>{var n;try{const r=null===(n=e.Notification)||void 0===n?void 0:n.permission;t(null!=r?r:"na")}catch(e){t("na")}})),bs=()=>{const e=Sn.getWindow();(null==e?void 0:e.isSecureContext)&&Promise.all([new Promise((e=>{navigator.permissions&&ce.isFunction(navigator.permissions.query)?navigator.permissions.query({name:"notifications"}).then((t=>e(t.state))).catch((()=>e("na"))):e("na")})),ws(e)]).then((([e,t])=>{ls("nit",ce({pqr:e,ntr:t}).toION())})).catch((()=>{}))},$s=()=>{try{const e=Sn.getDoc();if(!e)return;const t=(e=>{const t={probably:2,maybe:1,"":0},n=e.createElement("video");return['video/mp4;codecs="avc1.42E01E, mp4a.40.2"','video/mp4;codecs="avc1.58A01E, mp4a.40.2"','video/mp4;codecs="avc1.4D401E, mp4a.40.2"','video/mp4;codecs="avc1.64001E, mp4a.40.2"','video/mp4;codecs="mp4v.20.8, mp4a.40.2"','video/mp4;codecs="mp4v.20.240, mp4a.40.2"','video/3gpp;codecs="mp4v.20.8, samr"','video/ogg;codecs="theora, vorbis"','video/ogg;codecs="theora, speex"',"audio/ogg;codecs=vorbis","audio/ogg;codecs=speex","audio/ogg;codecs=flac",'video/ogg;codecs="dirac, vorbis"','video/x-matroska;codecs="theora, vorbis"','video/mp4; codecs="avc1.42E01E"','audio/mp4; codecs="mp4a.40.2"','audio/mpeg;codecs="mp3"','video/webm; codecs="vorbis,vp8"'].map((e=>{var r;const i=n.canPlayType(e);return null!==(r=t[i])&&void 0!==r?r:0}))})(e);ls("cdc",ce(t).toION())}catch(e){}},Ns=()=>{try{if(void 0===window.speechSynthesis)return;let e=0,t=0,n=0,r=!1,i=!1,o=!1;const s=window.speechSynthesis,a=(o,s=!1)=>{if(o.length>0){const a=new Set;t=o.filter((e=>!e.localService)).length,r=o.some((e=>e.name.includes("Chrome OS"))),e=o.length,o.forEach((e=>a.add(e.lang))),n=a.size,i=s,c()}},c=()=>{if(o)return;o=!0,s.onvoiceschanged=null;const a={vct:e,rct:t,lct:n,cos:ce.stringifyTriState(r),evt:ce.stringifyTriState(i)};ls("spc",ce(a).toION())},d=(e=!1)=>{const t=s.getVoices();(t.length>0||e)&&a(t,e)};d(),0===e&&(s.onvoiceschanged=()=>d(!0),Sn.setTimeout((()=>{o||d(!0)}),3e3))}catch(e){}};try{!function(){"use strict";var t,n,r,i,o,s,a,d;try{(()=>{const t=en.isDomless(),n=Sn.getWindow(),r=new ee({contextNodeElement:null==e?void 0:e.contextNode});te.addModel(r);const i=new z({isDomless:t,currentWindow:n,defaultBootstrapperConfig:e});te.addModel(i);const o=new u;te.addModel(o);const s=new q({isDomless:t,contextNode:r,measurementConfig:i});te.addModel(s);const a=i.isStaticFrameInFrame?new ee({contextNodeElement:null==e?void 0:e.currentScript}):r,d=new h({contextNode:a,adTag:s});te.addModel(d);const l=new m;te.addModel(l);const g=new br;te.addModel(g);const p=new K({bootstrapper:e});te.addModel(p);const f=new we;te.addModel(f);const v=new c({currentWindow:n});te.addModel(v)})()}catch(e){}e.perf.markStart(me),te.measurementConfig.set("mainBirthdate",te.measurementConfig.birthdate?(new Date).getTime()-te.measurementConfig.birthdate:-1),es(),ue.startSystem();var l=ue.getAggregator();o={},s={},l.provide({[Xe.OmidAdSessionContext]:o}),l.provide({[Xe.OmidAdSessionVerificationParameters]:s}),te.measurementConfig.isResolved&&l.provide(Xe.Features,ln()),l.provide(Xe.Browser,(new Dt).createInstance());var g=l.provide(Xe.AncestorOrigins,yt());l.provide(Xe.PageURLS,(new On).createInstance(g,Sn)),t=an(),n=En(),r=(new wt).createInstance(t,n),i=gn(),l.provide({[Xe.Errors]:t,[Xe.JSONP]:n,[Xe.Communication]:r,[Xe.IDS]:i}),a=__IASOmidVerificationClient,l.provide({[Xe.OmidVerificationClient]:a}),d=[{environment:Ar(a),adSessionReadyStrategy:Or(a)},{environment:Dr(),adSessionReadyStrategy:Cr()}],new Tr(d).resolve().adSessionReadyStrategy.start(),e.perf.markEnd(me)}()}catch(t){__IntegralASDiagnosticCall("main",t,e)}};try{!function(){var e=__IntegralASConfig.useFIF?__IASScope.parent:__IASScope;try{top.__IntegralASAdPush=function(t){(t||top.isSingleIASInstance&&top.iasAdSlots).forEach((function(t){__IntegralASConfig._cl_adpath=t.adSelector,__IntegralASConfig.iasParameters=t.iasParameters,__IntegralASConfig.initialize(__IntegralASConfig,e,e.document)}))},top.isSingleIASInstance&&top.iasAdSlots?top.__IntegralASAdPush():__IntegralASConfig.initialize(__IntegralASConfig,e,e.document)}catch(t){__IntegralASConfig.initialize(__IntegralASConfig,e,e.document)}}()}catch(e){__IntegralASDiagnosticCall("initialize",e,__IntegralASConfig)}